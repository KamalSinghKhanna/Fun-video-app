/*! For license information please see main.19784e75.js.LICENSE.txt */
!function(){var e={318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},237:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.Z=o},488:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.Z=o},52:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message");t.Z=o},28:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}),"MusicNote");t.Z=o},580:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(966)},966:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u},createChainedFunction:function(){return s},createSvgIcon:function(){return Lr},debounce:function(){return Mr},deprecatedPropType:function(){return Fr},isMuiElement:function(){return Ur},ownerDocument:function(){return jr},ownerWindow:function(){return zr},requirePropFactory:function(){return Br},setRef:function(){return Kr},unstable_ClassNameGenerator:function(){return ci},unstable_useEnhancedEffect:function(){return Gr},unstable_useId:function(){return Qr},unsupportedProp:function(){return Yr},useControlled:function(){return $r},useEventCallback:function(){return Xr},useForkRef:function(){return ei},useIsFocusVisible:function(){return si}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=n(791),f=n.t(l,2);function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function p(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r}function v(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=c({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function m(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return m(e)&&m(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(m(t[i])&&i in e&&m(e[i])?r[i]=y(e[i],t[i],n):r[i]=t[i])})),r}var g=n(942),k=["values","unit","step"];function b(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=h(e,k),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return c({},e,(0,g.Z)({},t.key,t.val))}),{})}(n),l=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return c({keys:l,values:s,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var w={borderRadius:4},x=n(439),_={xs:0,sm:600,md:900,lg:1200,xl:1536},I={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(_[e],"px)")}};function S(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||I;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||I;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||_).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function E(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function T(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function C(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function A(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:C(e,n)||i,t&&(r=t(r)),r}var N=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=C(e.theme,i)||{};return S(e,n,(function(e){var n=A(u,a,e);return e===n&&"string"===typeof e&&(n=A(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,g.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var R=function(e,t){return t?y(e,t,{clone:!1}):e};var D={m:"margin",p:"padding"},P={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},O={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!O[e])return[e];e=O[e]}var t=e.split(""),n=(0,x.Z)(t,2),r=n[0],i=n[1],a=D[r],o=P[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),M=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],F=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],U=[].concat(M,F);function V(e,t,n,r){var i,a=null!=(i=C(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function j(e){return V(e,"spacing",8)}function z(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function B(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=z(t,n),e}),{})}}(L(n),r);return S(e,e[n],i)}function q(e,t){var n=j(e.theme);return Object.keys(e).map((function(r){return B(e,t,r,n)})).reduce(R,{})}function K(e){return q(e,M)}function W(e){return q(e,F)}function G(e){return q(e,U)}K.propTypes={},K.filterProps=M,W.propTypes={},W.filterProps=F,G.propTypes={},G.filterProps=U;var H=G;function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=j({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Q=["breakpoints","palette","spacing","shape"];var Y=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=h(e,Q),l=b(n),f=Z(a),d=y({breakpoints:l,direction:"ltr",components:{},palette:c({mode:"light"},i),spacing:f,shape:c({},w,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return d=v.reduce((function(e,t){return y(e,t)}),d)};var $=l.createContext(null);function X(){return l.useContext($)}function J(e){return 0===Object.keys(e).length}var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=X();return!t||J(t)?e:t},te=Y();var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return ee(e)};function re(e,t){var n;return c({toolbar:(n={minHeight:56},(0,g.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,g.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function ae(e){if(e.type)return e;if("#"===e.charAt(0))return ae(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function oe(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function ue(e){var t="hsl"===(e=ae(e)).type?ae(function(e){var t=(e=ae(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),oe({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function se(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return oe(e)}function ce(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return oe(e)}var le={black:"#000",white:"#fff"},fe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},he={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},de={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ve={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},me={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ye={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ge=["mode","contrastThreshold","tonalOffset"],ke={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:le.white,default:le.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},be={text:{primary:le.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:le.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function we(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ce(e.main,i):"dark"===t&&(e.dark=se(e.main,a)))}function xe(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=h(e,ge),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ve[200],light:ve[50],dark:ve[400]}:{main:ve[700],light:ve[400],dark:ve[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:he[200],light:he[50],dark:he[400]}:{main:he[500],light:he[300],dark:he[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:de[500],light:de[300],dark:de[700]}:{main:de[700],light:de[400],dark:de[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:me[400],light:me[300],dark:me[700]}:{main:me[700],light:me[500],dark:me[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ye[400],light:ye[300],dark:ye[700]}:{main:ye[800],light:ye[500],dark:ye[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pe[400],light:pe[300],dark:pe[700]}:{main:"#ed6c02",light:pe[500],dark:pe[900]}}(n);function g(e){var t=function(e,t){var n=ue(e),r=ue(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,be.text.primary)>=i?be.text.primary:ke.text.primary;return t}var k=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=c({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return we(t,"light",s,u),we(t,"dark",f,u),t.contrastText||(t.contrastText=g(t.main)),t},b={dark:be,light:ke};return y(c({common:c({},le),mode:n,primary:k({color:l,name:"primary"}),secondary:k({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:d,name:"error"}),warning:k({color:m,name:"warning"}),info:k({color:p,name:"info"}),success:k({color:v,name:"success"}),grey:fe,contrastThreshold:i,getContrastText:g,augmentColor:k,tonalOffset:u},b[n]),s)}var _e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Ie={textTransform:"uppercase"},Se='"Roboto", "Helvetica", "Arial", sans-serif';function Ee(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Se:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=h(n,_e);var _=o/14,I=w||function(e){return"".concat(e/k*_,"rem")},S=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:I(t),lineHeight:n},i===Se?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},E={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(f,48,1.167,0),h4:S(f,34,1.235,.25),h5:S(f,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(f,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(f,16,1.5,.15),body2:S(f,14,1.43,.15),button:S(p,14,1.75,.4,Ie),caption:S(f,12,1.66,.4),overline:S(f,12,2.66,1,Ie)};return y(c({htmlFontSize:k,pxToRem:I,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},E),x,{clone:!1})}function Te(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ce=["none",Te(0,2,1,-1,0,1,1,0,0,1,3,0),Te(0,3,1,-2,0,2,2,0,0,1,5,0),Te(0,3,3,-2,0,3,4,0,0,1,8,0),Te(0,2,4,-1,0,4,5,0,0,1,10,0),Te(0,3,5,-1,0,5,8,0,0,1,14,0),Te(0,3,5,-1,0,6,10,0,0,1,18,0),Te(0,4,5,-2,0,7,10,1,0,2,16,1),Te(0,5,5,-3,0,8,10,1,0,3,14,2),Te(0,5,6,-3,0,9,12,1,0,3,16,2),Te(0,6,6,-3,0,10,14,1,0,4,18,3),Te(0,6,7,-4,0,11,15,1,0,4,20,3),Te(0,7,8,-4,0,12,17,2,0,5,22,4),Te(0,7,8,-4,0,13,19,2,0,5,24,4),Te(0,7,9,-4,0,14,21,2,0,5,26,4),Te(0,8,9,-5,0,15,22,2,0,6,28,5),Te(0,8,10,-5,0,16,24,2,0,6,30,5),Te(0,8,11,-5,0,17,26,2,0,6,32,5),Te(0,9,11,-5,0,18,28,2,0,7,34,6),Te(0,9,12,-6,0,19,29,2,0,7,36,6),Te(0,10,13,-6,0,20,31,3,0,8,38,7),Te(0,10,13,-6,0,21,33,3,0,8,40,7),Te(0,10,14,-6,0,22,35,3,0,8,42,7),Te(0,11,14,-7,0,23,36,3,0,9,44,8),Te(0,11,15,-7,0,24,38,3,0,9,46,8)],Ae=["duration","easing","delay"],Ne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Re={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function De(e){return"".concat(Math.round(e),"ms")}function Pe(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Oe(e){var t=c({},Ne,e.easing),n=c({},Re,e.duration);return c({getAutoHeightDuration:Pe,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;h(r,Ae);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:De(a)," ").concat(u," ").concat("string"===typeof c?c:De(c))})).join(",")}},e,{easing:t,duration:n})}var Le={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Me=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,l=h(e,Me),f=xe(i),d=Y(e),p=y(d,{mixins:re(d.breakpoints,n),palette:f,shadows:Ce.slice(),typography:Ee(f,s),transitions:Oe(o),zIndex:c({},Le)});p=y(p,l);for(var v=arguments.length,m=new Array(v>1?v-1:0),g=1;g<v;g++)m[g-1]=arguments[g];return p=m.reduce((function(e,t){return y(e,t)}),p)}var Ue=Fe();function Ve(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return v({theme:ne(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:Ue})}var je=n(433);var ze=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Be=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qe=ze((function(e){return Be.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Ke=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),We=Math.abs,Ge=String.fromCharCode,He=Object.assign;function Ze(e){return e.trim()}function Qe(e,t,n){return e.replace(t,n)}function Ye(e,t){return e.indexOf(t)}function $e(e,t){return 0|e.charCodeAt(t)}function Xe(e,t,n){return e.slice(t,n)}function Je(e){return e.length}function et(e){return e.length}function tt(e,t){return t.push(e),e}var nt=1,rt=1,it=0,at=0,ot=0,ut="";function st(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:nt,column:rt,length:o,return:""}}function ct(e,t){return He(st("",null,null,"",null,null,0),e,{length:-e.length},t)}function lt(){return ot=at>0?$e(ut,--at):0,rt--,10===ot&&(rt=1,nt--),ot}function ft(){return ot=at<it?$e(ut,at++):0,rt++,10===ot&&(rt=1,nt++),ot}function ht(){return $e(ut,at)}function dt(){return at}function pt(e,t){return Xe(ut,e,t)}function vt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mt(e){return nt=rt=1,it=Je(ut=e),at=0,[]}function yt(e){return ut="",e}function gt(e){return Ze(pt(at-1,wt(91===e?e+2:40===e?e+1:e)))}function kt(e){for(;(ot=ht())&&ot<33;)ft();return vt(e)>2||vt(ot)>3?"":" "}function bt(e,t){for(;--t&&ft()&&!(ot<48||ot>102||ot>57&&ot<65||ot>70&&ot<97););return pt(e,dt()+(t<6&&32==ht()&&32==ft()))}function wt(e){for(;ft();)switch(ot){case e:return at;case 34:case 39:34!==e&&39!==e&&wt(ot);break;case 40:41===e&&wt(e);break;case 92:ft()}return at}function xt(e,t){for(;ft()&&e+ot!==57&&(e+ot!==84||47!==ht()););return"/*"+pt(t,at-1)+"*"+Ge(47===e?e:ft())}function _t(e){for(;!vt(ht());)ft();return pt(e,at)}var It="-ms-",St="-moz-",Et="-webkit-",Tt="comm",Ct="rule",At="decl",Nt="@keyframes";function Rt(e,t){for(var n="",r=et(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Dt(e,t,n,r){switch(e.type){case"@import":case At:return e.return=e.return||e.value;case Tt:return"";case Nt:return e.return=e.value+"{"+Rt(e.children,r)+"}";case Ct:e.value=e.props.join(",")}return Je(n=Rt(e.children,r))?e.return=e.value+"{"+n+"}":""}function Pt(e,t){switch(function(e,t){return(((t<<2^$e(e,0))<<2^$e(e,1))<<2^$e(e,2))<<2^$e(e,3)}(e,t)){case 5103:return Et+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+e+St+e+It+e+e;case 6828:case 4268:return Et+e+It+e+e;case 6165:return Et+e+It+"flex-"+e+e;case 5187:return Et+e+Qe(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Et+e+It+"flex-item-"+Qe(e,/flex-|-self/,"")+e;case 4675:return Et+e+It+"flex-line-pack"+Qe(e,/align-content|flex-|-self/,"")+e;case 5548:return Et+e+It+Qe(e,"shrink","negative")+e;case 5292:return Et+e+It+Qe(e,"basis","preferred-size")+e;case 6060:return Et+"box-"+Qe(e,"-grow","")+Et+e+It+Qe(e,"grow","positive")+e;case 4554:return Et+Qe(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Qe(Qe(Qe(e,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),e,"")+e;case 5495:case 3959:return Qe(e,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return Qe(Qe(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+e+e;case 4095:case 3583:case 4068:case 2532:return Qe(e,/(.+)-inline(.+)/,Et+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Je(e)-1-t>6)switch($e(e,t+1)){case 109:if(45!==$e(e,t+4))break;case 102:return Qe(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+St+(108==$e(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ye(e,"stretch")?Pt(Qe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==$e(e,t+1))break;case 6444:switch($e(e,Je(e)-3-(~Ye(e,"!important")&&10))){case 107:return Qe(e,":",":"+Et)+e;case 101:return Qe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Et+(45===$e(e,14)?"inline-":"")+"box$3$1"+Et+"$2$3$1"+It+"$2box$3")+e}break;case 5936:switch($e(e,t+11)){case 114:return Et+e+It+Qe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Et+e+It+Qe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Et+e+It+Qe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Et+e+It+e+e}return e}function Ot(e){return yt(Lt("",null,null,null,[""],e=mt(e),0,[0],e))}function Lt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=ft()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=Ye(_+=Qe(gt(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=gt(g);break;case 9:case 10:case 13:case 32:_+=kt(p);break;case 92:_+=bt(dt()-1,7);continue;case 47:switch(ht()){case 42:case 47:tt(Ft(xt(ft(),dt()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=Je(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&Je(_)-f&&tt(d>32?Ut(_+";",r,n,f-1):Ut(Qe(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(tt(x=Mt(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)Lt(_,t,x,x,b,a,f,u,w);else switch(h){case 100:case 109:case 115:Lt(e,x,x,r&&tt(Mt(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:Lt(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+Je(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==lt())continue;switch(_+=Ge(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(Je(_)-1)*y,y=1;break;case 64:45===ht()&&(_+=gt(ft())),h=ht(),l=f=Je(k=_+=_t(dt())),g++;break;case 45:45===p&&2==Je(_)&&(v=0)}}return a}function Mt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=et(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Xe(e,f+1,f=We(v=o[p])),k=e;y<d;++y)(k=Ze(v>0?h[y]+" "+g:Qe(g,/&\f/g,h[y])))&&(s[m++]=k);return st(e,t,n,0===i?Ct:u,s,c,l)}function Ft(e,t,n){return st(e,t,n,Tt,Ge(ot),Xe(e,2,-2),0)}function Ut(e,t,n,r){return st(e,t,n,At,Xe(e,0,r),Xe(e,r+1,-1),r)}var Vt=function(e,t,n){for(var r=0,i=0;r=i,i=ht(),38===r&&12===i&&(t[n]=1),!vt(i);)ft();return pt(e,at)},jt=function(e,t){return yt(function(e,t){var n=-1,r=44;do{switch(vt(r)){case 0:38===r&&12===ht()&&(t[n]=1),e[n]+=Vt(at-1,t,n);break;case 2:e[n]+=gt(r);break;case 4:if(44===r){e[++n]=58===ht()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ge(r)}}while(r=ft());return e}(mt(e),t))},zt=new WeakMap,Bt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||zt.get(n))&&!r){zt.set(e,!0);for(var i=[],a=jt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},qt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Kt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case At:e.return=Pt(e.value,e.length);break;case Nt:return Rt([ct(e,{value:Qe(e.value,"@","@"+Et)})],r);case Ct:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Rt([ct(e,{props:[Qe(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Rt([ct(e,{props:[Qe(t,/:(plac\w+)/,":-webkit-input-$1")]}),ct(e,{props:[Qe(t,/:(plac\w+)/,":-moz-$1")]}),ct(e,{props:[Qe(t,/:(plac\w+)/,It+"input-$1")]})],r)}return""}))}}],Wt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Kt;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Dt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=et(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([Bt,qt].concat(r,l));a=function(e,t,n,r){s=n,Rt(Ot(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Ke({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Gt=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Ht={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zt=/[A-Z]|^ms/g,Qt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yt=function(e){return 45===e.charCodeAt(1)},$t=function(e){return null!=e&&"boolean"!==typeof e},Xt=ze((function(e){return Yt(e)?e:e.replace(Zt,"-$&").toLowerCase()})),Jt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Qt,(function(e,t,n){return tn={name:t,styles:n,next:tn},t}))}return 1===Ht[e]||Yt(e)||"number"!==typeof t||0===t?t:t+"px"};function en(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return tn={name:n.name,styles:n.styles,next:tn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)tn={name:r.name,styles:r.styles,next:tn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=en(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":$t(o)&&(r+=Xt(a)+":"+Jt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=en(e,t,o);switch(a){case"animation":case"animationName":r+=Xt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)$t(o[s])&&(r+=Xt(a)+":"+Jt(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=tn,a=n(e);return tn=i,en(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var tn,nn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var rn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";tn=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=en(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=en(n,t,e[o]),r&&(i+=a[o]);nn.lastIndex=0;for(var u,s="";null!==(u=nn.exec(i));)s+="-"+u[1];return{name:Gt(i)+s,styles:i,next:tn}},an=(0,l.createContext)("undefined"!==typeof HTMLElement?Wt({key:"css"}):null);an.Provider;var on=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(an);return e(t,r,n)}))},un=(0,l.createContext)({});f.useInsertionEffect&&f.useInsertionEffect;function sn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var cn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ln=qe,fn=function(e){return"theme"!==e},hn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ln:fn},dn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},pn=f.useInsertionEffect?f.useInsertionEffect:function(e){e()};var vn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;cn(t,n,r);var i;i=function(){return function(e,t,n){cn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},pn(i);return null},mn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=dn(t,n,a),s=u||hn(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=on((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,l.useContext)(un)}"string"===typeof e.className?a=sn(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=rn(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===u?hn(r):s,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(vn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,l.createElement)(r,y))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,c({},n,r,{shouldForwardProp:dn(m,r,!0)})).apply(void 0,d)},m}},yn=mn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){yn[e]=yn(e)}));var gn=yn;function kn(e,t){return gn(e,t)}var bn=["variant"];function wn(e){return 0===e.length}function xn(e){var t=e.variant,n=h(e,bn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?wn(r)?e[t]:o(e[t]):"".concat(wn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var _n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?R(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function In(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Sn=N({prop:"border",themeKey:"borders",transform:In}),En=N({prop:"borderTop",themeKey:"borders",transform:In}),Tn=N({prop:"borderRight",themeKey:"borders",transform:In}),Cn=N({prop:"borderBottom",themeKey:"borders",transform:In}),An=N({prop:"borderLeft",themeKey:"borders",transform:In}),Nn=N({prop:"borderColor",themeKey:"palette"}),Rn=N({prop:"borderTopColor",themeKey:"palette"}),Dn=N({prop:"borderRightColor",themeKey:"palette"}),Pn=N({prop:"borderBottomColor",themeKey:"palette"}),On=N({prop:"borderLeftColor",themeKey:"palette"}),Ln=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=V(e.theme,"shape.borderRadius",4);return S(e,e.borderRadius,(function(e){return{borderRadius:z(t,e)}}))}return null};Ln.propTypes={},Ln.filterProps=["borderRadius"];var Mn=_n(Sn,En,Tn,Cn,An,Nn,Rn,Dn,Pn,On,Ln),Fn=_n(N({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),N({prop:"display"}),N({prop:"overflow"}),N({prop:"textOverflow"}),N({prop:"visibility"}),N({prop:"whiteSpace"})),Un=_n(N({prop:"flexBasis"}),N({prop:"flexDirection"}),N({prop:"flexWrap"}),N({prop:"justifyContent"}),N({prop:"alignItems"}),N({prop:"alignContent"}),N({prop:"order"}),N({prop:"flex"}),N({prop:"flexGrow"}),N({prop:"flexShrink"}),N({prop:"alignSelf"}),N({prop:"justifyItems"}),N({prop:"justifySelf"})),Vn=function(e){if(void 0!==e.gap&&null!==e.gap){var t=V(e.theme,"spacing",8);return S(e,e.gap,(function(e){return{gap:z(t,e)}}))}return null};Vn.propTypes={},Vn.filterProps=["gap"];var jn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=V(e.theme,"spacing",8);return S(e,e.columnGap,(function(e){return{columnGap:z(t,e)}}))}return null};jn.propTypes={},jn.filterProps=["columnGap"];var zn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=V(e.theme,"spacing",8);return S(e,e.rowGap,(function(e){return{rowGap:z(t,e)}}))}return null};zn.propTypes={},zn.filterProps=["rowGap"];var Bn=_n(Vn,jn,zn,N({prop:"gridColumn"}),N({prop:"gridRow"}),N({prop:"gridAutoFlow"}),N({prop:"gridAutoColumns"}),N({prop:"gridAutoRows"}),N({prop:"gridTemplateColumns"}),N({prop:"gridTemplateRows"}),N({prop:"gridTemplateAreas"}),N({prop:"gridArea"})),qn=_n(N({prop:"position"}),N({prop:"zIndex",themeKey:"zIndex"}),N({prop:"top"}),N({prop:"right"}),N({prop:"bottom"}),N({prop:"left"})),Kn=_n(N({prop:"color",themeKey:"palette"}),N({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),N({prop:"backgroundColor",themeKey:"palette"})),Wn=N({prop:"boxShadow",themeKey:"shadows"});function Gn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Hn=N({prop:"width",transform:Gn}),Zn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return S(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||_[t]||Gn(t)}}))}return null};Zn.filterProps=["maxWidth"];var Qn=N({prop:"minWidth",transform:Gn}),Yn=N({prop:"height",transform:Gn}),$n=N({prop:"maxHeight",transform:Gn}),Xn=N({prop:"minHeight",transform:Gn}),Jn=(N({prop:"size",cssProperty:"width",transform:Gn}),N({prop:"size",cssProperty:"height",transform:Gn}),_n(Hn,Zn,Qn,Yn,$n,Xn,N({prop:"boxSizing"}))),er=N({prop:"fontFamily",themeKey:"typography"}),tr=N({prop:"fontSize",themeKey:"typography"}),nr=N({prop:"fontStyle",themeKey:"typography"}),rr=N({prop:"fontWeight",themeKey:"typography"}),ir=N({prop:"letterSpacing"}),ar=N({prop:"textTransform"}),or=N({prop:"lineHeight"}),ur=N({prop:"textAlign"}),sr=_n(N({prop:"typography",cssProperty:!1,themeKey:"typography"}),er,tr,nr,rr,ir,or,ur,ar),cr={borders:Mn.filterProps,display:Fn.filterProps,flexbox:Un.filterProps,grid:Bn.filterProps,positions:qn.filterProps,palette:Kn.filterProps,shadows:Wn.filterProps,sizing:Jn.filterProps,spacing:H.filterProps,typography:sr.filterProps},lr={borders:Mn,display:Fn,flexbox:Un,grid:Bn,positions:qn,palette:Kn,shadows:Wn,sizing:Jn,spacing:H,typography:sr};Object.keys(cr).reduce((function(e,t){return cr[t].forEach((function(n){e[n]=lr[t]})),e}),{});function fr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function hr(e,t){return"function"===typeof e?e(t):e}var dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,g.Z)(i,e,n),(0,g.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,g.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=E(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=hr(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=R(s,n(e,a,u));else{var o=S({theme:u},a,(function(t){return(0,g.Z)({},e,t)}));fr(o,a)?s[e]=r({sx:a,theme:u}):s=R(s,o)}else s=R(s,n(e,a,u))})),T(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();dr.filterProps=["sx"];var pr=dr,vr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],mr=["theme"],yr=["theme"];function gr(e){return 0===Object.keys(e).length}var kr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},br=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=xn(e.props);r[t]=e.style})),r},wr=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[xn(n.props)])})),s};function xr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var _r=Y();var Ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?_r:t,r=e.rootShouldForwardProp,i=void 0===r?xr:r,a=e.slotShouldForwardProp,o=void 0===a?xr:a,u=e.styleFunctionSx,s=void 0===u?pr:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,l=r.skipVariantsResolver,f=r.skipSx,d=r.overridesResolver,p=h(r,vr),v=void 0!==l?l:u&&"Root"!==u||!1,m=f||!1;var y=xr;"Root"===u?y=i:u&&(y=o);var g=kn(e,c({shouldForwardProp:y,label:t},p)),k=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=h(t,mr);return e(c({theme:gr(r)?n:r},i))}:e})):[],u=e;a&&d&&o.push((function(e){var t=gr(e.theme)?n:e.theme,r=kr(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=(0,x.Z)(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(c({},e,{theme:t})):o})),d(e,i)}return null})),a&&!v&&o.push((function(e){var t=gr(e.theme)?n:e.theme;return wr(e,br(a,t),t,a)})),m||o.push((function(e){var t=gr(e.theme)?n:e.theme;return s(c({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var f=new Array(l).fill("");(u=[].concat((0,je.Z)(e),(0,je.Z)(f))).raw=[].concat((0,je.Z)(e.raw),(0,je.Z)(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=h(t,yr);return e(c({theme:gr(r)?n:r},i))});var p=g.apply(void 0,[u].concat((0,je.Z)(o)));return p};return g.withConfig&&(k.withConfig=g.withConfig),k}}({defaultTheme:Ue,rootShouldForwardProp:function(e){return xr(e)&&"classes"!==e}}),Sr=Ir,Er={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Tr(e,t){return Er[t]||"".concat(i.generate(e),"-").concat(t)}function Cr(e){return Tr("MuiSvgIcon",e)}!function(e,t){var n={};t.forEach((function(t){n[t]=Tr(e,t)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Ar=n(184),Nr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Rr=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},Cr,r)},Dr=Sr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),Pr=l.forwardRef((function(e,t){var n=Ve({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,l=n.fontSize,f=void 0===l?"medium":l,d=n.htmlColor,v=n.inheritViewBox,m=void 0!==v&&v,y=n.titleAccess,g=n.viewBox,k=void 0===g?"0 0 24 24":g,b=h(n,Nr),w=c({},n,{color:o,component:s,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:k}),x={};m||(x.viewBox=k);var _=Rr(w);return(0,Ar.jsxs)(Dr,c({as:s,className:p(_.root,i),ownerState:w,focusable:"false",color:d,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},x,b,{children:[r,y?(0,Ar.jsx)("title",{children:y}):null]}))}));Pr.muiName="SvgIcon";var Or=Pr;function Lr(e,t){var n=function(n,r){return(0,Ar.jsx)(Or,c({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=Or.muiName,l.memo(l.forwardRef(n))}var Mr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var Fr=function(e,t){return function(){return null}};var Ur=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function Vr(e){return e&&e.ownerDocument||document}var jr=Vr;var zr=function(e){return Vr(e).defaultView||window};var Br=function(e,t){return function(){return null}};function qr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var Kr=qr,Wr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,Gr=Wr,Hr=0;var Zr=f.useId;var Qr=function(e){if(void 0!==Zr){var t=Zr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,x.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(Hr+=1))}),[r]),a}(e)};var Yr=function(e,t,n,r,i){return null};var $r=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,x.Z)(i,2),o=a[0],u=a[1];return[r?t:o,l.useCallback((function(e){r||u(e)}),[])]};var Xr=function(e){var t=l.useRef(e);return Wr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var Jr,ei=function(e,t){return l.useMemo((function(){return null==e&&null==t?null:function(n){qr(e,n),qr(t,n)}}),[e,t])},ti=!0,ni=!1,ri={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ii(e){e.metaKey||e.altKey||e.ctrlKey||(ti=!0)}function ai(){ti=!1}function oi(){"hidden"===this.visibilityState&&ni&&(ti=!0)}function ui(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ti||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ri[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var si=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",ii,!0),t.addEventListener("mousedown",ai,!0),t.addEventListener("pointerdown",ai,!0),t.addEventListener("touchstart",ai,!0),t.addEventListener("visibilitychange",oi,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!ui(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(ni=!0,window.clearTimeout(Jr),Jr=window.setTimeout((function(){ni=!1}),100),t.current=!1,!0)},ref:e}},ci={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.configure(e)}}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){$(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Dt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Nt&&Ut(Nt)&&(Nt=null),Rt.forEach(Vt),Dt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Qt(e,t,n,r);if(null===i)Kr(e,t,r,Zt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Kr(e,t,r,Zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Zt=null;function Qt(e,t,n,r){if(Zt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Rn),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Zn(e){Ur(e,0)}function Qn(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];Wn(t,Hn,e,we(e)),Re(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Z(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Or=Rr[Pr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Zr(o,u,s,l,!1),null!==c&&null!==f&&Zr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if($n)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Jt=Xt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ai),Si(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ei(Ci,e)):Si(Ai),Ei(Ai,n)}var Ui=null,Vi=!1,ji=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Je,Bi),i}finally{kt=t,ji=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=Ii(null),Gi=null,Hi=null,Zi=null;function Qi(){Zi=Hi=Gi=null}function Yi(e){var t=Wi.current;Si(Wi),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){Gi=e,Zi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(Zi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Gi)throw Error(a(308));Hi=e,Gi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$s(),i=Xs(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Js(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$s(),i=Xs(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Js(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$s(),r=Xs(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Js(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ji(a):(i=Di(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ji(a):(a=Di(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,ba=0,wa=[],xa=0,_a=null,Ia=1,Sa="";function Ea(e,t){ya[ga++]=ba,ya[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){wa[xa++]=Ia,wa[xa++]=Sa,wa[xa++]=_a,_a=e;var r=Ia;e=Sa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ia=1<<32-ot(t)+i|n<<i|r,Sa=a+e}else Ia=1<<a|n<<i|r,Sa=e}function Ca(e){null!==e.return&&(Ea(e,1),Ta(e,1,0))}function Aa(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,ba=ya[--ga],ya[ga]=null;for(;e===_a;)_a=wa[--xa],wa[xa]=null,Sa=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null}var Na=null,Ra=null,Da=!1,Pa=null;function Oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Na=e,Ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Na=e,Ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Ia,overflow:Sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Na=e,Ra=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Da){var t=Ra;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Na;t&&La(e,t)?Oa(r,n):(e.flags=-4097&e.flags|2,Da=!1,Na=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Da=!1,Na=e}}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function Va(e){if(e!==Na)return!1;if(!Da)return Ua(e),Da=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Ra)){if(Ma(e)){for(e=Ra;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Oa(e,t),t=ci(t.nextSibling)}if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ra=null}}else Ra=Na?ci(e.stateNode.nextSibling):null;return!0}function ja(){Ra=Na=null,Da=!1}function za(e){null===Pa?Pa=[e]:Pa.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ka(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Oc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Da&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Da&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Da&&Ea(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Da&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Da&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Da&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ba(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Oc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ba(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ga=Wa(!0),Ha=Wa(!1),Za={},Qa=Ii(Za),Ya=Ii(Za),$a=Ii(Za);function Xa(e){if(e===Za)throw Error(a(174));return e}function Ja(e,t){switch(Ei($a,t),Ei(Ya,e),Ei(Qa,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Qa),Ei(Qa,t)}function eo(){Si(Qa),Si(Ya),Si($a)}function to(e){Xa($a.current);var t=Xa(Qa.current),n=se(t,e.type);t!==n&&(Ei(Ya,e),Ei(Qa,n))}function no(e){Ya.current===e&&(Si(Qa),Si(Ya))}var ro=Ii(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function Io(e,t){return"function"===typeof t?t(e):t}function So(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Ps|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ps|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Vo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Oo(9,No.bind(null,n,r,i,t),void 0,null),null===Es)throw Error(a(349));0!==(30&co)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Js(e,1,-1)}function Ro(e,t,n){return n((function(){Do(t)&&Js(e,1,-1)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Po(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,lo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Oo(t,n,a,r))}lo.flags|=e,i.memoizedState=Oo(1|t,n,a,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function Vo(e,t){return Fo(2048,8,e,t)}function jo(e,t){return Fo(4,2,e,t)}function zo(e,t){return Fo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Bo.bind(null,t,e),n)}function Ko(){}function Wo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Ps|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function Qo(){return _o().memoizedState}function Yo(e,t,n){var r=Xs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Jo(t,n):(eu(e,t,n),null!==(e=Js(e,r,n=$s()))&&tu(e,t,r))}function $o(e,t,n){var r=Xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Jo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Js(e,r,n=$s()))&&tu(e,t,r)}}function Xo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Jo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Ji,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Ji,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Ji,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Po,useDebugValue:Ko,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Zo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Da){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Es)throw Error(a(349));0!==(30&co)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Es.identifierPrefix;if(Da){var n=Sa;t=":"+t+"R"+(n=(Ia&~(1<<32-ot(Ia)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Ji,useCallback:Wo,useContext:Ji,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:jo,useLayoutEffect:zo,useMemo:Go,useReducer:So,useRef:Lo,useState:function(){return So(Io)},useDebugValue:Ko,useDeferredValue:function(e){return Ho(_o(),fo.memoizedState,e)},useTransition:function(){return[So(Io)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1},au={readContext:Ji,useCallback:Wo,useContext:Ji,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:jo,useLayoutEffect:zo,useMemo:Go,useReducer:Eo,useRef:Lo,useState:function(){return Eo(Io)},useDebugValue:Ko,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Ho(t,fo.memoizedState,e)},useTransition:function(){return[Eo(Io)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Bs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Di(t.type)&&Pi(),gu(t),null;case 3:return r=t.stateNode,eo(),Si(Ai),Si(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Pa&&(ac(Pa),Pa=null))),gu(t),null;case 5:no(t);var i=Xa($a.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Xa(Qa.current),Va(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),J(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa($a.current),Xa(Qa.current),Va(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Si(ro),r=t.memoizedState,Da&&null!==Ra&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ra;r;)r=ci(r.nextSibling);return ja(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Va(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else ja(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Pa&&(ac(Pa),Pa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Va(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Rs&&(Rs=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&Br(t.stateNode.containerInfo),gu(t),null;case 10:return Yi(t.type._context),gu(t),null;case 19:if(Si(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Vs&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Da)return gu(t),null}else 2*$e()-o.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=ro.current,Ei(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&As)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Qa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var bu=b.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Ga(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Xi(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||wu?(Da&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ns,As),As|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ns,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ns,As),As|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ns,As),As|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Di(n)?Ni:Ci.current;return a=Ri(t,a),Xi(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||wu?(Da&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Au(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ji(c):c=Ri(t,c=Di(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ki(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ji(s):s=Ri(t,s=Di(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ja(e,t.containerInfo)}function Du(e,t,n,r,i){return ja(),za(i),t.flags|=256,xu(e,t,n,r),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Oc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ou(n),t.memoizedState=Pu,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,ju(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Oc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Ou(n),t.memoizedState=Pu,u);if(0===(1&t.mode))t=ju(e,t,n,null);else if("$!"===r.data)t=ju(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Es)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Js(e,i,-1))}pc(),t=ju(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ra=ci(r.nextSibling),Na=t,Da=!0,Pa=null,null!==n&&(wa[xa++]=Ia,wa[xa++]=Sa,wa[xa++]=_a,Ia=n.id,Sa=n.overflow,_a=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){var i=e.child;return e=i.sibling,n=Dc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Vu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Dc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Dc(o,r):(r=Oc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ju(e,t,n,r){return null!==r&&za(r),Ga(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ps|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){switch(Aa(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Si(Ai),Si(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Si(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ja()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gu=!1,Hu=!1,Zu="function"===typeof WeakSet?WeakSet:Set,Qu=null;function Yu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function $u(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Xu=!1;function Ju(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&$u(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Hu||Yu(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Hu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&$u(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Hu&&(Yu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Hu=(r=Hu)||null!==n.memoizedState,cs(e,t,n),Hu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Ju(3,e,e.return),es(3,e)}catch(v){_c(e,e.return,v)}try{Ju(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Us=$e()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hu=(f=Hu)||l,hs(t,e),Hu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for(Qu=e,e=e.child;null!==e;){for(l=Qu=e;null!==Qu;){switch(h=(f=Qu).child,f.tag){case 0:case 11:case 14:case 15:Ju(4,f,f.return);break;case 1:if(Yu(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:Yu(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,Qu=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){Qu=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==Qu;){var i=Qu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Hu;u=Gu;var c=Hu;if(Gu=o,(Hu=s)&&!c)for(Qu=i;null!==Qu;)s=(o=Qu).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,Qu=s):ks(i);for(;null!==a;)Qu=a,ms(a,t,n),a=a.sibling;Qu=i,Gu=u,Hu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qu=a):ys(e)}}function ys(e){for(;null!==Qu;){var t=Qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Hu||512&t.flags&&ts(t)}catch(d){_c(t,t.return,d)}}if(t===e){Qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qu=n;break}Qu=t.return}}function gs(e){for(;null!==Qu;){var t=Qu;if(t===e){Qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qu=n;break}Qu=t.return}}function ks(e){for(;null!==Qu;){var t=Qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{ts(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Qu=u;break}Qu=t.return}}var bs,ws=Math.ceil,xs=b.ReactCurrentDispatcher,_s=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,Ss=0,Es=null,Ts=null,Cs=0,As=0,Ns=Ii(0),Rs=0,Ds=null,Ps=0,Os=0,Ls=0,Ms=null,Fs=null,Us=0,Vs=1/0,js=null,zs=!1,Bs=null,qs=null,Ks=!1,Ws=null,Gs=0,Hs=0,Zs=null,Qs=-1,Ys=0;function $s(){return 0!==(6&Ss)?$e():-1!==Qs?Qs:Qs=$e()}function Xs(e){return 0===(1&e.mode)?1:0!==(2&Ss)&&0!==Cs?Cs&-Cs:null!==qi.transition?(0===Ys&&(Ys=vt()),Ys):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Js(e,t,n){if(50<Hs)throw Hs=0,Zs=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Ss)&&r===Es||(r===Es&&(0===(2&Ss)&&(Os|=t),4===Rs&&oc(r,Cs)),nc(r,n),1===t&&0===Ss&&0===(1&e.mode)&&(Vs=$e()+500,Vi&&Bi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Es||null!==ea)&&0!==(1&e.mode)&&0===(2&Ss)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Es?Cs:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===Ss&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Qs=-1,Ys=0,0!==(6&Ss))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Es?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Ss;Ss|=2;var o=dc();for(Es===e&&Cs===t||(js=null,Vs=$e()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}Qi(),xs.current=o,Ss=i,null!==Ts?t=0:(Es=null,Cs=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ds,fc(e,0),oc(e,r),nc(e,$e()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ds,fc(e,0),oc(e,r),nc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Fs,js);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Us+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){$s(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Fs,js),t);break}bc(e,Fs,js);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Fs,js),r);break}bc(e,Fs,js);break;default:throw Error(a(329))}}}return nc(e,$e()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Ls,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Ss))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ds,fc(e,0),oc(e,t),nc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Fs,js),nc(e,$e()),null}function sc(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&(Vs=$e()+500,Vi&&Bi())}}function cc(e){null!==Ws&&0===Ws.tag&&0===(6&Ss)&&wc();var t=Ss;Ss|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Ss=t))&&Bi()}}function lc(){As=Ns.current,Si(Ns)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Aa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:eo(),Si(Ai),Si(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Si(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Es=e,Ts=e=Dc(e.current,null),Cs=As=t,Rs=0,Ds=null,Ls=Os=Ps=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if(Qi(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_s.current=null,null===n||null===n.return){Rs=1,Ds=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Da&&1&s.mode){var y=vu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),za(c);break e}}o=c,4!==Rs&&(Rs=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qs||!qs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(b){t=b,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Es||0===(268435455&Ps)&&0===(268435455&Os)||oc(Es,Cs)}function vc(e,t){var n=Ss;Ss|=2;var r=dc();for(Es===e&&Cs===t||(js=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(Qi(),Ss=n,xs.current=r,null!==Ts)throw Error(a(261));return Es=null,Cs=0,Rs}function mc(){for(;null!==Ts;)gc(Ts)}function yc(){for(;null!==Ts&&!Qe();)gc(Ts)}function gc(e){var t=bs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,As)))return void(Ts=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Rs=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Rs&&(Rs=5)}function bc(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Ws);if(0!==(6&Ss))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Es&&(Ts=Es=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=kt;kt=1;var s=Ss;Ss|=4,_s.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Qu=t;null!==Qu;)if(e=(t=Qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qu=e;else for(;null!==Qu;){t=Qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ki(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qu=e;break}Qu=t.return}v=Xu,Xu=!1}(e,n),ds(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),Ye(),Ss=s,kt=u,Is.transition=o}else e.current=n;if(Ks&&(Ks=!1,Ws=e,Gs=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zs)throw zs=!1,e=Bs,Bs=null,e;0!==(1&Gs)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Zs?Hs++:(Hs=0,Zs=e):Hs=0,Bi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function wc(){if(null!==Ws){var e=bt(Gs),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Gs=0,0!==(6&Ss))throw Error(a(331));var i=Ss;for(Ss|=4,Qu=e.current;null!==Qu;){var o=Qu,u=o.child;if(0!==(16&Qu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Qu=l;null!==Qu;){var f=Qu;switch(f.tag){case 0:case 11:case 15:Ju(8,f,o)}var h=f.child;if(null!==h)h.return=f,Qu=h;else for(;null!==Qu;){var d=(f=Qu).sibling,p=f.return;if(ns(f),f===l){Qu=null;break}if(null!==d){d.return=p,Qu=d;break}Qu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Qu=u;else e:for(;null!==Qu;){if(0!==(2048&(o=Qu).flags))switch(o.tag){case 0:case 11:case 15:Ju(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Qu=g;break e}Qu=o.return}}var k=e.current;for(Qu=k;null!==Qu;){var b=(u=Qu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Qu=b;else e:for(u=k;null!==Qu;){if(0!==(2048&(s=Qu).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Qu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Qu=w;break e}Qu=s.return}}if(Ss=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=$s(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=$s(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$s(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Cs&n)===n&&(4===Rs||3===Rs&&(130023424&Cs)===Cs&&500>$e()-Us?fc(e,0):Ls|=n),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=$s();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Cc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Oc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Nc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Nc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function jc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=ia(r=$s(),i=Xs(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=$s(),o=Xs(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Js(i,o,a))&&oa(e,i,o),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}bs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),ja();break;case 5:to(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ei(ro,1&ro.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Da&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ri(t,Ci.current);Xi(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,Da&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Au(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,Ki(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Du(e,t,r,n,i=Error(a(424)));break e}for(Ra=ci(t.stateNode.containerInfo.firstChild),Na=t,Da=!0,Pa=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ja(),r===i){t=Ku(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(Wi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),$i(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),$i(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Ji(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),Iu(e,t,r,i=Ki(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Xi(t,n),pa(t,r,i),ma(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Qc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Qc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,$e()),0===(6&Ss)&&(Vs=$e()+500,Bi()))}break;case 13:var r=$s();cc((function(){return Js(e,1,r)})),Gc(e,1)}},xt=function(e){13===e.tag&&(Js(e,134217728,$s()),Gc(e,134217728))},_t=function(e){if(13===e.tag){var t=$s(),n=Xs(e);Js(e,n,t),Gc(e,n)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ae=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return jc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=N,_=function(){D.postMessage(null)}}else _=function(){y(N,0)};function P(e){S=e,I||(I=!0,_())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".4c026eef.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="newsapp:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunknewsapp=self.webpackChunknewsapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ce},SDK_VERSION:function(){return xt},_DEFAULT_ENTRY_NAME:function(){return ct},_addComponent:function(){return dt},_addOrOverwriteComponent:function(){return pt},_apps:function(){return ft},_clearComponents:function(){return gt},_components:function(){return ht},_getProvider:function(){return mt},_registerComponent:function(){return vt},_removeServiceInstance:function(){return yt},deleteApp:function(){return Et},getApp:function(){return It},getApps:function(){return St},initializeApp:function(){return _t},onLog:function(){return At},registerVersion:function(){return Ct},setLogLevel:function(){return Nt}});var t=n(791),r=n(250),i=n(439),a=n(28),o=n(7),u=function(e,t){var n=void 0;return function(){var r=this,i=arguments,a=function(){return e.apply(r,i)};clearTimeout(n),n=setTimeout(a,t)}},s=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};function c(e){var t=0;return e.forEach((function(e){e.rect&&e.rect.height>t&&(t=e.rect.height)})),t}function l(e){var t=e.rect,n=e.mode,r=(e.prevOffset,e.position),i=e.direction,a=e.width;return"chain"===n&&("toRight"===i?r.from>0:t.width+r.from<=a)}function f(e){var t=e.mode,n=e.from,r=e.direction,i=e.rect,a=e.width,o=n||0;switch(t){case"await":return"toRight"===r?a:-i.width;case"smooth":return"toRight"===r?i.width>a?0:a-i.width:i.width>a?a-i.width:0;default:return"toRight"===r?0:i.width+o>a?a-i.width:a-i.left-i.width}}var h=function(e){var t=e.mode,n=e.index,r=e.rect,i=e.offset,a=e.width,o=e.direction,u=function(e){var t=e.index,n=e.rect,r=e.offset,i=e.width,a=e.direction;return 0===t?r:"number"===typeof r?function(e){var t=e.rect,n=e.offset;return"toRight"===e.direction?n-t.width:n}({rect:n,offset:r,direction:a}):"toRight"===a?-n.width:i}({index:n,rect:r,offset:i,width:a,direction:o}),s=function(e){var t=e.rect,n=e.width;return"toRight"===e.direction?n:-t.width}({rect:r,width:a,direction:o});return{from:u,to:s,next:f({mode:t,from:u,direction:o,rect:r,width:a})}};function d(e){var t=e.from,n=e.rect;return"toRight"===e.direction?t:t+n.width}function p(e){var t=e.offset,n=e.rect,r=e.direction,i=e.width;if("run-in"===t)return"toRight"===r?-n.width:i;if("string"===typeof t){var a=Number(t.replace("%",""));if(a)return i/100*a}return t}var v=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},k=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},b=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},w=function(e){function n(){var e,r,i;v(this,n);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return r=i=k(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),i.state={children:i.props.children({index:i.props.index}),move:i.props.move,position:{from:void 0,to:void 0,next:void 0},offset:i.props.offset,rect:null},i.x=0,i.isMoving=!1,i.nextTriggered=!1,i.elementRef=t.createRef(),i.raf=null,i.componentDidMount=function(){i.setPosition(!0),i.observer=new MutationObserver(i.onMutation),i.observer.observe(i.elementRef.current,{characterData:!0,childList:!0,subtree:!0})},i.componentWillUnmount=function(){i.observer.disconnect()},i.onMutation=function(){i.setPosition()},i.componentDidUpdate=function(e,t){i.x||t.position.from===i.state.position.from||(i.x=i.state.position.from,i.elementRef.current.style.transform="translate3d("+i.x+"px, 0, 0)"),i.x!==i.state.position.from&&e.prevRect&&i.props.prevRect&&e.prevRect.width!==i.props.prevRect.width&&(i.props.offset?i.x=i.x+(i.props.offset-e.offset):i.x=i.x+(i.props.prevRect.width-e.prevRect.width),i.elementRef.current.style.transform="translate3d("+i.x+"px, 0, 0)"),i.props.move&&!e.start&&i.props.start&&i.animate(),i.props.start&&!e.move&&i.props.move&&i.animate(),e.move&&!i.props.move&&(i.isMoving=!1,window.cancelAnimationFrame(i.raf))},i.setPosition=function(e){var t=i.props,n=t.mode,r=t.width,a=t.id,o=t.onNext,u=t.direction,s=t.index,c=t.setRect,f=i.elementRef.current.getBoundingClientRect();if(0!==f.width){var v=0===i.props.index?p({offset:i.props.offset,rect:f,direction:u,width:r}):i.props.offset,m=h({mode:n,rect:f,index:s,offset:v,width:r,direction:u});if(c({index:i.props.index,rect:f,offset:v,nextOffset:d({from:m.from,rect:f,direction:u})}),e){var y=l({mode:n,rect:f,position:m,offset:v,direction:u,width:r});y&&o({id:a,index:s,rect:f,nextOffset:d({from:m.from,rect:f,direction:u})}),y||!v&&0!==s||o({id:a,index:s,rect:f}),i.nextTriggered=y}i.setState({rect:f,offset:v,position:m})}},i.shouldTriggerNext=function(){return!i.nextTriggered&&("toLeft"===i.props.direction?i.x<=i.state.position.next:i.x>=i.state.position.next)},i.triggerNext=function(){i.shouldTriggerNext()&&(i.nextTriggered=!0,i.props.onNext({id:i.props.id,index:i.props.index,rect:i.state.rect}))},i.shouldFinish=function(){return"toRight"===i.props.direction?i.x>=i.state.position.to:i.x<=i.state.position.to},i.animate=function(){if(!i.isMoving){i.isMoving=!0;var e=null;i.raf=window.requestAnimationFrame((function t(n){if(i.isMoving&&i.elementRef.current){var r=e?n-e:0;i.x="toLeft"===i.props.direction?i.x-r/100*i.props.speed:i.x+r/100*i.props.speed,i.elementRef.current.style.transform="translate3d("+i.x+"px, 0, 0)",i.triggerNext(),i.shouldFinish()?(i.isMoving=!1,e=null,i.props.onFinish(i.props.id)):(e=n,i.raf=window.requestAnimationFrame(t))}}))}},i.render=function(){return t.createElement("div",{className:"ticker__element",style:{willChange:"transform",position:"absolute",left:0,top:0,transform:"translate3d("+i.x+"px, 0, 0)"},ref:i.elementRef},i.state.children)},k(i,r)}return g(n,e),n}(t.Component);w.propTypes={children:(0,o.oneOfType)([o.node,o.func]).isRequired,direction:o.string.isRequired,speed:o.number.isRequired,id:o.string.isRequired,index:o.number.isRequired,mode:o.string.isRequired,move:o.bool.isRequired,onNext:o.func.isRequired,onFinish:o.func.isRequired,setRect:o.func.isRequired,start:o.bool.isRequired,offset:(0,o.oneOfType)([o.number,o.string]),prevRect:o.object,width:o.number},w.defaultProps={offset:void 0,width:void 0,prevRect:null};var x=function(e,t){return{elements:[{id:s(),index:0,height:0,start:!1,offset:e,rect:null,prevRect:null}],width:t,height:0}},_=function(e){function n(){var e,r,i;v(this,n);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=i=k(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),i.next=null,i.state=x(i.props.offset),i.tickerRef=t.createRef(),i.dOnResize=u((function(){return i.onResize()}),150),i.componentDidMount=function(){i.setState({width:i.tickerRef.current.offsetWidth,height:i.props.height}),window.addEventListener("resize",i.dOnResize)},i.componentWillUnmount=function(){window.removeEventListener("resize",i.dOnResize)},i.setRect=function(e){var t=e.index,n=e.rect,r=(e.offset,e.nextOffset);i.setState((function(e){var a=e.elements.map((function(e){var i=e;return e.index===t&&(i.rect=n),e.index===t+1&&(i.prevRect=n,i.offset&&(i.offset=r)),i}));return{elements:a,height:i.props.height?e.height:c(a)}}))},i.onResize=function(){i.tickerRef.current&&i.tickerRef.current.offsetWidth!==i.state.width&&i.setState(y({},x(i.props.offset,i.tickerRef.current.offsetWidth),{height:i.props.height}))},i.onFinish=function(e){i.props.onFinish(),i.setState((function(t){return{elements:t.elements.filter((function(t){return t.id!==e}))}}))},i.onNext=function(e){e.id;var t=e.index,n=e.rect,r=e.nextOffset;i.props.onNext(t),i.setState((function(e){return{elements:[].concat(b(e.elements.map((function(e){var r=e;return e.index===t&&(r.rect=n),(0===e.index||e.offset||r.index===t+1)&&(r.start=!0),r}))),[{id:s(),index:e.elements[e.elements.length-1].index+1,height:0,start:!1,offset:r,rect:null,prevRect:n}])}}))},k(i,r)}return g(n,e),m(n,[{key:"render",value:function(){var e=this;return t.createElement("div",{className:"ticker",ref:this.tickerRef,style:{position:"relative",overflow:"hidden",height:this.state.height&&this.state.height+"px"}},this.state.width&&this.state.elements.map((function(n){return t.createElement(w,{key:n.id,id:n.id,index:n.index,start:n.start,offset:n.offset,prevRect:n.prevRect,direction:e.props.direction,mode:e.props.mode,move:e.props.move,speed:e.props.speed,onFinish:e.onFinish,onNext:e.onNext,setRect:e.setRect,width:e.state.width},e.props.children)})))}}]),n}(t.Component);_.propTypes={children:(0,o.oneOfType)([o.node,o.func]).isRequired,direction:o.string,mode:o.string,move:o.bool,offset:(0,o.oneOfType)([o.number,o.string]),speed:o.number,height:(0,o.oneOfType)([o.number,o.string]),onNext:o.func,onFinish:o.func},_.defaultProps={offset:0,speed:5,direction:"toLeft",mode:"chain",move:!0,height:void 0,onNext:function(){},onFinish:function(){}};var I=_,S=n(184);var E=function(e){var t=e.channel,n=e.description,r=e.song;return(0,S.jsxs)("div",{className:"videoFooter",children:[(0,S.jsxs)("div",{className:"videoFooter__text",children:[(0,S.jsxs)("h3",{children:["@",t]}),(0,S.jsx)("p",{children:n}),(0,S.jsxs)("div",{className:"videoFooter__ticker",children:[(0,S.jsx)(a.Z,{className:"videoFooter__icon"}),(0,S.jsx)(I,{mode:"smooth",children:function(e){e.index;return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("p",{children:r})})}})]})]}),(0,S.jsx)("img",{className:"videoFooter__record",src:"https://static.thenounproject.com/png/934821-200.png",alt:""})]})},T=n(237),C=n(488),A=n(52),N=n(580);var R=function(e){var n=e.likes,r=e.shares,a=e.messages,o=(0,t.useState)(!1),u=(0,i.Z)(o,2),s=u[0],c=u[1];return(0,S.jsx)("div",{className:"videoSidebar",children:(0,S.jsxs)("div",{className:"videoSidebar__button",children:[s?(0,S.jsx)(T.Z,{fontSize:"large",onClick:function(e){return c(!1)}}):(0,S.jsx)(C.Z,{fontSize:"large",onClick:function(e){return c(!0)}}),(0,S.jsx)("p",{children:s?n+1:n}),(0,S.jsx)(A.Z,{fontSize:"large"}),(0,S.jsx)("p",{children:a}),(0,S.jsx)(N.Z,{fontSize:"large"}),(0,S.jsx)("p",{children:r})]})})};var D=function(e){var n=e.url,r=e.channel,a=e.description,o=e.song,u=e.likes,s=e.messages,c=e.shares,l=(0,t.useState)(!1),f=(0,i.Z)(l,2),h=f[0],d=f[1],p=(0,t.useRef)(null);return(0,S.jsxs)("div",{className:"video",children:[(0,S.jsx)("video",{className:"video__player",loop:!0,ref:p,onClick:function(){h?(p.current.pause(),d(!1)):(p.current.play(),d(!0))},src:n}),(0,S.jsx)(E,{channel:r,description:a,song:o}),(0,S.jsx)(R,{likes:u,messages:s,shares:c})]})},P=n(942);function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var F=n(181);function U(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,F.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function z(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function W(e,t){if(t&&("object"===K(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}function G(e){var t=q();return function(){var n,r=B(e);if(t){var i=B(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W(this,n)}}function H(e,t,n){return H=q()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&j(i,n.prototype),i},H.apply(null,arguments)}function Z(e){var t="function"===typeof Map?new Map:void 0;return Z=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return H(e,arguments,B(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),j(n,e)},Z(e)}var Q=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Q(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},$=function(e){return function(e){var t=Q(e);return Y.encodeByteArray(t,!0)}(e).replace(/\./g,"")},X=function(e){try{return Y.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function J(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=J(e[n],t[n]));return e}var ee=function(){function e(){var t=this;O(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return M(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function te(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$(JSON.stringify({alg:"none",type:"JWT"})),$(JSON.stringify(a)),""].join(".")}function ne(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function re(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function ie(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ae(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function oe(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ue(){var e=ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function se(){return"object"===typeof indexedDB}var ce=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(V(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(V(a),le.prototype.create),a}return M(n)}(Z(Error)),le=function(){function e(t,n,r){O(this,e),this.service=t,this.serviceName=n,this.errors=r}return M(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?fe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ce(n,a,t);return o}}]),e}();function fe(e,t){return e.replace(he,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var he=/\{\$([^}]+)}/g;function de(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pe(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ve(u)&&ve(s)){if(!pe(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ve(e){return null!==e&&"object"===typeof e}function me(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function ye(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function ge(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ke(e,t){var n=new be(e,t);return n.subscribe.bind(n)}var be=function(){function e(t,n){var r=this;O(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return M(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=U(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=we),void 0===r.error&&(r.error=we),void 0===r.complete&&(r.complete=we);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function we(){}function xe(e){return e&&e._delegate?e._delegate:e}function _e(){_e=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==K(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Ie=n(433);function Se(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Se(a,r,i,o,u,"next",e)}function u(e){Se(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Te=function(){function e(t,n,r){O(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return M(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ce="[DEFAULT]",Ae=function(){function e(t,n){O(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return M(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ee;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(c){}var t,n=U(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],o=r[1],u=this.normalizeInstanceIdentifier(a);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,Ie.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,Ie.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=U(this.instancesDeferred.entries());try{for(u.s();!(a=u.n()).done;){var s=(0,i.Z)(a.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=U(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Dx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ce?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Dx){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce;return this.component?this.component.multipleInstances?e:Ce:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ne,Re,De=function(){function e(t){O(this,e),this.name=t,this.providers=new Map}return M(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ae(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Pe=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Re||(Re={}));var Oe={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Le=Re.INFO,Me=(Ne={},(0,P.Z)(Ne,Re.DEBUG,"log"),(0,P.Z)(Ne,Re.VERBOSE,"log"),(0,P.Z)(Ne,Re.INFO,"info"),(0,P.Z)(Ne,Re.WARN,"warn"),(0,P.Z)(Ne,Re.ERROR,"error"),Ne),Fe=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Me[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ue=function(){function e(t){O(this,e),this.name=t,this._logLevel=Le,this._logHandler=Fe,this._userLogHandler=null,Pe.push(this)}return M(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Re))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Oe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.DEBUG].concat(t)),this._logHandler.apply(this,[this,Re.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Re.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.INFO].concat(t)),this._logHandler.apply(this,[this,Re.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.WARN].concat(t)),this._logHandler.apply(this,[this,Re.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Re.ERROR].concat(t)),this._logHandler.apply(this,[this,Re.ERROR].concat(t))}}]),e}();function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze,Be;var qe=new WeakMap,Ke=new WeakMap,We=new WeakMap,Ge=new WeakMap,He=new WeakMap;var Ze={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ke.get(e);if("objectStoreNames"===t)return e.objectStoreNames||We.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $e(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Qe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Xe(this),n),$e(qe.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $e(e.apply(Xe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Xe(this),t].concat(r));return We.set(a,t.sort?t.sort():[t]),$e(a)}}function Ye(e){return"function"===typeof e?Qe(e):(e instanceof IDBTransaction&&function(e){if(!Ke.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ke.set(e,t)}}(e),t=e,(ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ze):e);var t}function $e(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t($e(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&qe.set(t,e)})).catch((function(){})),He.set(t,e),t}(e);if(Ge.has(e))return Ge.get(e);var t=Ye(e);return t!==e&&(Ge.set(e,t),He.set(t,e)),t}var Xe=function(e){return He.get(e)};var Je,et,tt=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],rt=new Map;function it(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(rt.get(t))return rt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=nt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||tt.includes(n))){var a=function(){var e=Ee(_e().mark((function e(t){var a,o,u,s,c,l,f=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return rt.set(t,a),a}}}Ze=function(e){return je(je({},e),{},{get:function(t,n,r){return it(t,n)||e.get(t,n,r)},has:function(t,n){return!!it(t,n)||e.has(t,n)}})}(Ze);var at=function(){function e(t){O(this,e),this.container=t}return M(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ot="@firebase/app",ut="0.7.25",st=new Ue("@firebase/app"),ct="[DEFAULT]",lt=(Je={},(0,P.Z)(Je,ot,"fire-core"),(0,P.Z)(Je,"@firebase/app-compat","fire-core-compat"),(0,P.Z)(Je,"@firebase/analytics","fire-analytics"),(0,P.Z)(Je,"@firebase/analytics-compat","fire-analytics-compat"),(0,P.Z)(Je,"@firebase/app-check","fire-app-check"),(0,P.Z)(Je,"@firebase/app-check-compat","fire-app-check-compat"),(0,P.Z)(Je,"@firebase/auth","fire-auth"),(0,P.Z)(Je,"@firebase/auth-compat","fire-auth-compat"),(0,P.Z)(Je,"@firebase/database","fire-rtdb"),(0,P.Z)(Je,"@firebase/database-compat","fire-rtdb-compat"),(0,P.Z)(Je,"@firebase/functions","fire-fn"),(0,P.Z)(Je,"@firebase/functions-compat","fire-fn-compat"),(0,P.Z)(Je,"@firebase/installations","fire-iid"),(0,P.Z)(Je,"@firebase/installations-compat","fire-iid-compat"),(0,P.Z)(Je,"@firebase/messaging","fire-fcm"),(0,P.Z)(Je,"@firebase/messaging-compat","fire-fcm-compat"),(0,P.Z)(Je,"@firebase/performance","fire-perf"),(0,P.Z)(Je,"@firebase/performance-compat","fire-perf-compat"),(0,P.Z)(Je,"@firebase/remote-config","fire-rc"),(0,P.Z)(Je,"@firebase/remote-config-compat","fire-rc-compat"),(0,P.Z)(Je,"@firebase/storage","fire-gcs"),(0,P.Z)(Je,"@firebase/storage-compat","fire-gcs-compat"),(0,P.Z)(Je,"@firebase/firestore","fire-fst"),(0,P.Z)(Je,"@firebase/firestore-compat","fire-fst-compat"),(0,P.Z)(Je,"fire-js","fire-js"),(0,P.Z)(Je,"firebase","fire-js-all"),Je),ft=new Map,ht=new Map;function dt(e,t){try{e.container.addComponent(t)}catch(n){st.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function pt(e,t){e.container.addOrOverwriteComponent(t)}function vt(e){var t=e.name;if(ht.has(t))return st.debug("There were multiple attempts to register component ".concat(t,".")),!1;ht.set(t,e);var n,r=U(ft.values());try{for(r.s();!(n=r.n()).done;){dt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function mt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ct;mt(e,t).clearInstance(n)}function gt(){ht.clear()}var kt=(et={},(0,P.Z)(et,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,P.Z)(et,"bad-app-name","Illegal App name: '{$appName}"),(0,P.Z)(et,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,P.Z)(et,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,P.Z)(et,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,P.Z)(et,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,P.Z)(et,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,P.Z)(et,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,P.Z)(et,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,P.Z)(et,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),et),bt=new le("app","Firebase",kt),wt=function(){function e(t,n,r){var i=this;O(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Te("app",(function(){return i}),"PUBLIC"))}return M(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}]),e}(),xt="9.8.2";function _t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ct,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw bt.create("bad-app-name",{appName:String(i)});var a=ft.get(i);if(a){if(pe(e,a.options)&&pe(r,a.config))return a;throw bt.create("duplicate-app",{appName:i})}var o,u=new De(i),s=U(ht.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new wt(e,r,u);return ft.set(i,l),l}function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=ft.get(e);if(!t)throw bt.create("no-app",{appName:e});return t}function St(){return Array.from(ft.values())}function Et(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ft.has(n)){e.next=6;break}return ft.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e,t,n){var r,i=null!==(r=lt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void st.warn(u.join(" "))}vt(new Te("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function At(e,t){if(null!==e&&"function"!==typeof e)throw bt.create("invalid-log-argument");!function(e,t){var n,r=U(Pe);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Oe[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Re[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Nt(e){var t;t=e,Pe.forEach((function(e){e.setLogLevel(t)}))}var Rt="firebase-heartbeat-store",Dt=null;function Pt(){return Dt||(Dt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=$e(u);return i&&u.addEventListener("upgradeneeded",(function(e){i($e(u.result),e.oldVersion,e.newVersion,$e(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Rt)}}).catch((function(e){throw bt.create("storage-open",{originalErrorMessage:e.message})}))),Dt}function Ot(e){return Lt.apply(this,arguments)}function Lt(){return Lt=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt();case 3:return n=e.sent,e.abrupt("return",n.transaction(Rt).objectStore(Rt).get(Ut(t)));case 7:throw e.prev=7,e.t0=e.catch(0),bt.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Lt.apply(this,arguments)}function Mt(e,t){return Ft.apply(this,arguments)}function Ft(){return Ft=Ee(_e().mark((function e(t,n){var r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt();case 3:return r=e.sent,i=r.transaction(Rt,"readwrite"),a=i.objectStore(Rt),e.next=8,a.put(n,Ut(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),bt.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ft.apply(this,arguments)}function Ut(e){return"".concat(e.name,"!").concat(e.options.appId)}var Vt=function(){function e(t){var n=this;O(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Kt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return M(e,[{key:"triggerHeartbeat",value:function(){var e=Ee(_e().mark((function e(){var t,n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=jt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ee(_e().mark((function e(){var t,n,r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=jt(),n=zt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=$(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jt(){return(new Date).toISOString().substring(0,10)}function zt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=U(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Wt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Wt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Bt,qt,Kt=function(){function e(t){O(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return M(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ot(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,Ie.Z)(r.heartbeats),(0,Ie.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Wt(e){return $(JSON.stringify({version:2,heartbeats:e})).length}Bt="",vt(new Te("platform-logger",(function(e){return new at(e)}),"PRIVATE")),vt(new Te("heartbeat",(function(e){return new Vt(e)}),"PRIVATE")),Ct(ot,ut,Bt),Ct(ot,ut,"esm2017"),Ct("fire-js","");var Gt=function(){function e(t,n){var r=this;O(this,e),this._delegate=t,this.firebase=n,dt(t,new Te("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return M(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Et(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){dt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){pt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ht=(qt={},(0,P.Z)(qt,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,P.Z)(qt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qt),Zt=new le("app-compat","Firebase",Ht);var Qt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=_t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(de(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ct,setLogLevel:Nt,onLog:At,apps:null,SDK_VERSION:xt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(vt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Zt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&J(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!de(n,e=e||ct))throw Zt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Gt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){J(n,e)},createSubscribe:ke,ErrorFactory:le,deepExtend:J}),n}(),Yt=new Ue("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Yt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $t=self.firebase.SDK_VERSION;$t&&$t.indexOf("LITE")>=0&&Yt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Xt=Qt;!function(e){Ct("@firebase/app-compat","0.1.26",e)}();Xt.registerVersion("firebase","9.8.2","app-compat");var Jt=n(878),en=n(199),tn=n(267);function nn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function rn(){return rn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=nn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rn.apply(this,arguments)}function an(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var on;Object.create;var un="facebook.com",sn="github.com",cn="google.com",ln="password",fn="twitter.com",hn="EMAIL_SIGNIN",dn="PASSWORD_RESET",pn="RECOVER_EMAIL",vn="REVERT_SECOND_FACTOR_ADDITION",mn="VERIFY_AND_CHANGE_EMAIL",yn="VERIFY_EMAIL";function gn(){return(0,P.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var kn=function(){var e;return e={},(0,P.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,P.Z)(e,"argument-error",""),(0,P.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,P.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,P.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,P.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,P.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,P.Z)(e,"cors-unsupported","This browser is not supported."),(0,P.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,P.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,P.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,P.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,P.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,P.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,P.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,P.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,P.Z)(e,"expired-action-code","The action code has expired."),(0,P.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,P.Z)(e,"internal-error","An internal AuthError has occurred."),(0,P.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,P.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,P.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,P.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,P.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,P.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,P.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,P.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,P.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,P.Z)(e,"invalid-email","The email address is badly formatted."),(0,P.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,P.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,P.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,P.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,P.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,P.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,P.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,P.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,P.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,P.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,P.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,P.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,P.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,P.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,P.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,P.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,P.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,P.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,P.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,P.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,P.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,P.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,P.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,P.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,P.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,P.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,P.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,P.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,P.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,P.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,P.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,P.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,P.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,P.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,P.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,P.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,P.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,P.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,P.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,P.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,P.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,P.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,P.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,P.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,P.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,P.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,P.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,P.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,P.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,P.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,P.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,P.Z)(e,"timeout","The operation has timed out."),(0,P.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,P.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,P.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,P.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,P.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,P.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,P.Z)(e,"unverified-email","The operation requires a verified email."),(0,P.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,P.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,P.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,P.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,P.Z)(e,"user-signed-out",""),(0,P.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,P.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,P.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},bn=gn,wn=new le("auth","Firebase",gn()),xn=new Ue("@firebase/auth");function _n(e){if(xn.logLevel<=Re.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xn.error.apply(xn,["Auth (".concat(xt,"): ").concat(e)].concat(n))}}function In(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Cn.apply(void 0,[e].concat(n))}function Sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cn.apply(void 0,[e].concat(n))}function En(e,t,n){var r=Object.assign(Object.assign({},bn()),(0,P.Z)({},t,n));return new le("auth","Firebase",r).create(t,{appName:e.name})}function Tn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&In(e,"argument-error"),En(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,Ie.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,Ie.Z)(o)))}return wn.create.apply(wn,[e].concat(n))}function An(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cn.apply(void 0,[t].concat(r))}}function Nn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw _n(t),new Error(t)}function Rn(e,t){e||Nn(t)}var Dn=new Map;function Pn(e){Rn(e instanceof Function,"Expected a class definition");var t=Dn.get(e);return t?(Rn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Dn.set(e,t),t)}function On(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ln(){return"http:"===Mn()||"https:"===Mn()}function Mn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Fn=function(){function e(t,n){O(this,e),this.shortDelay=t,this.longDelay=n,Rn(n>t,"Short delay should be less than long delay!"),this.isMobile=re()||oe()}return M(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ln()||ae()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Un(e,t){Rn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Vn=function(){function e(){O(this,e)}return M(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),jn=(on={},(0,P.Z)(on,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,P.Z)(on,"MISSING_CUSTOM_TOKEN","internal-error"),(0,P.Z)(on,"INVALID_IDENTIFIER","invalid-email"),(0,P.Z)(on,"MISSING_CONTINUE_URI","internal-error"),(0,P.Z)(on,"INVALID_PASSWORD","wrong-password"),(0,P.Z)(on,"MISSING_PASSWORD","internal-error"),(0,P.Z)(on,"EMAIL_EXISTS","email-already-in-use"),(0,P.Z)(on,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,P.Z)(on,"INVALID_IDP_RESPONSE","invalid-credential"),(0,P.Z)(on,"INVALID_PENDING_TOKEN","invalid-credential"),(0,P.Z)(on,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,P.Z)(on,"MISSING_REQ_TYPE","internal-error"),(0,P.Z)(on,"EMAIL_NOT_FOUND","user-not-found"),(0,P.Z)(on,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,P.Z)(on,"EXPIRED_OOB_CODE","expired-action-code"),(0,P.Z)(on,"INVALID_OOB_CODE","invalid-action-code"),(0,P.Z)(on,"MISSING_OOB_CODE","internal-error"),(0,P.Z)(on,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,P.Z)(on,"INVALID_ID_TOKEN","invalid-user-token"),(0,P.Z)(on,"TOKEN_EXPIRED","user-token-expired"),(0,P.Z)(on,"USER_NOT_FOUND","user-token-expired"),(0,P.Z)(on,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,P.Z)(on,"INVALID_CODE","invalid-verification-code"),(0,P.Z)(on,"INVALID_SESSION_INFO","invalid-verification-id"),(0,P.Z)(on,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,P.Z)(on,"MISSING_SESSION_INFO","missing-verification-id"),(0,P.Z)(on,"SESSION_EXPIRED","code-expired"),(0,P.Z)(on,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,P.Z)(on,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,P.Z)(on,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,P.Z)(on,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,P.Z)(on,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,P.Z)(on,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,P.Z)(on,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,P.Z)(on,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,P.Z)(on,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,P.Z)(on,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,P.Z)(on,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),on),zn=new Fn(3e4,6e4);function Bn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function qn(e,t,n,r){return Kn.apply(this,arguments)}function Kn(){return Kn=Ee(_e().mark((function e(t,n,r,i){var a,o=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Wn(t,a,Ee(_e().mark((function e(){var a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=me(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Vn.fetch()(Qn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function Wn(e,t,n){return Gn.apply(this,arguments)}function Gn(){return(Gn=Ee(_e().mark((function e(t,n,r){var a,o,u,s,c,l,f,h,d,p;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},jn),n),e.prev=2,o=new Yn(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw $n(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,i.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw $n(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw $n(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw $n(t,"user-disabled",s);case 29:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw En(t,p,d);case 34:In(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ce)){e.next=41;break}throw e.t0;case 41:In(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Hn(e,t,n,r){return Zn.apply(this,arguments)}function Zn(){return Zn=Ee(_e().mark((function e(t,n,r,i){var a,o,u=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,qn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&In(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}function Qn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Un(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Yn=function(){function e(t){var n=this;O(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Sn(n.auth,"network-request-failed"))}),zn.get())}))}return M(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function $n(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Sn(e,t,r);return i.customData._tokenResponse=n,i}function Xn(e,t){return Jn.apply(this,arguments)}function Jn(){return(Jn=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function er(e,t){return tr.apply(this,arguments)}function tr(){return(tr=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nr(e,t){return rr.apply(this,arguments)}function rr(){return(rr=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ir(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ar(){return ar=Ee(_e().mark((function e(t){var n,r,i,a,o,u,s=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=xe(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,An((a=ur(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ir(or(a.auth_time)),issuedAtTime:ir(or(a.iat)),expirationTime:ir(or(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ar.apply(this,arguments)}function or(e){return 1e3*Number(e)}function ur(e){var t=e.split("."),n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2];if(void 0===r||void 0===a||void 0===o)return _n("JWT malformed, contained fewer than 3 sections"),null;try{var u=X(a);return u?JSON.parse(u):(_n("Failed to decode base64 JWT payload"),null)}catch(s){return _n("Caught error parsing JWT payload as JSON",s),null}}function sr(e,t){return cr.apply(this,arguments)}function cr(){return cr=Ee(_e().mark((function e(t,n){var r=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ce&&lr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),cr.apply(this,arguments)}function lr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var fr=function(){function e(t){O(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return M(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ee(_e().mark((function t(){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),hr=function(){function e(t,n){O(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return M(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ir(this.lastLoginAt),this.creationTime=ir(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function dr(e){return pr.apply(this,arguments)}function pr(){return pr=Ee(_e().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,sr(t,nr(r,{idToken:i}));case 6:An(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?yr(o.providerUserInfo):[],s=mr(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new hr(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),pr.apply(this,arguments)}function vr(){return(vr=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xe(t),e.next=3,dr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,Ie.Z)(n),(0,Ie.Z)(t))}function yr(e){return e.map((function(e){var t=e.providerId,n=an(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function gr(e,t){return kr.apply(this,arguments)}function kr(){return(kr=Ee(_e().mark((function e(t,n){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(t,{},Ee(_e().mark((function e(){var r,i,a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=me({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Qn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Vn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var br=function(){function e(){O(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return M(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){An(e.idToken,"internal-error"),An("undefined"!==typeof e.idToken,"internal-error"),An("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ur(e);return An(t,"internal-error"),An("undefined"!==typeof t.exp,"internal-error"),An("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ee(_e().mark((function e(t){var n,r=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],An(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ee(_e().mark((function e(t,n){var r,i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gr(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Nn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(An("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(An("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(An("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function wr(e,t){An("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var xr=function(){function e(t){O(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=an(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,Ie.Z)(a.providerData):[],this.metadata=new hr(a.createdAt||void 0,a.lastLoginAt||void 0)}return M(e,[{key:"getIdToken",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(An(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ar.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return vr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(An(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){An(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ee(_e().mark((function e(t){var n,r,i=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,dr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,sr(this,Xn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;An(k&&_,t,"internal-error");var I=br.fromJSON(this.name,_);An("string"===typeof k,t,"internal-error"),wr(f,t.name),wr(h,t.name),An("boolean"===typeof b,t,"internal-error"),An("boolean"===typeof w,t,"internal-error"),wr(d,t.name),wr(p,t.name),wr(v,t.name),wr(m,t.name),wr(y,t.name),wr(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Ee(_e().mark((function t(n,r){var i,a,o,u=arguments;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new br).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,dr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),_r=function(){function e(){O(this,e),this.type="NONE",this.storage={}}return M(e,[{key:"_isAvailable",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();_r.type="NONE";var Ir=_r;function Sr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Er=function(){function e(t,n,r){O(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Sr(this.userKey,a.apiKey,o),this.fullPersistenceKey=Sr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return M(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?xr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ee(_e().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Pn(Ir),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Pn(Ir),u=Sr(i,n.config.apiKey,n.name),s=null,c=U(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=xr._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Tr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Rr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pr(t))return"Blackberry";if(Or(t))return"Webos";if(Ar(t))return"Safari";if((t.includes("chrome/")||Nr(t))&&!t.includes("edge/"))return"Chrome";if(Dr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/firefox\//i.test(e)}function Ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/crios\//i.test(e)}function Rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/iemobile/i.test(e)}function Dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/android/i.test(e)}function Pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/blackberry/i.test(e)}function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/webos/i.test(e)}function Lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/iphone|ipad|ipod/i.test(e)}function Mr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return Lr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Fr(){return ue()&&10===document.documentMode}function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return Lr(e)||Dr(e)||Or(e)||Pr(e)||/windows phone/i.test(e)||Rr(e)}function Vr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Tr(ne());break;case"Worker":t="".concat(Tr(ne()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xt,"/").concat(r)}var jr=function(){function e(t){O(this,e),this.auth=t,this.queue=[]}return M(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ee(_e().mark((function e(t){var n,r,i,a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=U(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=U(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zr=function(){function e(t,n,r){O(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qr(this),this.idTokenSubscription=new qr(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return M(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Pn(t)),this._initializationPromise=this.queue(Ee(_e().mark((function r(){var i,a;return _e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Er.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ee(_e().mark((function e(t){var n,r,i,a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return An(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?xe(t):null)&&An(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ee(_e().mark((function e(t){var n,r=this,i=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&An(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ee(_e().mark((function n(){return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Pn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new le("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ee(_e().mark((function e(t,n){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return An(n=t&&Pn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Er.create(this,[Pn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ee(_e().mark((function e(t){var n=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return An(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return An(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ee(_e().mark((function e(){var t,n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,P.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Br(e){return xe(e)}var qr=function(){function e(t){var n=this;O(this,e),this.auth=t,this.observer=null,this.addObserver=ke((function(e){return n.observer=e}))}return M(e,[{key:"next",get:function(){return An(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Kr(e,t,n){var r=Br(e);An(r._canInitEmulator,r,"emulator-config-failed"),An(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Wr(t),u=function(e){var t=Wr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var o=a[1];return{host:o,port:Gr(r.substr(o.length+1))}}var u=r.split(":"),s=(0,i.Z)(u,2);return{host:s[0],port:Gr(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Wr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Gr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Hr=function(){function e(t,n){O(this,e),this.providerId=t,this.signInMethod=n}return M(e,[{key:"toJSON",value:function(){return Nn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Nn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Nn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Nn("not implemented")}}]),e}();function Zr(e,t){return Qr.apply(this,arguments)}function Qr(){return(Qr=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:resetPassword",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yr(e,t){return $r.apply(this,arguments)}function $r(){return($r=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return(Jr=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:update",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return(ti=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn(t,"POST","/v1/accounts:signInWithPassword",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return(ri=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:sendOobCode",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return(ai=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oi(e,t){return ui.apply(this,arguments)}function ui(){return(ui=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function si(e,t){return ci.apply(this,arguments)}function ci(){return(ci=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e,t){return fi.apply(this,arguments)}function fi(){return(fi=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(e,t){return di.apply(this,arguments)}function di(){return(di=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn(t,"POST","/v1/accounts:signInWithEmailLink",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pi(e,t){return vi.apply(this,arguments)}function vi(){return(vi=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn(t,"POST","/v1/accounts:signInWithEmailLink",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mi=function(e){z(n,e);var t=G(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return O(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return M(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ei(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",hi(t,{email:this._email,oobCode:this._password}));case 5:In(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",pi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:In(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Hr);function yi(e,t){return gi.apply(this,arguments)}function gi(){return(gi=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn(t,"POST","/v1/accounts:signInWithIdp",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ki=function(e){z(n,e);var t=G(n);function n(){var e;return O(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return M(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return yi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,yi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,yi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=me(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):In("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=an(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Hr);function bi(e,t){return wi.apply(this,arguments)}function wi(){return(wi=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:sendVerificationCode",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xi(){return(xi=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn(t,"POST","/v1/accounts:signInWithPhoneNumber",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _i(){return(_i=Ee(_e().mark((function e(t,n){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(t,"POST","/v1/accounts:signInWithPhoneNumber",Bn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw $n(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ii=(0,P.Z)({},"USER_NOT_FOUND","user-not-found");function Si(){return(Si=Ee(_e().mark((function e(t,n){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Hn(t,"POST","/v1/accounts:signInWithPhoneNumber",Bn(t,r),Ii));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ei=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this,"phone","phone")).params=e,r}return M(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return xi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return _i.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Si.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Hr);var Ti=function(){function e(t){var n,r,i,a,o,u;O(this,e);var s=ye(ge(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);An(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return M(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ye(ge(e)).link,n=t?ye(ge(t)).deep_link_id:null,r=ye(ge(e)).deep_link_id;return(r?ye(ge(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Dx){return null}}}]),e}();var Ci=function(){function e(){O(this,e),this.providerId=e.PROVIDER_ID}return M(e,null,[{key:"credential",value:function(e,t){return mi._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ti.parseLink(t);return An(n,"argument-error"),mi._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ci.PROVIDER_ID="password",Ci.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ci.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ai=function(){function e(t){O(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return M(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ni=function(e){z(n,e);var t=G(n);function n(){var e;return O(this,n),(e=t.apply(this,arguments)).scopes=[],e}return M(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,Ie.Z)(this.scopes)}}]),n}(Ai),Ri=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.apply(this,arguments)}return M(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return An(e.idToken||e.accessToken,"argument-error"),ki._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return An("providerId"in t&&"signInMethod"in t,"argument-error"),ki._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ni),Di=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.call(this,"facebook.com")}return M(n,null,[{key:"credential",value:function(e){return ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Dx){return null}}}]),n}(Ni);Di.FACEBOOK_SIGN_IN_METHOD="facebook.com",Di.PROVIDER_ID="facebook.com";var Pi=function(e){z(n,e);var t=G(n);function n(){var e;return O(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return M(n,null,[{key:"credential",value:function(e,t){return ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Dx){return null}}}]),n}(Ni);Pi.GOOGLE_SIGN_IN_METHOD="google.com",Pi.PROVIDER_ID="google.com";var Oi=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.call(this,"github.com")}return M(n,null,[{key:"credential",value:function(e){return ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Dx){return null}}}]),n}(Ni);Oi.GITHUB_SIGN_IN_METHOD="github.com",Oi.PROVIDER_ID="github.com";var Li=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return M(n,[{key:"_getIdTokenResponse",value:function(e){return yi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,yi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,yi(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Hr),Mi=function(e){z(n,e);var t=G(n);function n(e){return O(this,n),An(e.startsWith("saml."),"argument-error"),t.call(this,e)}return M(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Li.fromJSON(e);return An(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Li._create(r,n)}catch(i){return null}}}]),n}(Ai),Fi=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.call(this,"twitter.com")}return M(n,null,[{key:"credential",value:function(e,t){return ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Dx){return null}}}]),n}(Ni);function Ui(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn(t,"POST","/v1/accounts:signUp",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Fi.TWITTER_SIGN_IN_METHOD="twitter.com",Fi.PROVIDER_ID="twitter.com";var ji=function(){function e(t){O(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return M(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ee(_e().mark((function t(n,r,i){var a,o,u,s,c=arguments;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,xr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=zi(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ee(_e().mark((function t(n,r,i){var a;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=zi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function zi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Bi(){return Bi=Ee(_e().mark((function e(t){var n,r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Br(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ji({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ui(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ji._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}var qi=function(e){z(n,e);var t=G(n);function n(e,r,i,a){var o,u;return O(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(V(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return M(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ce);function Ki(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw qi._fromErrorAndOperation(e,n,t,r);throw n}))}function Wi(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Gi(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=Ee(_e().mark((function e(t,n){var r,i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xe(t),e.next=3,Yi(!0,r,n);case 3:return e.t0=er,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Wi(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Zi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=Ee(_e().mark((function e(t,n){var r,i,a=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=sr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ji._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(e,t,n){return $i.apply(this,arguments)}function $i(){return($i=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(n);case 2:i=Wi(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",An(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=Ee(_e().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,sr(t,Ki(i,a,n,t),r);case 6:return An((o=e.sent).idToken,i,"internal-error"),An(u=ur(o.idToken),i,"internal-error"),s=u.sub,An(t.uid===s,i,"user-mismatch"),e.abrupt("return",ji._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&In(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ji.apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return ta=Ee(_e().mark((function e(t,n){var r,i,a,o,u=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ki(t,i,n);case 4:return a=e.sent,e.next=7,ji._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ea(Br(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e,t){return aa.apply(this,arguments)}function aa(){return(aa=Ee(_e().mark((function e(t,n){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xe(t),e.next=3,Yi(!1,r,n.providerId);case 3:return e.abrupt("return",Zi(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t){return ua.apply(this,arguments)}function ua(){return(ua=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi(xe(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(e,t){return ca.apply(this,arguments)}function ca(){return(ca=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn(t,"POST","/v1/accounts:signInWithCustomToken",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(){return(la=Ee(_e().mark((function e(t,n){var r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Br(t),e.next=3,sa(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ji._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fa=function(){function e(t,n){O(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return M(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ha._fromServerResponse(e,t):In(e,"internal-error")}}]),e}(),ha=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return M(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(fa);function da(e,t,n){var r;An((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),An("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(An(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(An(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function pa(){return(pa=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xe(t),a={requestType:"PASSWORD_RESET",email:n},r&&da(i,a,r),e.next=5,oi(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(){return(va=Ee(_e().mark((function e(t,n,r){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zr(xe(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(){return(ma=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(xe(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ya(e,t){return ga.apply(this,arguments)}function ga(){return(ga=Ee(_e().mark((function e(t,n){var r,i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xe(t),e.next=3,Zr(r,{oobCode:n});case 3:i=e.sent,An(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return An(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:An(i.mfaInfo,r,"internal-error");case 13:An(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=fa._fromServerResponse(Br(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(){return(ka=Ee(_e().mark((function e(t,n){var r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(xe(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(e,t,n){return wa.apply(this,arguments)}function wa(){return(wa=Ee(_e().mark((function e(t,n,r){var i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Br(t),e.next=3,Ui(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ji._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(){return(xa=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xe(t),a={requestType:"EMAIL_SIGNIN",email:n},An(r.handleCodeInApp,i,"argument-error"),r&&da(i,a,r),e.next=6,si(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _a(){return(_a=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xe(t),An((a=Ci.credentialWithLink(n,r||On()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",na(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ia(e,t){return Sa.apply(this,arguments)}function Sa(){return(Sa=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:createAuthUri",Bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(){return(Ea=Ee(_e().mark((function e(t,n){var r,i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ln()?On():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ia(xe(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(){return(Ta=Ee(_e().mark((function e(t,n){var r,i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xe(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&da(r.auth,a,n),e.next=8,ii(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ca(){return(Ca=Ee(_e().mark((function e(t,n,r){var i,a,o,u;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xe(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&da(i.auth,o,r),e.next=8,li(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e,t){return Na.apply(this,arguments)}function Na(){return(Na=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(){return(Ra=Ee(_e().mark((function e(t,n){var r,i,a,o,u,s,c;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=xe(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,sr(a,Aa(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Da(e,t,n){return Pa.apply(this,arguments)}function Pa(){return(Pa=Ee(_e().mark((function e(t,n,r){var i,a,o,u;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,sr(t,Yr(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oa=M((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};O(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),La=function(e){z(n,e);var t=G(n);function n(e,r,i,a){var o;return O(this,n),(o=t.call(this,e,r,i)).username=a,o}return M(n)}(Oa),Ma=function(e){z(n,e);var t=G(n);function n(e,r){return O(this,n),t.call(this,e,"facebook.com",r)}return M(n)}(Oa),Fa=function(e){z(n,e);var t=G(n);function n(e,r){return O(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return M(n)}(La),Ua=function(e){z(n,e);var t=G(n);function n(e,r){return O(this,n),t.call(this,e,"google.com",r)}return M(n)}(Oa),Va=function(e){z(n,e);var t=G(n);function n(e,r,i){return O(this,n),t.call(this,e,"twitter.com",r,i)}return M(n)}(La);function ja(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ur(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Oa(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ma(a,i);case"github.com":return new Fa(a,i);case"google.com":return new Ua(a,i);case"twitter.com":return new Va(a,i,e.screenName||null);case"custom":case"anonymous":return new Oa(a,null);default:return new Oa(a,r,i)}}(n)}var za=function(){function e(t,n){O(this,e),this.type=t,this.credential=n}return M(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,P.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ba=function(){function e(t,n,r){O(this,e),this.session=t,this.hints=n,this.signInResolver=r}return M(e,[{key:"resolveSignIn",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Br(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return fa._fromServerResponse(r,e)}));An(i.mfaPendingCredential,r,"internal-error");var o=za._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ee(_e().mark((function e(t){var a,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ji._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return An(n.user,r,"internal-error"),e.abrupt("return",ji._forOperation(n.user,n.operationType,u));case 17:In(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function qa(e,t){return qn(e,"POST","/v2/accounts/mfaEnrollment:start",Bn(e,t))}var Ka=function(){function e(t){var n=this;O(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return fa._fromServerResponse(t.auth,e)})))}))}return M(e,[{key:"getSession",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=za,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ee(_e().mark((function e(t,n){var r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,sr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ee(_e().mark((function e(t){var n,r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,sr(this.user,qn(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Bn(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Wa=new WeakMap;var Ga="__sak",Ha=function(){function e(t,n){O(this,e),this.storageRetriever=t,this.type=n}return M(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ga,"1"),this.storage.removeItem(Ga),Promise.resolve(!0)):Promise.resolve(!1)}catch(Dx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Za=function(e){z(n,e);var t=G(n);function n(){var e;return O(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ne();return Ar(e)||Lr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ur(),e._shouldAllowMigration=!0,e}return M(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Fr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ee(_e().mark((function e(t,r){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(B(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ee(_e().mark((function e(t){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(B(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(B(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ha);Za.type="LOCAL";var Qa=Za,Ya=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return M(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ha);Ya.type="SESSION";var $a=Ya;function Xa(e){return Promise.all(e.map(function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ja=function(){function e(t){O(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return M(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ee(_e().mark((function e(t){var n,r,i,a,o,u,s,c;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Xa(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function eo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ja.receivers=[];var to=function(){function e(t){O(this,e),this.target=t,this.handlers=new Set}return M(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ee(_e().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=eo("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function no(){return window}function ro(){return"undefined"!==typeof no().WorkerGlobalScope&&"function"===typeof no().importScripts}function io(){return ao.apply(this,arguments)}function ao(){return(ao=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function oo(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var uo="firebaseLocalStorageDb",so="firebaseLocalStorage",co="fbase_key",lo=function(){function e(t){O(this,e),this.request=t}return M(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function fo(e,t){return e.transaction([so],t?"readwrite":"readonly").objectStore(so)}function ho(){var e=indexedDB.deleteDatabase(uo);return new lo(e).toPromise()}function po(){var e=indexedDB.open(uo,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(so,{keyPath:co})}catch(r){n(r)}})),e.addEventListener("success",Ee(_e().mark((function n(){var r;return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(so)){n.next=12;break}return r.close(),n.next=5,ho();case 5:return n.t0=t,n.next=8,po();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function vo(e,t,n){return mo.apply(this,arguments)}function mo(){return mo=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fo(t,!0).put((i={},(0,P.Z)(i,co,n),(0,P.Z)(i,"value",r),i)),e.abrupt("return",new lo(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return go=Ee(_e().mark((function e(t,n){var r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fo(t,!1).get(n),e.next=3,new lo(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}function ko(e,t){var n=fo(e,!0).delete(t);return new lo(n).toPromise()}var bo=function(){function e(){O(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return M(e,[{key:"_openDb",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,po();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ro()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ee(_e().mark((function e(){var t=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ja._getInstance(ro()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ee(_e().mark((function e(n,r){var i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ee(_e().mark((function e(){var t,n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new to(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&oo()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,po();case 5:return t=e.sent,e.next=8,vo(t,Ga,"1");case 8:return e.next=10,ko(t,Ga);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ee(_e().mark((function e(t,n){var r=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return vo(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return yo(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ee(_e().mark((function e(t){var n=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ko(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ee(_e().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=fo(e,!1).getAll();return new lo(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=U(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ee(_e().mark((function t(){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();bo.type="LOCAL";var wo=bo;function xo(e,t){return qn(e,"POST","/v2/accounts/mfaSignIn:start",Bn(e,t))}function _o(e){return Io.apply(this,arguments)}function Io(){return(Io=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Sn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Eo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var To=1e12,Co=function(){function e(t){O(this,e),this.auth=t,this.counter=To,this._widgets=new Map}return M(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ao(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||To;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||To;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||To,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ao=function(){function e(t,n,r){var i=this;O(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;An(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return M(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var No=Eo("rcb"),Ro=new Fn(3e4,6e4),Do="https://www.google.com/recaptcha/api.js?",Po=function(){function e(){O(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!no().grecaptcha}return M(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return An(Oo(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(no().grecaptcha):new Promise((function(r,i){var a=no().setTimeout((function(){i(Sn(e,"network-request-failed"))}),Ro.get());no()[No]=function(){no().clearTimeout(a),delete no()[No];var o=no().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Sn(e,"internal-error"))},So("".concat(Do,"?").concat(me({onload:No,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Sn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!no().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Oo(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Lo=function(){function e(){O(this,e)}return M(e,[{key:"load",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Co(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Mo="recaptcha",Fo={theme:"light",type:"image"},Uo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Fo),r=arguments.length>2?arguments[2]:void 0;O(this,e),this.parameters=n,this.type=Mo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Br(r),this.isInvisible="invisible"===this.parameters.size,An("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;An(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lo:new Po,this.validateStartingState()}return M(e,[{key:"verify",value:function(){var e=Ee(_e().mark((function e(){var t,n,r,i=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){An(!this.parameters.sitekey,this.auth,"argument-error"),An(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),An("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=no()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){An(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ee(_e().mark((function e(){var t,n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return An(Ln()&&!ro(),this.auth,"internal-error"),e.next=3,Vo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,_o(this.auth);case 8:An(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return An(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Vo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var jo=function(){function e(t,n){O(this,e),this.verificationId=t,this.onConfirmation=n}return M(e,[{key:"confirm",value:function(e){var t=Ei._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function zo(){return(zo=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Br(t),e.next=3,Wo(i,n,xe(r));case 3:return a=e.sent,e.abrupt("return",new jo(a,(function(e){return na(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(e,t,n){return qo.apply(this,arguments)}function qo(){return(qo=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xe(t),e.next=3,Yi(!1,i,"phone");case 3:return e.next=5,Wo(i.auth,n,xe(r));case 5:return a=e.sent,e.abrupt("return",new jo(a,(function(e){return ia(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(){return(Ko=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xe(t),e.next=3,Wo(i.auth,n,xe(r));case 3:return a=e.sent,e.abrupt("return",new jo(a,(function(e){return oa(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t,n){return Go.apply(this,arguments)}function Go(){return Go=Ee(_e().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,An("string"===typeof a,t,"argument-error"),An(r.type===Mo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return An("enroll"===u.type,t,"internal-error"),e.next=13,qa(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return An("signin"===u.type,t,"internal-error"),An(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,xo(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,bi(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Go.apply(this,arguments)}function Ho(){return(Ho=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(xe(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zo=function(){function e(t){O(this,e),this.providerId=e.PROVIDER_ID,this.auth=Br(t)}return M(e,[{key:"verifyPhoneNumber",value:function(e,t){return Wo(this.auth,e,xe(t))}}],[{key:"credential",value:function(e,t){return Ei._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ei._fromTokenResponse(n,r):null}}]),e}();function Qo(e,t){return t?Pn(t):(An(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zo.PROVIDER_ID="phone",Zo.PHONE_SIGN_IN_METHOD="phone";var Yo=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this,"custom","custom")).params=e,r}return M(n,[{key:"_getIdTokenResponse",value:function(e){return yi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return yi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return yi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Hr);function $o(e){return ea(e.auth,new Yo(e),e.bypassAuthState)}function Xo(e){var t=e.auth,n=e.user;return An(n,t,"internal-error"),Xi(n,new Yo(e),e.bypassAuthState)}function Jo(e){return eu.apply(this,arguments)}function eu(){return(eu=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,An(r=t.user,n,"internal-error"),e.abrupt("return",Zi(r,new Yo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];O(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return M(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ee(_e().mark((function t(n,r){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ee(_e().mark((function e(t){var n,r,i,a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $o;case"linkViaPopup":case"linkViaRedirect":return Jo;case"reauthViaPopup":case"reauthViaRedirect":return Xo;default:In(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),nu=new Fn(2e3,1e4);function ru(e,t,n){return iu.apply(this,arguments)}function iu(){return(iu=Ee(_e().mark((function e(t,n,r){var i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Br(t),Tn(t,n,Ai),a=Qo(i,r),o=new su(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function au(){return(au=Ee(_e().mark((function e(t,n,r){var i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tn((i=xe(t)).auth,n,Ai),a=Qo(i.auth,r),o=new su(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(e,t,n){return uu.apply(this,arguments)}function uu(){return(uu=Ee(_e().mark((function e(t,n,r){var i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tn((i=xe(t)).auth,n,Ai),a=Qo(i.auth,r),o=new su(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var su=function(e){z(n,e);var t=G(n);function n(e,r,i,a,o){var u;return O(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=V(u),u}return M(n,[{key:"executeNotNull",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return An(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ee(_e().mark((function e(){var t,n=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rn(1===this.filter.length,"Popup operations only handle one event"),t=eo(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Sn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Sn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Sn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,nu.get())}()}}]),n}(tu);su.currentPopupAction=null;var cu=new Map,lu=function(e){z(n,e);var t=G(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return O(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return M(n,[{key:"execute",value:function(){var e=Ee(_e().mark((function e(){var t,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=cu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,fu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,rn(B(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:cu.set(this.auth._key(),t);case 21:return this.bypassAuthState||cu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ee(_e().mark((function e(t){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",rn(B(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",rn(B(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(tu);function fu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=Ee(_e().mark((function e(t,n){var r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yu(n),i=mu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return(pu=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mu(t)._set(yu(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(e,t){cu.set(e._key(),t)}function mu(e){return Pn(e._redirectPersistence)}function yu(e){return Sr("pendingRedirect",e.config.apiKey,e.name)}function gu(e,t,n){return function(e,t,n){return ku.apply(this,arguments)}(e,t,n)}function ku(){return(ku=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Br(t),Tn(t,n,Ai),a=Qo(i,r),e.next=5,du(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t,n){return function(e,t,n){return wu.apply(this,arguments)}(e,t,n)}function wu(){return(wu=Ee(_e().mark((function e(t,n,r){var i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tn((i=xe(t)).auth,n,Ai),a=Qo(i.auth,r),e.next=5,du(a,i.auth);case 5:return e.next=7,Cu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t,n){return function(e,t,n){return _u.apply(this,arguments)}(e,t,n)}function _u(){return(_u=Ee(_e().mark((function e(t,n,r){var i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tn((i=xe(t)).auth,n,Ai),a=Qo(i.auth,r),e.next=5,Yi(!1,i,n.providerId);case 5:return e.next=7,du(a,i.auth);case 7:return e.next=9,Cu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(e,t){return Su.apply(this,arguments)}function Su(){return(Su=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(t)._initializationPromise;case 2:return e.abrupt("return",Eu(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t){return Tu.apply(this,arguments)}function Tu(){return Tu=Ee(_e().mark((function e(t,n){var r,i,a,o,u,s=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Br(t),a=Qo(i,n),o=new lu(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Cu(e){return Au.apply(this,arguments)}function Au(){return(Au=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=eo("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nu=function(){function e(t){O(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return M(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Du(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Du(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Sn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ru(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ru(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ru(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Du(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Pu(e){return Ou.apply(this,arguments)}function Ou(){return Ou=Ee(_e().mark((function e(t){var n,r=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",qn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}var Lu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mu=/^https?/;function Fu(){return(Fu=Ee(_e().mark((function e(t){var n,r,i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Pu(t);case 4:n=e.sent,r=n.authorizedDomains,i=U(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Uu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:In(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Uu(e){var t=On(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Mu.test(r))return!1;if(Lu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Vu=new Fn(3e4,6e4);function ju(){var e=no().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,Ie.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var zu=null;function Bu(e){return zu=zu||function(e){return new Promise((function(t,n){var r,i,a;function o(){ju(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ju(),n(Sn(e,"network-request-failed"))},timeout:Vu.get()})}if(null===(i=null===(r=no().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=no().gapi)||void 0===a?void 0:a.load)){var u=Eo("iframefcb");return no()[u]=function(){gapi.load?o():n(Sn(e,"network-request-failed"))},So("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw zu=null,e}))}(e),zu}var qu=new Fn(5e3,15e3),Ku={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gu(e){var t=e.config;An(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Un(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:xt},i=Wu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(me(r).slice(1))}function Hu(e){return Zu.apply(this,arguments)}function Zu(){return Zu=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bu(t);case 2:return n=e.sent,An(r=no().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Gu(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ku,dontclear:!0},(function(e){return new Promise(function(){var n=Ee(_e().mark((function n(r,i){var a,o,u;return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){no().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Sn(t,"network-request-failed"),o=no().setTimeout((function(){i(a)}),qu.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}var Qu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yu="_blank",$u="http://localhost",Xu=function(){function e(t){O(this,e),this.window=t,this.associatedEvent=null}return M(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ju(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Qu),{width:r.toString(),height:a.toString(),top:o,left:u}),l=ne().toLowerCase();n&&(s=Nr(l)?Yu:n),Cr(l)&&(t=t||$u,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(Mr(l)&&"_self"!==s)return es(t||"",s),new Xu(null);var h=window.open(t||"",s,f);An(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Xu(h)}function es(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ts="__/auth/handler",ns="emulator/auth/handler";function rs(e,t,n,r,a,o){An(e.config.authDomain,e,"auth-domain-config-required"),An(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xt,eventId:a};if(t instanceof Ai){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,i.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Ni){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ts);return Un(t,ns)}(e),"?").concat(me(p).slice(1))}var is="webStorageSupport",as=function(){function e(){O(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$a,this._completeRedirectFn=Eu,this._overrideRedirectResult=vu}return M(e,[{key:"_openPopup",value:function(){var e=Ee(_e().mark((function e(t,n,r,i){var a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=rs(t,n,r,On(),i),e.abrupt("return",Ju(t,o,eo()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ee(_e().mark((function e(t,n,r,i){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=rs(t,n,r,On(),i),no().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Rn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hu(t);case 2:return n=e.sent,r=new Nu(t),n.register("authEvent",(function(e){return An(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(is,{type:is},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),In(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Fu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ur()||Ar()||Lr()}}]),e}(),os=as,us=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this,"phone")).credential=e,r}return M(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return qn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Bn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return qn(e,"POST","/v2/accounts/mfaSignIn:finalize",Bn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){O(this,e),this.factorId=t}return M(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Nn("unexpected MultiFactorSessionType")}}}]),e}()),ss=function(){function e(){O(this,e)}return M(e,null,[{key:"assertion",value:function(e){return us._fromCredential(e)}}]),e}();ss.FACTOR_ID="phone";var cs,ls="@firebase/auth",fs="0.20.2",hs=function(){function e(t){O(this,e),this.auth=t,this.internalListeners=new Map}return M(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){An(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function ds(){return window}cs="Browser",vt(new Te("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){An(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),An(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:cs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vr(cs)},i=new zr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),vt(new Te("auth-internal",(function(e){return function(e){return new hs(e)}(Br(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ct(ls,fs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(cs)),Ct(ls,fs,"esm2017");function ps(e,t,n){return vs.apply(this,arguments)}function vs(){return vs=Ee(_e().mark((function e(t,n,r){var i,a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ds(),o=a.BuildInfo,Rn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ws(n.sessionId);case 4:return u=e.sent,s={},Lr()?s.ibi=o.packageName:Dr()?s.apn=o.packageName:In(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",rs(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(){return(ms=Ee(_e().mark((function e(t){var n,r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ds(),r=n.BuildInfo,i={},Lr()?i.iosBundleId=r.packageName:Dr()?i.androidPackageName=r.packageName:In(t,"operation-not-supported-in-this-environment"),e.next=5,Pu(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e){var t=ds().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function gs(e,t,n){return ks.apply(this,arguments)}function ks(){return ks=Ee(_e().mark((function e(t,n,r){var i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ds(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Sn(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Dr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ks.apply(this,arguments)}function bs(e){var t,n,r,i,a,o,u,s,c,l,f=ds();An("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),An("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),An("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),An("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),An("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ws(e){return xs.apply(this,arguments)}function xs(){return(xs=Ee(_e().mark((function e(t){var n,r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_s(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _s(e){if(Rn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Is=function(e){z(n,e);var t=G(n);function n(){var e;return O(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return M(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),rn(B(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Nu);function Ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Ns(),postBody:null,tenantId:e.tenantId,error:Sn(e,"no-auth-event")}}function Es(e,t){return Rs()._set(Ds(e),t)}function Ts(e){return Cs.apply(this,arguments)}function Cs(){return(Cs=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rs()._get(Ds(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Rs()._remove(Ds(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e,t){var n,r,i=function(e){var t=Ps(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ps(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ps(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ps(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Sn(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ns(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Rs(){return Pn(Qa)}function Ds(e){return Sr("authEvent",e.config.apiKey,e.name)}function Ps(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,Jt.Z)(t)||(0,en.Z)(t)||(0,F.Z)(t)||(0,tn.Z)());r[0];return ye(r.slice(1).join("?"))}var Os=function(){function e(){O(this,e),this._redirectPersistence=$a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Eu,this._overrideRedirectResult=vu}return M(e,[{key:"_initialize",value:function(){var e=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Is(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){In(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ee(_e().mark((function e(t,n,r,i){var a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bs(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),cu.clear(),e.next=10,this._originValidation(t);case 10:return o=Ss(t,r,i),e.next=13,Es(t,o);case 13:return e.next=15,ps(t,o,n);case 15:return u=e.sent,e.next=18,ys(u);case 18:return s=e.sent,e.abrupt("return",gs(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ms.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ds(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ee(_e().mark((function n(){return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ts(e);case 2:t.onEvent(Ms());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ee(_e().mark((function n(r){var i,a;return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Ts(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=As(i,r.url)),t.onEvent(a||Ms());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");ds().handleOpenURL=function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ls=Os;function Ms(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Sn("no-auth-event")}}function Fs(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Us(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return!("file:"!==Fs()&&"ionic:"!==Fs()&&"capacitor:"!==Fs()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vs(){return ue()&&11===(null===document||void 0===document?void 0:document.documentMode)}function js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/Edge\/\d+/.test(e)}function zs(){try{var e=self.localStorage,t=eo();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return Vs()||js(e)}()||se()}catch(n){return Bs()&&se()}return!1}function Bs(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function qs(){return("http:"===Fs()||"https:"===Fs()||ae()||Us())&&!(oe()||ie())&&zs()&&!Bs()}function Ks(){return Us()&&"undefined"!==typeof document}function Ws(){return Gs.apply(this,arguments)}function Gs(){return(Gs=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ks()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hs={LOCAL:"local",NONE:"none",SESSION:"session"},Zs=An,Qs="persistence";function Ys(e,t){Zs(Object.values(Hs).includes(t),e,"invalid-persistence-type"),oe()?Zs(t!==Hs.SESSION,e,"unsupported-persistence-type"):ie()?Zs(t===Hs.NONE,e,"unsupported-persistence-type"):Bs()?Zs(t===Hs.NONE||t===Hs.LOCAL&&se(),e,"unsupported-persistence-type"):Zs(t===Hs.NONE||zs(),e,"unsupported-persistence-type")}function $s(e){return Xs.apply(this,arguments)}function Xs(){return(Xs=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Js(),r=Sr(Qs,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Js(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ec=An,tc=function(){function e(){O(this,e),this.browserResolver=Pn(os),this.cordovaResolver=Pn(Ls),this.underlyingResolver=null,this._redirectPersistence=$a,this._completeRedirectFn=Eu,this._overrideRedirectResult=vu}return M(e,[{key:"_initialize",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ee(_e().mark((function e(t,n,r,i){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ee(_e().mark((function e(t,n,r,i){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ks()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ec(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ws();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nc(e){return e.unwrap()}function rc(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new sc(e,function(e,t){var n,r=xe(e),i=t;return An(t.customData.operationType,r,"argument-error"),An(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ba._fromError(r,i)}(e,t));else if(r){var i=ic(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ic(e){var t=(e instanceof ce?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ce)&&"temporaryProof"in t&&"phoneNumber"in t)return Zo.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ln)return null;switch(r){case cn:n=Pi;break;case un:n=Di;break;case sn:n=Oi;break;case fn:n=Fi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Li._create(r,u):ki._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ri(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ce?n.credentialFromError(e):n.credentialFromResult(e)}function ac(e,t){return t.catch((function(t){throw t instanceof ce&&rc(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ic(t)),additionalUserInfo:ja(e),user:cc.getOrCreate(r)}}))}function oc(e,t){return uc.apply(this,arguments)}function uc(){return(uc=Ee(_e().mark((function e(t,n){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ac(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sc=function(){function e(t,n){O(this,e),this.resolver=n,this.auth=t.wrapped()}return M(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ac(nc(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),cc=function(){function e(t){O(this,e),this._delegate=t,this.multiFactor=function(e){var t=xe(e);return Wa.has(t)||Wa.set(t,Ka._fromUser(t)),Wa.get(t)}(t)}return M(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(this.auth,ia(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oc(this.auth,Bo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(this.auth,ou(this._delegate,t,tc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(Br(this.auth));case 2:return e.abrupt("return",xu(this._delegate,t,tc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(this.auth,oa(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return oc(this.auth,function(e,t,n){return Ko.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ac(this.auth,function(e,t,n){return au.apply(this,arguments)}(this._delegate,e,tc))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(Br(this.auth));case 2:return e.abrupt("return",bu(this._delegate,t,tc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ta.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Da(xe(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Da(xe(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ho.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ra.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ca.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();cc.USER_MAP=new WeakMap;var lc=An,fc=function(){function e(t,n){if(O(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;lc(r,"invalid-api-key",{appName:t.name}),lc(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?tc:void 0;this._delegate=n.initialize({options:{persistence:dc(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(kn),this.linkUnderlyingAuth()}return M(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?cc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Kr(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ma.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ya(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return va.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(this._delegate,ba(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ea.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ti.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lc(qs(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Iu(this._delegate,tc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ac(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Br(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=hc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=hc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return xa.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return pa.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ys(this._delegate,t),e.t0=t,e.next=e.t0===Hs.SESSION?4:e.t0===Hs.LOCAL?6:e.t0===Hs.NONE?11:13;break;case 4:return n=$a,e.abrupt("break",14);case 6:return e.next=8,Pn(wo)._isAvailable();case 8:return r=e.sent,n=r?wo:Qa,e.abrupt("break",14);case 11:return n=Ir,e.abrupt("break",14);case 13:return e.abrupt("return",In("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ac(this._delegate,function(e){return Bi.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ac(this._delegate,na(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ac(this._delegate,function(e,t){return la.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ac(this._delegate,function(e,t,n){return na(xe(e),Ci.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ac(this._delegate,function(e,t,n){return _a.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return oc(this._delegate,function(e,t,n){return zo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lc(qs(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ac(this._delegate,ru(this._delegate,t,tc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lc(qs(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,$s(this._delegate);case 3:return e.abrupt("return",gu(this._delegate,t,tc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ka.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function hc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&cc.getOrCreate(e))},error:t,complete:n}}function dc(e,t){var n=function(e,t){var n=Js();if(!n)return[];var r=Sr(Qs,e,t);switch(n.getItem(r)){case Hs.NONE:return[Ir];case Hs.LOCAL:return[wo,$a];case Hs.SESSION:return[$a];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(wo)||n.push(wo),"undefined"!==typeof window)for(var r=0,i=[Qa,$a];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ir)||n.push(Ir),n}fc.Persistence=Hs;var pc=function(){function e(){O(this,e),this.providerId="phone",this._delegate=new Zo(nc(Xt.auth()))}return M(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Zo.credential(e,t)}}]),e}();pc.PHONE_SIGN_IN_METHOD=Zo.PHONE_SIGN_IN_METHOD,pc.PROVIDER_ID=Zo.PROVIDER_ID;var vc,mc=An,yc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xt.app();O(this,e),mc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Uo(t,n,i.auth()),this.type=this._delegate.type}return M(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(vc=Xt).INTERNAL.registerComponent(new Te("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new fc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hn,PASSWORD_RESET:dn,RECOVER_EMAIL:pn,REVERT_SECOND_FACTOR_ADDITION:vn,VERIFY_AND_CHANGE_EMAIL:mn,VERIFY_EMAIL:yn}},EmailAuthProvider:Ci,FacebookAuthProvider:Di,GithubAuthProvider:Oi,GoogleAuthProvider:Pi,OAuthProvider:Ri,SAMLAuthProvider:Mi,PhoneAuthProvider:pc,PhoneMultiFactorGenerator:ss,RecaptchaVerifier:yc,TwitterAuthProvider:Fi,Auth:fc,AuthCredential:Hr,Error:ce}).setInstantiationMode("LAZY").setMultipleInstances(!1)),vc.registerVersion("@firebase/auth-compat","0.2.15");var gc,kc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},bc={},wc=wc||{},xc=kc||self;function _c(){}function Ic(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Sc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ec="closure_uid_"+(1e9*Math.random()>>>0),Tc=0;function Cc(e,t,n){return e.call.apply(e.bind,arguments)}function Ac(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Nc(e,t,n){return(Nc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cc:Ac).apply(null,arguments)}function Rc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Dc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Pc(){this.s=this.s,this.o=this.o}var Oc={};Pc.prototype.s=!1,Pc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ec)&&e[Ec]||(e[Ec]=++Tc)}(this);delete Oc[e]}},Pc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Lc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Mc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Fc(e){return Array.prototype.concat.apply([],arguments)}function Uc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vc(e){return/^[\s\xa0]*$/.test(e)}var jc,zc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Bc(e,t){return-1!=e.indexOf(t)}function qc(e,t){return e<t?-1:e>t?1:0}e:{var Kc=xc.navigator;if(Kc){var Wc=Kc.userAgent;if(Wc){jc=Wc;break e}}jc=""}function Gc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Hc(e){var t={};for(var n in e)t[n]=e[n];return t}var Zc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Zc.length;a++)n=Zc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yc(e){return Yc[" "](e),e}Yc[" "]=_c;var $c,Xc=Bc(jc,"Opera"),Jc=Bc(jc,"Trident")||Bc(jc,"MSIE"),el=Bc(jc,"Edge"),tl=el||Jc,nl=Bc(jc,"Gecko")&&!(Bc(jc.toLowerCase(),"webkit")&&!Bc(jc,"Edge"))&&!(Bc(jc,"Trident")||Bc(jc,"MSIE"))&&!Bc(jc,"Edge"),rl=Bc(jc.toLowerCase(),"webkit")&&!Bc(jc,"Edge");function il(){var e=xc.document;return e?e.documentMode:void 0}e:{var al="",ol=function(){var e=jc;return nl?/rv:([^\);]+)(\)|;)/.exec(e):el?/Edge\/([\d\.]+)/.exec(e):Jc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):rl?/WebKit\/(\S+)/.exec(e):Xc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ol&&(al=ol?ol[1]:""),Jc){var ul=il();if(null!=ul&&ul>parseFloat(al)){$c=String(ul);break e}}$c=al}var sl,cl={};function ll(){return function(e){var t=cl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=zc(String($c)).split("."),n=zc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=qc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||qc(0==a[2].length,0==o[2].length)||qc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(xc.document&&Jc){var fl=il();sl=fl||(parseInt($c,10)||void 0)}else sl=void 0;var hl=sl,dl=function(){if(!xc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{xc.addEventListener("test",_c,t),xc.removeEventListener("test",_c,t)}catch(n){}return e}();function pl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function vl(e,t){if(pl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(nl){e:{try{Yc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ml[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vl.Z.h.call(this)}}pl.prototype.h=function(){this.defaultPrevented=!0},Dc(vl,pl);var ml={2:"touch",3:"pen",4:"mouse"};vl.prototype.h=function(){vl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var yl="closure_listenable_"+(1e6*Math.random()|0),gl=0;function kl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++gl,this.ca=this.fa=!1}function bl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function wl(e){this.src=e,this.g={},this.h=0}function xl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Lc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(bl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _l(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}wl.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=_l(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new kl(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Il="closure_lm_"+(1e6*Math.random()|0),Sl={};function El(e,t,n,r,i){if(r&&r.once)return Cl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)El(e,t[a],n,r,i);return null}return n=Ll(n),e&&e[yl]?e.N(t,n,Sc(r)?!!r.capture:!!r,i):Tl(e,t,n,!1,r,i)}function Tl(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Sc(i)?!!i.capture:!!i,u=Pl(e);if(u||(e[Il]=u=new wl(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Dl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)dl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Rl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Cl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Cl(e,t[a],n,r,i);return null}return n=Ll(n),e&&e[yl]?e.O(t,n,Sc(r)?!!r.capture:!!r,i):Tl(e,t,n,!0,r,i)}function Al(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Al(e,t[a],n,r,i);else r=Sc(r)?!!r.capture:!!r,n=Ll(n),e&&e[yl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=_l(a=e.g[t],n,r,i))&&(bl(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Pl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_l(t,n,r,i)),(n=-1<e?t[e]:null)&&Nl(n))}function Nl(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[yl])xl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Rl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pl(t))?(xl(n,e),0==n.h&&(n.src=null,t[Il]=null)):bl(e)}}}function Rl(e){return e in Sl?Sl[e]:Sl[e]="on"+e}function Dl(e,t){if(e.ca)e=!0;else{t=new vl(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Nl(e),e=n.call(r,t)}return e}function Pl(e){return(e=e[Il])instanceof wl?e:null}var Ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ll(e){return"function"===typeof e?e:(e[Ol]||(e[Ol]=function(t){return e.handleEvent(t)}),e[Ol])}function Ml(){Pc.call(this),this.i=new wl(this),this.P=this,this.I=null}function Fl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new pl(t,e);else if(t instanceof pl)t.target=t.target||e;else{var i=t;Qc(t=new pl(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ul(o,r,!0,t)&&i}if(i=Ul(o=t.g=e,r,!0,t)&&i,i=Ul(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ul(o=t.g=n[a],r,!1,t)&&i}function Ul(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&xl(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Dc(Ml,Pc),Ml.prototype[yl]=!0,Ml.prototype.removeEventListener=function(e,t,n,r){Al(this,e,t,n,r)},Ml.prototype.M=function(){if(Ml.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bl(n[r]);delete t.g[e],t.h--}}this.I=null},Ml.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ml.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vl=xc.JSON.stringify;function jl(){var e=Zl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zl,Bl=function(){function e(){O(this,e),this.h=this.g=null}return M(e,[{key:"add",value:function(e,t){var n=ql.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ql=new(function(){function e(t,n){O(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return M(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Kl}),(function(e){return e.reset()})),Kl=function(){function e(){O(this,e),this.next=this.g=this.h=null}return M(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Wl(e){xc.setTimeout((function(){throw e}),0)}function Gl(e,t){zl||function(){var e=xc.Promise.resolve(void 0);zl=function(){e.then(Ql)}}(),Hl||(zl(),Hl=!0),Zl.add(e,t)}var Hl=!1,Zl=new Bl;function Ql(){for(var e;e=jl();){try{e.h.call(e.g)}catch(n){Wl(n)}var t=ql;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hl=!1}function Yl(e,t){Ml.call(this),this.h=e||1,this.g=t||xc,this.j=Nc(this.kb,this),this.l=Date.now()}function $l(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Xl(e,t,n){if("function"===typeof e)n&&(e=Nc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Nc(e.handleEvent,e)}return 2147483647<Number(t)?-1:xc.setTimeout(e,t||0)}function Jl(e){e.g=Xl((function(){e.g=null,e.i&&(e.i=!1,Jl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Dc(Yl,Ml),(gc=Yl.prototype).da=!1,gc.S=null,gc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fl(this,"tick"),this.da&&($l(this),this.start()))}},gc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gc.M=function(){Yl.Z.M.call(this),$l(this),delete this.g};var ef=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return M(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Jl(this)}},{key:"M",value:function(){rn(B(n.prototype),"M",this).call(this),this.g&&(xc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Pc);function tf(e){Pc.call(this),this.h=e,this.g={}}Dc(tf,Pc);var nf=[];function rf(e,t,n,r){Array.isArray(n)||(n&&(nf[0]=n.toString()),n=nf);for(var i=0;i<n.length;i++){var a=El(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function af(e){Gc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Nl(e)}),e),e.g={}}function of(){this.g=!0}function uf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Vl(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}tf.prototype.M=function(){tf.Z.M.call(this),af(this)},tf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},of.prototype.Aa=function(){this.g=!1},of.prototype.info=function(){};var sf={},cf=null;function lf(){return cf=cf||new Ml}function ff(e){pl.call(this,sf.Ma,e)}function hf(e){var t=lf();Fl(t,new ff(t,e))}function df(e,t){pl.call(this,sf.STAT_EVENT,e),this.stat=t}function pf(e){var t=lf();Fl(t,new df(t,e))}function vf(e,t){pl.call(this,sf.Na,e),this.size=t}function mf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xc.setTimeout((function(){e()}),t)}sf.Ma="serverreachability",Dc(ff,pl),sf.STAT_EVENT="statevent",Dc(df,pl),sf.Na="timingevent",Dc(vf,pl);var yf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kf(){}function bf(e){return e.h||(e.h=e.i())}function wf(){}kf.prototype.h=null;var xf,_f={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function If(){pl.call(this,"d")}function Sf(){pl.call(this,"c")}function Ef(){}function Tf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new tf(this),this.P=Af,e=tl?125:void 0,this.W=new Yl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Cf}function Cf(){this.i=null,this.g="",this.h=!1}Dc(If,pl),Dc(Sf,pl),Dc(Ef,kf),Ef.prototype.g=function(){return new XMLHttpRequest},Ef.prototype.i=function(){return{}},xf=new Ef;var Af=45e3,Nf={},Rf={};function Df(e,t,n){e.K=1,e.v=th(Qf(t)),e.s=n,e.U=!0,Pf(e,null)}function Pf(e,t){e.F=Date.now(),Ff(e),e.A=Qf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ph(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Cf,e.g=md(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ef(Nc(e.Ia,e,e.g),e.O)),rf(e.V,e.g,"readystatechange",e.gb),t=e.H?Hc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hf(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Of(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Lf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Mf(e,n))==Rf){4==t&&(e.o=4,pf(14),i=!1),uf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nf){e.o=4,pf(15),uf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}uf(e.j,e.m,r,null),Bf(e,r)}Of(e)&&r!=Rf&&r!=Nf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sd(t),t.L=!0,pf(11))):(uf(e.j,e.m,n,"[Invalid Chunked Response]"),zf(e),jf(e))}function Mf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Rf:(n=Number(t.substring(n,r)),isNaN(n)?Nf:(r+=1)+n>t.length?Rf:(t=t.substr(r,n),e.C=r+n,t))}function Ff(e){e.Y=Date.now()+e.P,Uf(e,e.P)}function Uf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mf(Nc(e.eb,e),t)}function Vf(e){e.B&&(xc.clearTimeout(e.B),e.B=null)}function jf(e){0==e.l.G||e.I||fd(e.l,e)}function zf(e){Vf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,$l(e.W),af(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||xh(n.i,e)))if(n.I=e.N,!e.J&&xh(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ld(n),Jh(n)}ud(n),pf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=mf(Nc(n.ab,n),6e3));if(1>=wh(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else dd(n,11)}else if((e.J||n.g==e)&&ld(n),!Vc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Bc(l,"spdy")||Bc(l,"quic")||Bc(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(_h(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,eh(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=vd(r,r.H?r.la:null,r.W),d.J){Ih(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Vf(p),Ff(p)),r.g=d}else od(r);0<n.l.length&&nd(n)}else"stop"!=a[0]&&"close"!=a[0]||dd(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?dd(n,7):Xh(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}hf(4)}catch(a){}}function qf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ic(e)||"string"===typeof e)Mc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ic(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ic(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Kf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Kf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Wf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Gf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Gf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Gf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(gc=Tf.prototype).setTimeout=function(e){this.P=e},gc.gb=function(e){e=e.target;var t=this.L;t&&3==Hh(e)?t.l():this.Ia(e)},gc.Ia=function(e){try{if(e==this.g)e:{var t=Hh(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||tl||this.g&&(this.h.h||this.g.ga()||Zh(this.g)))){this.I||4!=t||7==n||hf(8==n||0>=r?3:2),Vf(this);var i=this.g.ba();this.N=i;t:if(Of(this)){var a=Zh(this.g);e="";var o=a.length,u=4==Hh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zf(this),jf(this);var s="";break t}this.h.i=new xc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vc(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,pf(12),zf(this),jf(this);break e}uf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bf(this,i)}this.U?(Lf(this,t,s),tl&&this.i&&3==t&&(rf(this.V,this.W,"tick",this.fb),this.W.start())):(uf(this.j,this.m,s,null),Bf(this,s)),4==t&&zf(this),this.i&&!this.I&&(4==t?fd(this.l,this):(this.i=!1,Ff(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,pf(12)):(this.o=0,pf(13)),zf(this),jf(this)}}}catch(t){}},gc.fb=function(){if(this.g){var e=Hh(this.g),t=this.g.ga();this.C<t.length&&(Vf(this),Lf(this,e,t),this.i&&4!=e&&Ff(this))}},gc.cancel=function(){this.I=!0,zf(this)},gc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hf(3),pf(17)),zf(this),this.o=2,jf(this)):Uf(this,this.Y-e)},(gc=Kf.prototype).R=function(){Wf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},gc.T=function(){return Wf(this),this.g.concat()},gc.get=function(e,t){return Gf(this.h,e)?this.h[e]:t},gc.set=function(e,t){Gf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},gc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Hf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zf(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Zf){this.g=void 0!==t?t:e.g,Yf(this,e.j),this.s=e.s,$f(this,e.i),Xf(this,e.m),this.l=e.l,t=e.h;var n=new lh;n.i=t.i,t.g&&(n.g=new Kf(t.g),n.h=t.h),Jf(this,n),this.o=e.o}else e&&(n=String(e).match(Hf))?(this.g=!!t,Yf(this,n[1]||"",!0),this.s=nh(n[2]||""),$f(this,n[3]||"",!0),Xf(this,n[4]),this.l=nh(n[5]||"",!0),Jf(this,n[6]||"",!0),this.o=nh(n[7]||"")):(this.g=!!t,this.h=new lh(null,this.g))}function Qf(e){return new Zf(e)}function Yf(e,t,n){e.j=n?nh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $f(e,t,n){e.i=n?nh(t,!0):t}function Xf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Jf(e,t,n){t instanceof lh?(e.h=t,function(e,t){t&&!e.j&&(fh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hh(this,t),ph(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=rh(t,sh)),e.h=new lh(t,e.g))}function eh(e,t,n){e.h.set(t,n)}function th(e){return eh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ih),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ih(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rh(t,ah,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rh(t,ah,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(rh(n,"/"==n.charAt(0)?uh:oh,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rh(n,ch)),e.join("")};var ah=/[#\/\?@]/g,oh=/[#\?:]/g,uh=/[#\?]/g,sh=/[#\?@]/g,ch=/#/g;function lh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fh(e){e.g||(e.g=new Kf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hh(e,t){fh(e),t=vh(e,t),Gf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Gf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Wf(e)))}function dh(e,t){return fh(e),t=vh(e,t),Gf(e.g.h,t)}function ph(e,t,n){hh(e,t),0<n.length&&(e.i=null,e.g.set(vh(e,t),Uc(n)),e.h+=n.length)}function vh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(gc=lh.prototype).add=function(e,t){fh(this),this.i=null,e=vh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},gc.forEach=function(e,t){fh(this),this.g.forEach((function(n,r){Mc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},gc.T=function(){fh(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},gc.R=function(e){fh(this);var t=[];if("string"===typeof e)dh(this,e)&&(t=Fc(t,this.g.get(vh(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Fc(t,e[n])}return t},gc.set=function(e,t){return fh(this),this.i=null,dh(this,e=vh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},gc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},gc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var mh=M((function e(t,n){O(this,e),this.h=t,this.g=n}));function yh(e){this.l=e||kh,xc.PerformanceNavigationTiming?e=0<(e=xc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xc.g&&xc.g.Ea&&xc.g.Ea()&&xc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gh,kh=10;function bh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wh(e){return e.h?1:e.g?e.g.size:0}function xh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _h(e,t){e.g?e.g.add(t):e.h=t}function Ih(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Sh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=U(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Uc(e.i)}function Eh(){}function Th(){this.g=new Eh}function Ch(e,t,n){var r=n||"";try{qf(e,(function(e,n){var i=e;Sc(e)&&(i=Vl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ah(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Nh(e){this.l=e.$b||null,this.j=e.ib||!1}function Rh(e,t){Ml.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Dh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yh.prototype.cancel=function(){if(this.i=Sh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=U(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Eh.prototype.stringify=function(e){return xc.JSON.stringify(e,void 0)},Eh.prototype.parse=function(e){return xc.JSON.parse(e,void 0)},Dc(Nh,kf),Nh.prototype.g=function(){return new Rh(this.l,this.j)},Nh.prototype.i=(gh={},function(){return gh}),Dc(Rh,Ml);var Dh=0;function Ph(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Oh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Lh(e)}function Lh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(gc=Rh.prototype).open=function(e,t){if(this.readyState!=Dh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Lh(this)},gc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||xc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},gc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oh(this)),this.readyState=Dh},gc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lh(this)),this.g&&(this.readyState=3,Lh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof xc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ph(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},gc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Oh(this):Lh(this),3==this.readyState&&Ph(this)}},gc.Ua=function(e){this.g&&(this.response=this.responseText=e,Oh(this))},gc.Ta=function(e){this.g&&(this.response=e,Oh(this))},gc.ha=function(){this.g&&Oh(this)},gc.setRequestHeader=function(e,t){this.v.append(e,t)},gc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},gc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Mh=xc.JSON.parse;function Fh(e){Ml.call(this),this.headers=new Kf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Uh,this.K=this.L=!1}Dc(Fh,Ml);var Uh="",Vh=/^https?$/i,jh=["POST","PUT"];function zh(e){return"content-type"==e.toLowerCase()}function Bh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,qh(e),Wh(e)}function qh(e){e.D||(e.D=!0,Fl(e,"complete"),Fl(e,"error"))}function Kh(e){if(e.h&&"undefined"!=typeof wc&&(!e.C[1]||4!=Hh(e)||2!=e.ba()))if(e.v&&4==Hh(e))Xl(e.Fa,0,e);else if(Fl(e,"readystatechange"),4==Hh(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Hf)[1]||null;if(!a&&xc.self&&xc.self.location){var o=xc.self.location.protocol;a=o.substr(0,o.length-1)}i=!Vh.test(a?a.toLowerCase():"")}t=i}if(t)Fl(e,"complete"),Fl(e,"success");else{e.m=6;try{var u=2<Hh(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",qh(e)}}finally{Wh(e)}}}function Wh(e,t){if(e.g){Gh(e);var n=e.g,r=e.C[0]?_c:null;e.g=null,e.C=null,t||Fl(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Gh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(xc.clearTimeout(e.A),e.A=null)}function Hh(e){return e.g?e.g.readyState:0}function Zh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Uh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Qh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Gc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):eh(e,t,n))}function Yh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $h(e){this.za=0,this.l=[],this.h=new of,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yh("baseRetryDelayMs",5e3,e),this.$a=Yh("retryDelaySeedMs",1e4,e),this.Ya=Yh("forwardChannelMaxRetries",2,e),this.ra=Yh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new yh(e&&e.concurrentRequestLimit),this.Ca=new Th,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Xh(e){if(ed(e),3==e.G){var t=e.V++,n=Qf(e.F);eh(n,"SID",e.J),eh(n,"RID",t),eh(n,"TYPE","terminate"),id(e,n),(t=new Tf(e,e.h,t,void 0)).K=2,t.v=th(Qf(n)),n=!1,xc.navigator&&xc.navigator.sendBeacon&&(n=xc.navigator.sendBeacon(t.v.toString(),"")),!n&&xc.Image&&((new Image).src=t.v,n=!0),n||(t.g=md(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ff(t)}pd(e)}function Jh(e){e.g&&(sd(e),e.g.cancel(),e.g=null)}function ed(e){Jh(e),e.u&&(xc.clearTimeout(e.u),e.u=null),ld(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xc.clearTimeout(e.m),e.m=null)}function td(e,t){e.l.push(new mh(e.Za++,t)),3==e.G&&nd(e)}function nd(e){bh(e.i)||e.m||(e.m=!0,Gl(e.Ha,e),e.C=0)}function rd(e,t){var n;n=t?t.m:e.V++;var r=Qf(e.F);eh(r,"SID",e.J),eh(r,"RID",n),eh(r,"AID",e.U),id(e,r),e.o&&e.s&&Qh(r,e.o,e.s),n=new Tf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ad(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_h(e.i,n),Df(n,r,t)}function id(e,t){e.j&&qf({},(function(e,n){eh(t,n,e)}))}function ad(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Nc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ch(l,o,"req"+c+"_")}catch(Kd){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function od(e){e.g||e.u||(e.Y=1,Gl(e.Ga,e),e.A=0)}function ud(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=mf(Nc(e.Ga,e),hd(e,e.A)),e.A++,!0)}function sd(e){null!=e.B&&(xc.clearTimeout(e.B),e.B=null)}function cd(e){e.g=new Tf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Qf(e.oa);eh(t,"RID","rpc"),eh(t,"SID",e.J),eh(t,"CI",e.N?"0":"1"),eh(t,"AID",e.U),id(e,t),eh(t,"TYPE","xmlhttp"),e.o&&e.s&&Qh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=th(Qf(t)),n.s=null,n.U=!0,Pf(n,e)}function ld(e){null!=e.v&&(xc.clearTimeout(e.v),e.v=null)}function fd(e,t){var n=null;if(e.g==t){ld(e),sd(e),e.g=null;var r=2}else{if(!xh(e.i,t))return;n=t.D,Ih(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Fl(r=lf(),new vf(r,n,t,i)),nd(e)}else od(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(wh(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=mf(Nc(e.Ha,e,t),hd(e,e.C)),e.C++,!0))}(e,t)||2==r&&ud(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:dd(e,5);break;case 4:dd(e,10);break;case 3:dd(e,6);break;default:dd(e,2)}}function hd(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function dd(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Nc(e.jb,e);n||(n=new Zf("//www.google.com/images/cleardot.gif"),xc.location&&"http"==xc.location.protocol||Yf(n,"https"),th(n)),function(e,t){var n=new of;if(xc.Image){var r=new Image;r.onload=Rc(Ah,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rc(Ah,n,r,"TestLoadImage: error",!1,t),r.onabort=Rc(Ah,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rc(Ah,n,r,"TestLoadImage: timeout",!1,t),xc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pf(2);e.G=0,e.j&&e.j.va(t),pd(e),ed(e)}function pd(e){e.G=0,e.I=-1,e.j&&(0==Sh(e.i).length&&0==e.l.length||(e.i.i.length=0,Uc(e.l),e.l.length=0),e.j.ua())}function vd(e,t,n){var r=function(e){return e instanceof Zf?Qf(e):new Zf(e,void 0)}(n);if(""!=r.i)t&&$f(r,t+"."+r.i),Xf(r,r.m);else{var i=xc.location;r=function(e,t,n,r){var i=new Zf(null,void 0);return e&&Yf(i,e),t&&$f(i,t),n&&Xf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Gc(e.aa,(function(e,t){eh(r,t,e)})),t=e.D,n=e.sa,t&&n&&eh(r,t,n),eh(r,"VER",e.ma),id(e,r),r}function md(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Fh(new Nh({ib:!0})):new Fh(e.qa)).L=e.H,t}function yd(){}function gd(){if(Jc&&!(10<=Number(hl)))throw Error("Environmental error: no available transport.")}function kd(e,t){Ml.call(this),this.g=new $h(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Vc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xd(this)}function bd(e){If.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wd(){Sf.call(this),this.status=1}function xd(e){this.g=e}(gc=Fh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xf.g(),this.C=this.u?bf(this.u):bf(xf),this.g.onreadystatechange=Nc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Bh(this,a)}e=n||"";var i=new Kf(this.headers);r&&qf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=zh,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=xc.FormData&&e instanceof xc.FormData,!(0<=Lc(jh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gh(this),0<this.B&&((this.K=function(e){return Jc&&ll()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nc(this.pa,this)):this.A=Xl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Bh(this,a)}},gc.pa=function(){"undefined"!=typeof wc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fl(this,"timeout"),this.abort(8))},gc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fl(this,"complete"),Fl(this,"abort"),Wh(this))},gc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wh(this,!0)),Fh.Z.M.call(this)},gc.Fa=function(){this.s||(this.F||this.v||this.l?Kh(this):this.cb())},gc.cb=function(){Kh(this)},gc.ba=function(){try{return 2<Hh(this)?this.g.status:-1}catch(gh){return-1}},gc.ga=function(){try{return this.g?this.g.responseText:""}catch(gh){return""}},gc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Mh(t)}},gc.Da=function(){return this.m},gc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(gc=$h.prototype).ma=8,gc.G=1,gc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},gc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Tf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Qc(n=Hc(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ad(this,t,r),eh(i=Qf(this.F),"RID",e),eh(i,"CVER",22),this.D&&eh(i,"X-HTTP-Session-Id",this.D),id(this,i),this.o&&n&&Qh(i,this.o,n),_h(this.i,t),this.Ra&&eh(i,"TYPE","init"),this.ja?(eh(i,"$req",r),eh(i,"SID","null"),t.$=!0,Df(t,i,null)):Df(t,i,r),this.G=2}}else 3==this.G&&(e?rd(this,e):0==this.l.length||bh(this.i)||rd(this))},gc.Ga=function(){if(this.u=null,cd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=mf(Nc(this.bb,this),e)}},gc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pf(10),Jh(this),cd(this))},gc.ab=function(){null!=this.v&&(this.v=null,Jh(this),ud(this),pf(19))},gc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),pf(2)):(this.h.info("Failed to ping google.com"),pf(1))},(gc=yd.prototype).xa=function(){},gc.wa=function(){},gc.va=function(){},gc.ua=function(){},gc.Oa=function(){},gd.prototype.g=function(e,t){return new kd(e,t)},Dc(kd,Ml),kd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Gl(Nc(e.hb,e,t))),pf(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=vd(e,null,e.W),nd(e)},kd.prototype.close=function(){Xh(this.g)},kd.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,td(this.g,t)}else this.v?((t={}).__data__=Vl(e),td(this.g,t)):td(this.g,e)},kd.prototype.M=function(){this.g.j=null,delete this.j,Xh(this.g),delete this.g,kd.Z.M.call(this)},Dc(bd,If),Dc(wd,Sf),Dc(xd,yd),xd.prototype.xa=function(){Fl(this.g,"a")},xd.prototype.wa=function(e){Fl(this.g,new bd(e))},xd.prototype.va=function(e){Fl(this.g,new wd(e))},xd.prototype.ua=function(){Fl(this.g,"b")},gd.prototype.createWebChannel=gd.prototype.g,kd.prototype.send=kd.prototype.u,kd.prototype.open=kd.prototype.m,kd.prototype.close=kd.prototype.close,yf.NO_ERROR=0,yf.TIMEOUT=8,yf.HTTP_ERROR=6,gf.COMPLETE="complete",wf.EventType=_f,_f.OPEN="a",_f.CLOSE="b",_f.ERROR="c",_f.MESSAGE="d",Ml.prototype.listen=Ml.prototype.N,Fh.prototype.listenOnce=Fh.prototype.O,Fh.prototype.getLastError=Fh.prototype.La,Fh.prototype.getLastErrorCode=Fh.prototype.Da,Fh.prototype.getStatus=Fh.prototype.ba,Fh.prototype.getResponseJson=Fh.prototype.Qa,Fh.prototype.getResponseText=Fh.prototype.ga,Fh.prototype.send=Fh.prototype.ea;var _d=bc.createWebChannelTransport=function(){return new gd},Id=bc.getStatEventTarget=function(){return lf()},Sd=bc.ErrorCode=yf,Ed=bc.EventType=gf,Td=bc.Event=sf,Cd=bc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ad=bc.FetchXmlHttpFactory=Nh,Nd=bc.WebChannel=wf,Rd=bc.XhrIo=Fh,Dd="@firebase/firestore",Pd=function(){function e(t){O(this,e),this.uid=t}return M(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Pd.UNAUTHENTICATED=new Pd(null),Pd.GOOGLE_CREDENTIALS=new Pd("google-credentials-uid"),Pd.FIRST_PARTY=new Pd("first-party-uid"),Pd.MOCK_USER=new Pd("mock-user");var Od="9.8.0",Ld=new Ue("@firebase/firestore");function Md(){return Ld.logLevel}function Fd(e){if(Ld.logLevel<=Re.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jd);Ld.debug.apply(Ld,["Firestore (".concat(Od,"): ").concat(e)].concat((0,Ie.Z)(i)))}}function Ud(e){if(Ld.logLevel<=Re.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jd);Ld.error.apply(Ld,["Firestore (".concat(Od,"): ").concat(e)].concat((0,Ie.Z)(i)))}}function Vd(e){if(Ld.logLevel<=Re.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jd);Ld.warn.apply(Ld,["Firestore (".concat(Od,"): ").concat(e)].concat((0,Ie.Z)(i)))}}function jd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function zd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Od,") INTERNAL ASSERTION FAILED: ")+e;throw Ud(t),new Error(t)}function Bd(e,t){e||zd()}function qd(e,t){return e}var Kd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wd=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return M(n)}(ce),Gd=M((function e(){var t=this;O(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Hd=M((function e(t,n){O(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Zd=function(){function e(){O(this,e)}return M(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Pd.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Qd=function(){function e(t){O(this,e),this.token=t,this.changeListener=null}return M(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Yd=function(){function e(t){O(this,e),this.t=t,this.currentUser=Pd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return M(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Gd;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Gd,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Fd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Fd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gd)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Fd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Bd("string"==typeof n.accessToken),new Hd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Bd(null===e||"string"==typeof e),new Pd(e)}}]),e}(),$d=M((function e(t,n,r){O(this,e),this.type="FirstParty",this.user=Pd.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Xd=function(){function e(t,n,r){O(this,e),this.h=t,this.l=n,this.m=r}return M(e,[{key:"getToken",value:function(){return Promise.resolve(new $d(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Pd.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Jd=M((function e(t){O(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ep=function(){function e(t){O(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return M(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Fd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Fd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Fd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Fd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Bd("string"==typeof t.token),e.p=t.token,new Jd(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),tp=function(){function e(t,n){var r=this;O(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return M(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function np(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}tp.A=-1;var rp=function(){function e(){O(this,e)}return M(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=np(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ip(e,t){return e<t?-1:e>t?1:0}function ap(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function op(e){return e+"\0"}var up=function(){function e(t,n){if(O(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Wd(Kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Wd(Kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Wd(Kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wd(Kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return M(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ip(this.nanoseconds,e.nanoseconds):ip(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sp=function(){function e(t){O(this,e),this.timestamp=t}return M(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new up(0,0))}},{key:"max",value:function(){return new e(new up(253402300799,999999999))}}]),e}();function cp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lp(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var hp=function(){function e(t,n,r){O(this,e),void 0===n?n=0:n>t.length&&zd(),void 0===r?r=t.length-n:r>t.length-n&&zd(),this.segments=t,this.offset=n,this.len=r}return M(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),dp=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.apply(this,arguments)}return M(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,Ie.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hp),pp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vp=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.apply(this,arguments)}return M(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return pp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Wd(Kd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wd(Kd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Wd(Kd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hp),mp=function(){function e(t){O(this,e),this.fields=t,t.sort(vp.comparator)}return M(e,[{key:"covers",value:function(e){var t,n=U(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ap(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var yp=function(e){function t(e){O(this,t),this.binaryString=e}return M(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ip(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();yp.EMPTY_BYTE_STRING=new yp("");var gp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kp(e){if(Bd(!!e),"string"==typeof e){var t=0,n=gp.exec(e);if(Bd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bp(e.seconds),nanos:bp(e.nanos)}}function bp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wp(e){return"string"==typeof e?yp.fromBase64String(e):yp.fromUint8Array(e)}function xp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _p(e){var t=e.mapValue.fields.__previous_value__;return xp(t)?_p(t):t}function Ip(e){var t=kp(e.mapValue.fields.__local_write_time__.timestampValue);return new up(t.seconds,t.nanos)}var Sp=M((function e(t,n,r,i,a,o,u,s){O(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ep=function(){function e(t,n){O(this,e),this.projectId=t,this.database=n||"(default)"}return M(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Tp(e){return null==e}function Cp(e){return 0===e&&1/e==-1/0}function Ap(e){return"number"==typeof e&&Number.isInteger(e)&&!Cp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Np=function(){function e(t){O(this,e),this.path=t}return M(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===dp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(dp.fromString(t))}},{key:"fromName",value:function(t){return new e(dp.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(dp.emptyPath())}},{key:"comparator",value:function(e,t){return dp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new dp(t.slice()))}}]),e}(),Rp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dp={nullValue:"NULL_VALUE"};function Pp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xp(e)?4:Hp(e)?9007199254740991:10:zd()}function Op(e,t){if(e===t)return!0;var n=Pp(e);if(n!==Pp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ip(e).isEqual(Ip(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=kp(e.timestampValue),r=kp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wp(e.bytesValue).isEqual(wp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bp(e.geoPointValue.latitude)===bp(t.geoPointValue.latitude)&&bp(e.geoPointValue.longitude)===bp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bp(e.integerValue)===bp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=bp(e.doubleValue),r=bp(t.doubleValue);return n===r?Cp(n)===Cp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ap(e.arrayValue.values||[],t.arrayValue.values||[],Op);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cp(n)!==cp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Op(n[i],r[i])))return!1;return!0}(e,t);default:return zd()}}function Lp(e,t){return void 0!==(e.values||[]).find((function(e){return Op(e,t)}))}function Mp(e,t){if(e===t)return 0;var n=Pp(e),r=Pp(t);if(n!==r)return ip(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ip(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=bp(e.integerValue||e.doubleValue),r=bp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fp(e.timestampValue,t.timestampValue);case 4:return Fp(Ip(e),Ip(t));case 5:return ip(e.stringValue,t.stringValue);case 6:return function(e,t){var n=wp(e),r=wp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ip(n[i],r[i]);if(0!==a)return a}return ip(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ip(bp(e.latitude),bp(t.latitude));return 0!==n?n:ip(bp(e.longitude),bp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Mp(n[i],r[i]);if(a)return a}return ip(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Rp.mapValue&&t===Rp.mapValue)return 0;if(e===Rp.mapValue)return 1;if(t===Rp.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ip(r[o],a[o]);if(0!==u)return u;var s=Mp(n[r[o]],i[a[o]]);if(0!==s)return s}return ip(r.length,a.length)}(e.mapValue,t.mapValue);default:throw zd()}}function Fp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ip(e,t);var n=kp(e),r=kp(t),i=ip(n.seconds,r.seconds);return 0!==i?i:ip(n.nanos,r.nanos)}function Up(e){return Vp(e)}function Vp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=kp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wp(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Np.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=U(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Vp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=U(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Vp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):zd();var t,n}function jp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function zp(e){return!!e&&"integerValue"in e}function Bp(e){return!!e&&"arrayValue"in e}function qp(e){return!!e&&"nullValue"in e}function Kp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wp(e){return!!e&&"mapValue"in e}function Gp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lp(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Gp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gp(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Hp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zp(e){return"nullValue"in e?Dp:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?jp(Ep.empty(),Np.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:zd()}function Qp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?jp(Ep.empty(),Np.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Rp:zd()}function Yp(e,t){var n=Mp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $p(e,t){var n=Mp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Xp=function(){function e(t){O(this,e),this.value=t}return M(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gp(t)}},{key:"setAll",value:function(e){var t=this,n=vp.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Gp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Op(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){lp(t,(function(t,n){return e[t]=n}));var r,i=U(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Gp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Jp(e){var t=[];return lp(e.fields,(function(e,n){var r=new vp([e]);if(Wp(n)){var i=Jp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=U(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new mp(t)}var ev=function(){function e(t,n,r,i,a,o){O(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return M(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Xp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Xp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sp.min(),sp.min(),Xp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,sp.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,sp.min(),Xp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,sp.min(),Xp.empty(),2)}}]),e}(),tv=M((function e(t,n,r,i){O(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function nv(e){return e.fields.find((function(e){return 2===e.kind}))}function rv(e){return e.fields.filter((function(e){return 2!==e.kind}))}tv.UNKNOWN_ID=-1;var iv=M((function e(t,n){O(this,e),this.fieldPath=t,this.kind=n})),av=function(){function e(t,n){O(this,e),this.sequenceNumber=t,this.offset=n}return M(e,null,[{key:"empty",value:function(){return new e(0,sv.min())}}]),e}();function ov(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=sp.fromTimestamp(1e9===r?new up(n+1,0):new up(n,r));return new sv(i,Np.empty(),t)}function uv(e){return new sv(e.readTime,e.key,-1)}var sv=function(){function e(t,n,r){O(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return M(e,null,[{key:"min",value:function(){return new e(sp.min(),Np.empty(),-1)}},{key:"max",value:function(){return new e(sp.max(),Np.empty(),-1)}}]),e}();function cv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Np.comparator(e.documentKey,t.documentKey))?n:ip(e.largestBatchId,t.largestBatchId)}var lv=function(){function e(t,n){O(this,e),this.comparator=t,this.root=n||hv.EMPTY}return M(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new fv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new fv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new fv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new fv(this.root,e,this.comparator,!0)}}]),e}(),fv=function(){function e(t,n,r,i){O(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return M(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),hv=function(){function e(t,n,r,i,a){O(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return M(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw zd();if(this.right.isRed())throw zd();var e=this.left.check();if(e!==this.right.check())throw zd();return e+(this.isRed()?0:1)}}]),e}();hv.EMPTY=null,hv.RED=!0,hv.BLACK=!1,hv.EMPTY=new(function(){function e(){O(this,e),this.size=0}return M(e,[{key:"key",get:function(){throw zd()}},{key:"value",get:function(){throw zd()}},{key:"color",get:function(){throw zd()}},{key:"left",get:function(){throw zd()}},{key:"right",get:function(){throw zd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new hv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var dv=function(){function e(t){O(this,e),this.comparator=t,this.data=new lv(this.comparator)}return M(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new pv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new pv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),pv=function(){function e(t){O(this,e),this.iter=t}return M(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function vv(e){return e.hasNext()?e.getNext():void 0}var mv=M((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;O(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function yv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new mv(e,t,n,r,i,a,o)}function gv(e){var t=qd(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Up(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Tp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Up(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Up(e)})).join(",")),t.P=n}return t.P}function kv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Lv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Op(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fv(e.startAt,t.startAt)&&Fv(e.endAt,t.endAt)}function bv(e){return Np.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function wv(e,t){return e.filters.filter((function(e){return e instanceof Iv&&e.field.isEqual(t)}))}function xv(e,t,n){var r,i=Dp,a=!0,o=U(wv(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Dp,c=!0;switch(u.op){case"<":case"<=":s=Zp(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Dp}Yp({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Yp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function _v(e,t,n){var r,i=Rp,a=!0,o=U(wv(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Rp,c=!0;switch(u.op){case">=":case">":s=Qp(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Rp}$p({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];$p({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Iv=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return M(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Mp(t,this.value)):null!==t&&Pp(this.value)===Pp(t)&&this.v(Mp(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zd()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Sv(e,t,r):"array-contains"===t?new Av(e,r):"in"===t?new Nv(e,r):"not-in"===t?new Rv(e,r):"array-contains-any"===t?new Dv(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Ev(e,n):new Tv(e,n)}}]),n}(function(){return M((function e(){O(this,e)}))}()),Sv=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this,e,r,i)).key=Np.fromName(i.referenceValue),a}return M(n,[{key:"matches",value:function(e){var t=Np.comparator(e.key,this.key);return this.v(t)}}]),n}(Iv),Ev=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,"in",r)).keys=Cv("in",r),i}return M(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Iv),Tv=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,"not-in",r)).keys=Cv("not-in",r),i}return M(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Iv);function Cv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Np.fromName(e.referenceValue)}))}var Av=function(e){z(n,e);var t=G(n);function n(e,r){return O(this,n),t.call(this,e,"array-contains",r)}return M(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Bp(t)&&Lp(t.arrayValue,this.value)}}]),n}(Iv),Nv=function(e){z(n,e);var t=G(n);function n(e,r){return O(this,n),t.call(this,e,"in",r)}return M(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Lp(this.value.arrayValue,t)}}]),n}(Iv),Rv=function(e){z(n,e);var t=G(n);function n(e,r){return O(this,n),t.call(this,e,"not-in",r)}return M(n,[{key:"matches",value:function(e){if(Lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Lp(this.value.arrayValue,t)}}]),n}(Iv),Dv=function(e){z(n,e);var t=G(n);function n(e,r){return O(this,n),t.call(this,e,"array-contains-any",r)}return M(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Lp(t.value.arrayValue,e)}))}}]),n}(Iv),Pv=M((function e(t,n){O(this,e),this.position=t,this.inclusive=n})),Ov=M((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";O(this,e),this.field=t,this.dir=n}));function Lv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Mv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Np.comparator(Np.fromName(o.referenceValue),n.key):Mp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Fv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Op(e.position[n],t.position[n]))return!1;return!0}var Uv=M((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;O(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Vv(e,t,n,r,i,a,o,u){return new Uv(e,t,n,r,i,a,o,u)}function jv(e){return new Uv(e)}function zv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Bv(e){var t,n=U(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function qv(e){return null!==e.collectionGroup}function Kv(e){var t=qd(e);if(null===t.D){t.D=[];var n=Bv(t),r=zv(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ov(n)),t.D.push(new Ov(vp.keyField(),"asc"));else{var i,a=!1,o=U(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ov(vp.keyField(),s))}}}return t.D}function Wv(e){var t=qd(e);if(!t.C)if("F"===t.limitType)t.C=yv(t.path,t.collectionGroup,Kv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=U(Kv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ov(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Pv(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Pv(t.startAt.position,t.startAt.inclusive):null;t.C=yv(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Gv(e,t,n){return new Uv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hv(e,t){return kv(Wv(e),Wv(t))&&e.limitType===t.limitType}function Zv(e){return"".concat(gv(Wv(e)),"|lt:").concat(e.limitType)}function Qv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Up(t.value));var t})).join(", "),"]")),Tp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Up(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Up(e)})).join(",")),"Target(".concat(t,")")}(Wv(e)),"; limitType=").concat(e.limitType,")")}function Yv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Np.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=U(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=U(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Mv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Kv(e),t))&&!(e.endAt&&!function(e,t,n){var r=Mv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Kv(e),t))}(e,t)}function $v(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xv(e){return function(t,n){var r,i=!1,a=U(Kv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Jv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Jv(e,t,n){var r=e.field.isKeyField()?Np.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mp(r,i):zd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zd()}}function em(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cp(t)?"-0":t}}function tm(e){return{integerValue:""+e}}function nm(e,t){return Ap(t)?tm(t):em(e,t)}var rm=M((function e(){O(this,e),this._=void 0}));function im(e,t,n){return e instanceof um?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sm?cm(e,t):e instanceof lm?fm(e,t):function(e,t){var n=om(e,t),r=dm(n)+dm(e.k);return zp(n)&&zp(e.k)?tm(r):em(e.M,r)}(e,t)}function am(e,t,n){return e instanceof sm?cm(e,t):e instanceof lm?fm(e,t):n}function om(e,t){return e instanceof hm?zp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var um=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.apply(this,arguments)}return M(n)}(rm),sm=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this)).elements=e,r}return M(n)}(rm);function cm(e,t){var n,r=pm(t),i=U(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Op(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var lm=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this)).elements=e,r}return M(n)}(rm);function fm(e,t){var n,r=pm(t),i=U(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Op(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hm=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).M=e,i.k=r,i}return M(n)}(rm);function dm(e){return bp(e.integerValue||e.doubleValue)}function pm(e){return Bp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var vm=M((function e(t,n){O(this,e),this.field=t,this.transform=n}));var mm=M((function e(t,n){O(this,e),this.version=t,this.transformResults=n})),ym=function(){function e(t,n){O(this,e),this.updateTime=t,this.exists=n}return M(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function gm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var km=M((function e(){O(this,e)}));function bm(e,t,n){e instanceof Sm?function(e,t,n){var r=e.value.clone(),i=Cm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Em?function(e,t,n){if(gm(e.precondition,t)){var r=Cm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Tm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wm(e,t,n){e instanceof Sm?function(e,t,n){if(gm(e.precondition,t)){var r=e.value.clone(),i=Am(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Im(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Em?function(e,t,n){if(gm(e.precondition,t)){var r=Am(e.fieldTransforms,n,t),i=t.data;i.setAll(Tm(e)),i.setAll(r),t.convertToFoundDocument(Im(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){gm(e.precondition,t)&&t.convertToNoDocument(sp.min())}(e,t)}function xm(e,t){var n,r=null,i=U(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=om(a.transform,o||null);null!=u&&(null==r&&(r=Xp.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function _m(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ap(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sm&&t instanceof sm||e instanceof lm&&t instanceof lm?ap(e.elements,t.elements,Op):e instanceof hm&&t instanceof hm?Op(e.k,t.k):e instanceof um&&t instanceof um}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Im(e){return e.isFoundDocument()?e.version:sp.min()}var Sm=function(e){z(n,e);var t=G(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return O(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return M(n)}(km),Em=function(e){z(n,e);var t=G(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return O(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return M(n)}(km);function Tm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Cm(e,t,n){var r=new Map;Bd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,am(o,u,n[i]))}return r}function Am(e,t,n){var r,i=new Map,a=U(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,im(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Nm,Rm,Dm=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return M(n)}(km),Pm=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return M(n)}(km),Om=M((function e(t){O(this,e),this.count=t}));function Lm(e){switch(e){default:return zd();case Kd.CANCELLED:case Kd.UNKNOWN:case Kd.DEADLINE_EXCEEDED:case Kd.RESOURCE_EXHAUSTED:case Kd.INTERNAL:case Kd.UNAVAILABLE:case Kd.UNAUTHENTICATED:return!1;case Kd.INVALID_ARGUMENT:case Kd.NOT_FOUND:case Kd.ALREADY_EXISTS:case Kd.PERMISSION_DENIED:case Kd.FAILED_PRECONDITION:case Kd.ABORTED:case Kd.OUT_OF_RANGE:case Kd.UNIMPLEMENTED:case Kd.DATA_LOSS:return!0}}function Mm(e){if(void 0===e)return Ud("GRPC error has no .code"),Kd.UNKNOWN;switch(e){case Nm.OK:return Kd.OK;case Nm.CANCELLED:return Kd.CANCELLED;case Nm.UNKNOWN:return Kd.UNKNOWN;case Nm.DEADLINE_EXCEEDED:return Kd.DEADLINE_EXCEEDED;case Nm.RESOURCE_EXHAUSTED:return Kd.RESOURCE_EXHAUSTED;case Nm.INTERNAL:return Kd.INTERNAL;case Nm.UNAVAILABLE:return Kd.UNAVAILABLE;case Nm.UNAUTHENTICATED:return Kd.UNAUTHENTICATED;case Nm.INVALID_ARGUMENT:return Kd.INVALID_ARGUMENT;case Nm.NOT_FOUND:return Kd.NOT_FOUND;case Nm.ALREADY_EXISTS:return Kd.ALREADY_EXISTS;case Nm.PERMISSION_DENIED:return Kd.PERMISSION_DENIED;case Nm.FAILED_PRECONDITION:return Kd.FAILED_PRECONDITION;case Nm.ABORTED:return Kd.ABORTED;case Nm.OUT_OF_RANGE:return Kd.OUT_OF_RANGE;case Nm.UNIMPLEMENTED:return Kd.UNIMPLEMENTED;case Nm.DATA_LOSS:return Kd.DATA_LOSS;default:return zd()}}(Rm=Nm||(Nm={}))[Rm.OK=0]="OK",Rm[Rm.CANCELLED=1]="CANCELLED",Rm[Rm.UNKNOWN=2]="UNKNOWN",Rm[Rm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rm[Rm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rm[Rm.NOT_FOUND=5]="NOT_FOUND",Rm[Rm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rm[Rm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rm[Rm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rm[Rm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rm[Rm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rm[Rm.ABORTED=10]="ABORTED",Rm[Rm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rm[Rm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rm[Rm.INTERNAL=13]="INTERNAL",Rm[Rm.UNAVAILABLE=14]="UNAVAILABLE",Rm[Rm.DATA_LOSS=15]="DATA_LOSS";var Fm=function(){function e(t,n){O(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return M(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=U(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){lp(this.inner,(function(t,n){var r,a=U(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){a.e(c)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return fp(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Um=new lv(Np.comparator);function Vm(){return Um}var jm=new lv(Np.comparator);function zm(){for(var e=jm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Bm(){return new Fm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var qm=new lv(Np.comparator),Km=new dv(Np.comparator);function Wm(){for(var e=Km,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Gm=new dv(ip);function Hm(){return Gm}var Zm=function(){function e(t,n,r,i,a){O(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return M(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Qm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(sp.min(),r,Hm(),Vm(),Wm())}}]),e}(),Qm=function(){function e(t,n,r,i,a){O(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return M(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(yp.EMPTY_BYTE_STRING,n,Wm(),Wm(),Wm())}}]),e}(),Ym=M((function e(t,n,r,i){O(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),$m=M((function e(t,n){O(this,e),this.targetId=t,this.$=n})),Xm=M((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yp.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;O(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Jm=function(){function e(){O(this,e),this.B=0,this.L=ny(),this.U=yp.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return M(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Wm(),t=Wm(),n=Wm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zd()}})),new Qm(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=ny()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),ey=function(){function e(t){O(this,e),this.nt=t,this.st=new Map,this.it=Vm(),this.rt=ty(),this.ot=new dv(ip)}return M(e,[{key:"ut",value:function(e){var t,n=U(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=U(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:zd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(bv(i))if(0===n){var a=new Np(i.path);this.ct(t,a,ev.newNoDocument(a,sp.min()))}else Bd(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&bv(a.target)){var o=new Np(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,ev.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Wm();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Zm(e,n,this.ot,this.it,r);return this.it=Vm(),this.rt=ty(),this.ot=new dv(ip),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Jm,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new dv(ip),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Fd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Jm),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ty(){return new lv(Np.comparator)}function ny(){return new lv(Np.comparator)}var ry={asc:"ASCENDING",desc:"DESCENDING"},iy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ay=M((function e(t,n){O(this,e),this.databaseId=t,this.N=n}));function oy(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function uy(e,t){return e.N?t.toBase64():t.toUint8Array()}function sy(e,t){return oy(e,t.toTimestamp())}function cy(e){return Bd(!!e),sp.fromTimestamp(function(e){var t=kp(e);return new up(t.seconds,t.nanos)}(e))}function ly(e,t){return function(e){return new dp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function fy(e){var t=dp.fromString(e);return Bd(Oy(t)),t}function hy(e,t){return ly(e.databaseId,t.path)}function dy(e,t){var n=fy(t);if(n.get(1)!==e.databaseId.projectId)throw new Wd(Kd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wd(Kd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Np(yy(n))}function py(e,t){return ly(e.databaseId,t)}function vy(e){var t=fy(e);return 4===t.length?dp.emptyPath():yy(t)}function my(e){return new dp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yy(e){return Bd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gy(e,t,n){return{name:hy(e,t),fields:n.value.mapValue.fields}}function ky(e,t,n){var r=dy(e,t.name),i=cy(t.updateTime),a=new Xp({mapValue:{fields:t.fields}}),o=ev.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function by(e,t){return"found"in t?function(e,t){Bd(!!t.found),t.found.name,t.found.updateTime;var n=dy(e,t.found.name),r=cy(t.found.updateTime),i=new Xp({mapValue:{fields:t.found.fields}});return ev.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Bd(!!t.missing),Bd(!!t.readTime);var n=dy(e,t.missing),r=cy(t.readTime);return ev.newNoDocument(n,r)}(e,t):zd()}function wy(e,t){var n;if(t instanceof Sm)n={update:gy(e,t.key,t.value)};else if(t instanceof Dm)n={delete:hy(e,t.key)};else if(t instanceof Em)n={update:gy(e,t.key,t.data),updateMask:Py(t.fieldMask)};else{if(!(t instanceof Pm))return zd();n={verify:hy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof um)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hm)return{fieldPath:t.field.canonicalString(),increment:n.k};throw zd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zd()}(e,t.precondition)),n}function xy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ym.updateTime(cy(e.updateTime)):void 0!==e.exists?ym.exists(e.exists):ym.none()}(t.currentDocument):ym.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Bd("REQUEST_TIME"===t.setToServerValue),n=new um;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new sm(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new lm(i)}else"increment"in t?n=new hm(e,t.increment):zd();var a=vp.fromServerFormat(t.fieldPath);return new vm(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=dy(e,t.update.name),a=new Xp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new mp(t.map((function(e){return vp.fromServerFormat(e)})))}(t.updateMask);return new Em(i,a,o,n,r)}return new Sm(i,a,n,r)}if(t.delete){var u=dy(e,t.delete);return new Dm(u,n)}if(t.verify){var s=dy(e,t.verify);return new Pm(s,n)}return zd()}function _y(e,t){return{documents:[py(e,t.path)]}}function Iy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=py(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=py(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Kp(e.value))return{unaryFilter:{field:Ay(e.field),op:"IS_NAN"}};if(qp(e.value))return{unaryFilter:{field:Ay(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kp(e.value))return{unaryFilter:{field:Ay(e.field),op:"IS_NOT_NAN"}};if(qp(e.value))return{unaryFilter:{field:Ay(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ay(e.field),op:Cy(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ay(e.field),direction:Ty(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Tp(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Sy(e){var t=vy(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Bd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ey(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ov(Ny(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Tp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Pv(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Pv(n,t)}(n.endAt)),Vv(t,i,u,o,s,"F",c,l)}function Ey(e){return e?void 0!==e.unaryFilter?[Dy(e)]:void 0!==e.fieldFilter?[Ry(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ey(e)})).reduce((function(e,t){return e.concat(t)})):zd():[]}function Ty(e){return ry[e]}function Cy(e){return iy[e]}function Ay(e){return{fieldPath:e.canonicalString()}}function Ny(e){return vp.fromServerFormat(e.fieldPath)}function Ry(e){return Iv.create(Ny(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zd()}}(e.fieldFilter.op),e.fieldFilter.value)}function Dy(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ny(e.unaryFilter.field);return Iv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ny(e.unaryFilter.field);return Iv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ny(e.unaryFilter.field);return Iv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ny(e.unaryFilter.field);return Iv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return zd()}}function Py(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Oy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ly(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Fy(t)),t=My(e.get(n),t);return Fy(t)}function My(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Fy(e){return e+"\x01\x01"}function Uy(e){var t=e.length;if(Bd(t>=2),2===t)return Bd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),dp.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&zd(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:zd()}a=o+2}return new dp(r)}var Vy=["userId","batchId"];function jy(e,t){return[e,Ly(t)]}function zy(e,t,n){return[e,Ly(t),n]}var By={},qy=["prefixPath","collectionGroup","readTime","documentId"],Ky=["prefixPath","collectionGroup","documentId"],Wy=["collectionGroup","readTime","prefixPath","documentId"],Gy=["canonicalId","targetId"],Hy=["targetId","path"],Zy=["path","targetId"],Qy=["collectionId","parent"],Yy=["indexId","uid"],$y=["uid","sequenceNumber"],Xy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jy=["indexId","uid","orderedDocumentKey"],eg=["userId","collectionPath","documentId"],tg=["userId","collectionPath","largestBatchId"],ng=["userId","collectionGroup","largestBatchId"],rg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ig=[].concat((0,Ie.Z)(rg),["documentOverlays"]),ag=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],og=[].concat(ag,["indexConfiguration","indexState","indexEntries"]),ug="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sg=function(){function e(){O(this,e),this.onCommittedListeners=[]}return M(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),cg=function(){function e(t){var n=this;O(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return M(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&zd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=U(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),lg=function(){function e(t,n){var r=this;O(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Gd,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new dg(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=gg(e.target.error);r.At.reject(new dg(t,n))}}return M(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Fd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new vg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new dg(n,t)}}}]),e}(),fg=function(){function e(t,n,r){O(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(ne())&&Ud("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return M(e,[{key:"Nt",value:function(){var e=Ee(_e().mark((function e(t){var n=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Fd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new dg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Wd(Kd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Wd(Kd.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new dg(t,n))},i.onupgradeneeded=function(e){Fd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Fd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ee(_e().mark((function e(t,n,r,i){var a,o,u,s,c=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(_e().mark((function e(){var n,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=lg.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),cg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Fd("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Fd("SimpleDb","Removing database:",e),mg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!se())return!1;if(e.St())return!0;var t=ne(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),hg=function(){function e(t){O(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return M(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return mg(this.Ft.delete())}}]),e}(),dg=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,Kd.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return M(n)}(Wd);function pg(e){return"IndexedDbTransactionError"===e.name}var vg=function(){function e(t){O(this,e),this.store=t}return M(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Fd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Fd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),mg(n)}},{key:"add",value:function(e){return Fd("SimpleDb","ADD",this.store.name,e,e),mg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return mg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Fd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Fd("SimpleDb","DELETE",this.store.name,e),mg(this.store.delete(e))}},{key:"count",value:function(){return Fd("SimpleDb","COUNT",this.store.name),mg(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new cg((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new cg((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Fd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new cg((function(n,r){t.onerror=function(e){var t=gg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new cg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new hg(i),o=t(i.primaryKey,i.value,a);if(o instanceof cg){var u=o.catch((function(e){return a.done(),cg.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return cg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function mg(e){return new cg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=gg(e.target.error);n(t)}}))}var yg=!1;function gg(e){var t=fg.Vt(ne());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Wd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return yg||(yg=!0,setTimeout((function(){throw r}),0)),r}}return e}var kg=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return M(n)}(sg);function bg(e,t){var n=qd(e);return fg.xt(n.Ht,t)}var wg=function(){function e(t,n,r,i){O(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return M(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&bm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=U(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&wm(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=U(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&wm(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(sp.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Wm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ap(this.mutations,e.mutations,(function(e,t){return _m(e,t)}))&&ap(this.baseMutations,e.baseMutations,(function(e,t){return _m(e,t)}))}}]),e}(),xg=function(){function e(t,n,r,i){O(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return M(e,null,[{key:"from",value:function(t,n,r){Bd(t.mutations.length===r.length);for(var i=qm,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),_g=function(){function e(t,n){O(this,e),this.largestBatchId=t,this.mutation=n}return M(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ig=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sp.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yp.EMPTY_BYTE_STRING;O(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return M(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Sg=M((function e(t){O(this,e),this.Jt=t}));function Eg(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:hy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:oy(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cg(t.version)};else{if(!t.isUnknownDocument())return zd();r.unknownDocument={path:n.path.toArray(),version:Cg(t.version)}}return r}function Tg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cg(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ag(e){var t=new up(e.seconds,e.nanoseconds);return sp.fromTimestamp(t)}function Ng(e,t){for(var n=(t.baseMutations||[]).map((function(t){return xy(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return xy(e.Jt,t)})),u=up.fromMillis(t.localWriteTimeMs);return new wg(t.batchId,u,n,o)}function Rg(e){var t,n,r=Ag(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ag(e.lastLimboFreeSnapshotVersion):sp.min();return void 0!==e.query.documents?(Bd(1===(n=e.query).documents.length),t=Wv(jv(vy(n.documents[0])))):t=function(e){return Wv(Sy(e))}(e.query),new Ig(t,e.targetId,0,e.lastListenSequenceNumber,r,i,yp.fromBase64String(e.resumeToken))}function Dg(e,t){var n,r=Cg(t.snapshotVersion),i=Cg(t.lastLimboFreeSnapshotVersion);n=bv(t.target)?_y(e.Jt,t.target):Iy(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:gv(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Pg(e){var t=Sy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gv(t,t.limit,"L"):t}function Og(e,t){return new _g(t.largestBatchId,xy(e.Jt,t.overlayMutation))}function Lg(e,t){var n=t.path.lastSegment();return[e,Ly(t.path.popLast()),n]}var Mg=function(){function e(){O(this,e)}return M(e,[{key:"getBundleMetadata",value:function(e,t){return Fg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ag(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Fg(e).put({bundleId:(n=t).id,createTime:Cg(cy(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ug(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Pg(t.bundledQuery),readTime:Ag(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ug(e).put(function(e){return{name:e.name,readTime:Cg(cy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Fg(e){return bg(e,"bundles")}function Ug(e){return bg(e,"namedQueries")}var Vg=function(){function e(t,n){O(this,e),this.M=t,this.userId=n}return M(e,[{key:"getOverlay",value:function(e,t){var n=this;return jg(e).get(Lg(this.userId,t)).next((function(e){return e?Og(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new _g(t,a);i.push(r.Xt(e,o))})),cg.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ly(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(jg(e).Qt("collectionPathOverlayIndex",i))})),cg.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Bm(),a=Ly(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return jg(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=U(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Og(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Bm(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jg(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Og(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return jg(e).put(function(e,t,n){var r=Lg(t,n.mutation.key),a=(0,i.Z)(r,3);a[0];return{userId:t,collectionPath:a[1],documentId:a[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:wy(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function jg(e){return bg(e,"documentOverlays")}var zg=function(){function e(){O(this,e)}return M(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(bp(e.integerValue));else if("doubleValue"in e){var n=bp(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Cp(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(wp(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Hp(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):zd()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=U(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Np.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Bg(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qg(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Bg(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zg.fe=new zg;var Kg=function(){function e(){O(this,e),this.buffer=new Uint8Array(1024),this.position=0}return M(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=U(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=U(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=qg(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=qg(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Wg=function(){function e(t){O(this,e),this.De=t}return M(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Gg=function(){function e(t){O(this,e),this.De=t}return M(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Hg=function(){function e(){O(this,e),this.De=new Kg,this.Ce=new Wg(this.De),this.xe=new Gg(this.De)}return M(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Zg=function(){function e(t,n,r,i){O(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return M(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Qg(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Yg(e.arrayValue,t.arrayValue))?n:0!==(n=Yg(e.directionalValue,t.directionalValue))?n:Np.comparator(e.documentKey,t.documentKey)}function Yg(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var $g=function(){function e(t){O(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=U(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return M(e,[{key:"$e",value:function(e){var t=nv(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=rv(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=U(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Xg=function(){function e(){O(this,e),this.qe=new Jg}return M(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),cg.resolve()}},{key:"getCollectionParents",value:function(e,t){return cg.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return cg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return cg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return cg.resolve(null)}},{key:"getIndexType",value:function(e,t){return cg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return cg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return cg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return cg.resolve(sv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return cg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return cg.resolve()}}]),e}(),Jg=function(){function e(){O(this,e),this.index={}}return M(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dv(dp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new dv(dp.comparator)).toArray()}}]),e}(),ek=new Uint8Array(0),tk=function(){function e(t,n){O(this,e),this.user=t,this.databaseId=n,this.Ke=new Jg,this.Ge=new Fm((function(e){return gv(e)}),(function(e,t){return kv(e,t)})),this.uid=t.uid||""}return M(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Ly(i)};return nk(e).put(a)}return cg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[op(t),""],!1,!0);return nk(e).qt(r).next((function(e){var r,i=U(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Uy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=ik(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ik(e),r=ak(e),i=rk(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=rk(e),i=!0,a=new Map;return cg.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Wm(),o=[];return cg.forEach(a,(function(i,a){var u;Fd("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(gv(t)));var s=function(e,t){var n=nv(t);if(void 0===n)return null;var r,i=U(wv(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=U(rv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=U(wv(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=U(rv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?xv(e,o.fieldPath,e.startAt):_v(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Pv(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=U(rv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?_v(e,o.fieldPath,e.endAt):xv(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Pv(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return cg.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Np.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return cg.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):ek,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,(0,Ie.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new Zg(e,Np.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Zg(e,Np.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new $g(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=U(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return cg.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new dv(vp.comparator),r=!1,i=U(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=U(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Hg,i=U(rv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);zg.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Hg;return zg.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Hg;return zg.fe.Zt(jp(this.databaseId,t),n.Ne(function(e){var t=rv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Hg);var i,a=0,o=U(rv(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=U(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Bp(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);zg.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=(0,Ie.Z)(e),a=[],o=U(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=U(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Hg;f.seed(l.Se()),zg.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Iv&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ik(e),a=ak(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return cg.forEach(e,(function(e){return a.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new av(t.sequenceNumber,new sv(Ag(t.readTime),new Np(Uy(t.documentKey)),t.largestBatchId)):av.empty(),r=e.fields.map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return new iv(vp.fromServerFormat(n),r)}));return new tv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ip(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ik(e),a=ak(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return cg.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Cg(r.readTime),documentKey:Ly(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return cg.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?cg.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),cg.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?cg.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return rk(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return rk(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=rk(e),i=new dv(Qg);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Zg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new dv(Qg),r=this.Ze(t,e);if(null==r)return n;var i=nv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Bp(a)){var o,u=U(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Zg(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Zg(t.indexId,e.key,ek,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Fd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=vv(a),s=vv(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=vv(o)):l?(i(u),u=vv(a)):(u=vv(a),s=vv(o))}}(r,i,Qg,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),cg.waitFor(o)}},{key:"rn",value:function(e){var t=1;return ak(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Qg(e,t)})).filter((function(e,t,n){return!t||0!==Qg(e,n[t-1])}));var r=[];r.push(e);var i,a=U(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Qg(o,e),s=Qg(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ek,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ek,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return cg.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||cv(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=sv.min()}))})).next((function(){return n}))}}]),e}();function nk(e){return bg(e,"collectionParents")}function rk(e){return bg(e,"indexEntries")}function ik(e){return bg(e,"indexConfiguration")}function ak(e){return bg(e,"indexState")}var ok={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uk=function(){function e(t,n,r){O(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return M(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function sk(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Bd(1===u)})));var c,l=[],f=U(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=zy(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return cg.waitFor(a).next((function(){return l}))}function ck(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw zd();t=e.noDocument}return JSON.stringify(t).length}uk.DEFAULT_COLLECTION_PERCENTILE=10,uk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uk.DEFAULT=new uk(41943040,uk.DEFAULT_COLLECTION_PERCENTILE,uk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uk.DISABLED=new uk(-1,0,0);var lk=function(){function e(t,n,r,i){O(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return M(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hk(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=dk(e),o=hk(e);return o.add({}).next((function(u){Bd("number"==typeof u);var s,c=new wg(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return wy(e.Jt,t)})),i=n.mutations.map((function(t){return wy(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new dv((function(e,t){return ip(e.canonicalString(),t.canonicalString())})),d=U(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=zy(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,By))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),cg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return hk(e).get(t).next((function(e){return e?(Bd(e.userId===n.userId),Ng(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?cg.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return hk(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Bd(t.batchId>=r),a=Ng(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hk(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hk(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ng(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=jy(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return dk(e).Wt({range:a},(function(r,a,u){var s=(0,i.Z)(r,3),c=s[0],l=s[1],f=s[2],h=Uy(l);if(c===n.userId&&t.path.isEqual(h))return hk(e).get(f).next((function(e){if(!e)throw zd();Bd(e.userId===n.userId),o.push(Ng(n.M,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dv(ip),a=[];return t.forEach((function(t){var o=jy(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=dk(e).Wt({range:u},(function(e,a,o){var u=(0,i.Z)(e,3),s=u[0],c=u[1],l=u[2],f=Uy(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));a.push(s)})),cg.waitFor(a).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=jy(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new dv(ip);return dk(e).Wt({range:u},(function(e,t,o){var u=(0,i.Z)(e,3),c=u[0],l=u[1],f=u[2],h=Uy(l);c===n.userId&&r.isPrefixOf(h)?h.length===a&&(s=s.add(f)):o.done()})).next((function(){return n.dn(e,s)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(hk(e).get(t).next((function(e){if(null===e)throw zd();Bd(e.userId===n.userId),r.push(Ng(n.M,e))})))})),cg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return sk(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),cg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return cg.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return dk(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Uy(e[1]);i.push(a)}else r.done()})).next((function(){Bd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return fk(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return pk(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Bd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function fk(e,t,n){var r=jy(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return dk(e).Wt({range:o,jt:!0},(function(e,n,r){var o=(0,i.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===a&&(u=!0),r.done()})).next((function(){return u}))}function hk(e){return bg(e,"mutations")}function dk(e){return bg(e,"documentMutations")}function pk(e){return bg(e,"mutationQueues")}var vk=function(){function e(t){O(this,e),this.mn=t}return M(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),mk=function(){function e(t,n){O(this,e),this.referenceDelegate=t,this.M=n}return M(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new vk(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return sp.fromTimestamp(new up(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return yk(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Bd(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return yk(e).Wt((function(o,u){var s=Rg(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return cg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return yk(e).Wt((function(e,n){var r=Rg(n);t(r)}))}},{key:"pn",value:function(e){return gk(e).get("targetGlobalKey").next((function(e){return Bd(null!==e),e}))}},{key:"In",value:function(e,t){return gk(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return yk(e).put(Dg(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=gv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return yk(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Rg(n);kv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=kk(e);return t.forEach((function(t){var o=Ly(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),cg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=kk(e);return cg.forEach(t,(function(t){var a=Ly(t.path);return cg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=kk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=kk(e),i=Wm();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Uy(e[1]),a=new Np(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ly(t.path),r=IDBKeyRange.bound([n],[op(n)],!1,!0),a=0;return kk(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())})).next((function(){return a>0}))}},{key:"Et",value:function(e,t){return yk(e).get(t).next((function(e){return e?Rg(e):null}))}}]),e}();function yk(e){return bg(e,"targets")}function gk(e){return bg(e,"targetGlobal")}function kk(e){return bg(e,"targetDocuments")}function bk(e){return wk.apply(this,arguments)}function wk(){return wk=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Kd.FAILED_PRECONDITION&&t.message===ug){e.next=2;break}throw t;case 2:Fd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function xk(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),u=o[0],s=o[1],c=ip(r,u);return 0===c?ip(a,s):c}var _k=function(){function e(t){O(this,e),this.An=t,this.buffer=new dv(xk),this.Rn=0}return M(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();xk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ik=function(){function e(t,n){O(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return M(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Fd("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ee(_e().mark((function n(){return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!pg(n.t0)){n.next=12;break}Fd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,bk(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Sk=function(){function e(t,n){O(this,e),this.Dn=t,this.params=n}return M(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return cg.resolve(tp.A);var r=new _k(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Fd("LruGarbageCollector","Garbage collection skipped; disabled"),cg.resolve(ok)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Fd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ok):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Fd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Md()<=Re.DEBUG&&Fd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),cg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ek=function(){function e(t,n){O(this,e),this.db=t,this.garbageCollector=function(e,t){return new Sk(e,t)}(this,n)}return M(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Tk(e,n)}},{key:"removeReference",value:function(e,t,n){return Tk(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Tk(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return pk(e).zt((function(r){return fk(e,r,t).next((function(e){return e&&(n=!0),cg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,sp.min()),kk(e).delete([0,Ly(o.path)])}))}));i.push(s)}})).next((function(){return cg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Tk(e,t)}},{key:"Mn",value:function(e,t){var n,r=kk(e),a=tp.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var o=(0,i.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(a!==tp.A&&t(new Np(Uy(n)),a),a=c,n=s):a=tp.A})).next((function(){a!==tp.A&&t(new Np(Uy(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Tk(e,t){return kk(e).put(function(e,t){return{targetId:0,path:Ly(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ck=function(){function e(){O(this,e),this.changes=new Fm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return M(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ev.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?cg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ak=function(){function e(t){O(this,e),this.M=t}return M(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Dk(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Dk(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Tg(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ev.newInvalidDocument(t);return Dk(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Pk(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:ev.newInvalidDocument(t)};return Dk(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Pk(t))},(function(e,i){r={document:n.$n(t,i),size:ck(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Vm();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Vm(),i=new lv(Np.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,ck(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return cg.resolve();var r=new dv(Lk);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Pk(r.first()),Pk(r.last())),a=r.getIterator(),o=a.getNext();return Dk(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Np.fromSegments([].concat((0,Ie.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Lk(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Pk(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Tg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dk(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Vm(),i=U(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Np.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Vm(),o=Ok(t,n),u=Ok(t,sv.max());return Dk(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(Np.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Nk(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Rk(e).get("remoteDocumentGlobalKey").next((function(e){return Bd(!!e),e}))}},{key:"Fn",value:function(e,t){return Rk(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ky(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Np.fromSegments(t.noDocument.path),i=Ag(t.noDocument.readTime);n=ev.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return zd();var a=Np.fromSegments(t.unknownDocument.path),o=Ag(t.unknownDocument.version);n=ev.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new up(e[0],e[1]);return sp.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(sp.min()))return n}return ev.newInvalidDocument(e)}}]),e}(),Nk=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Fm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return M(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new dv((function(e,t){return ip(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Eg(t.Kn.M,o);i=i.add(a.path.popLast());var c=ck(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Eg(t.Kn.M,o.convertToNoDocument(sp.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),cg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ck);function Rk(e){return bg(e,"remoteDocumentGlobal")}function Dk(e){return bg(e,"remoteDocumentsV14")}function Pk(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ok(e,t){var n=t.documentKey.path.toArray();return[e,Tg(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Lk(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=ip(n[a],r[a]))return i;return(i=ip(n.length,r.length))||((i=ip(n[n.length-2],r[r.length-2]))||ip(n[n.length-1],r[r.length-1]))}var Mk=function(){function e(t){O(this,e),this.M=t}return M(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new lg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vy,{unique:!0}),e.createObjectStore("documentMutations")}(e),Fk(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=cg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Fk(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vy,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return cg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:eg});t.createIndex("collectionPathOverlayIndex",tg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ng,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:qy});t.createIndex("documentKeyIndex",Ky),t.createIndex("collectionGroupIndex",Wy)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Yy}).createIndex("sequenceNumberIndex",$y,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Xy}).createIndex("documentKeyIndex",Jy,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=ck(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return cg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return cg.forEach(r,(function(r){Bd(r.userId===n.userId);var i=Ng(t.M,r);return sk(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new dp(n),o=function(e){return[0,Ly(e)]}(a);r.push(t.get(o).next((function(n){return n?cg.resolve():function(n){return t.put({targetId:0,path:Ly(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return cg.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Qy});var n=t.store("collectionParents"),r=new Jg,a=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ly(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new dp(e);return a(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),o=(n[2],Uy(r));return a(o.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Rg(r),a=Dg(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Np(dp.fromString(i.document.name).popFirst(5)):i.noDocument?Np.fromSegments(i.noDocument.path):i.unknownDocument?Np.fromSegments(i.unknownDocument.path):zd()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return cg.waitFor(r)}))}}]),e}();function Fk(e){e.createObjectStore("targetDocuments",{keyPath:Hy}).createIndex("documentTargetsIndex",Zy,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gy,{unique:!0}),e.createObjectStore("targetGlobal")}var Uk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vk=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(O(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Wd(Kd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ek(this,i),this.hs=n+"main",this.M=new Sg(s),this.ls=new fg(this.hs,this.ts,new Mk(this.M)),this.fs=new mk(this.referenceDelegate,this.M),this.ds=function(e){return new Ak(e)}(this.M),this._s=new Mg,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Ud("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return M(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Wd(Kd.FAILED_PRECONDITION,Uk);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new tp(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Ee(_e().mark((function n(r){return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Ee(_e().mark((function t(n){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return zk(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(pg(t))return Fd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Fd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return jk(e).get("owner").next((function(e){return cg.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return zk(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Ee(_e().mark((function e(){var t,n,r,i,a=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=bg(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return cg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=U(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?cg.resolve(!0):jk(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Wd(Kd.FAILED_PRECONDITION,Uk);return!1}}return!(!t.networkEnabled||!t.inForeground)||zk(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Fd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ee(_e().mark((function e(){var t=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new kg(e,tp.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return zk(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return lk.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new tk(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Vg.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Fd("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?og:13===i?ag:12===i?ig:11===i?rg:void zd();return this.ls.runTransaction(e,o,u,(function(i){return a=new kg(i,r.es?r.es.next():tp.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Ud("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Wd(Kd.FAILED_PRECONDITION,ug);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return jk(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Wd(Kd.FAILED_PRECONDITION,Uk)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jk(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=jk(e);return n.get("owner").next((function(e){return t.Ps(e)?(Fd("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):cg.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ud("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Fd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ud("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Dc){Ud("Failed to set zombie client id.",Dc)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Dc){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return fg.vt()}}]),e}();function jk(e){return bg(e,"owner")}function zk(e){return bg(e,"clientMetadata")}function Bk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var qk=function(){function e(t,n,r){O(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return M(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=U(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=U(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Np.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):qv(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Np(t)).next((function(e){var t=zm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=zm();return this.indexManager.getCollectionParents(e,i).next((function(o){return cg.forEach(o,(function(o){var u=function(e,t){return new Uv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=U(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=U(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=ev.newInvalidDocument(s),r=r.insert(s,c)),wm(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Yv(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Kk=function(){function e(t,n,r,i){O(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return M(e,null,[{key:"Ys",value:function(t,n){var r,i=Wm(),a=Wm(),o=U(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Wk=function(){function e(){O(this,e),this.Xs=!1}return M(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return cg.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(sp.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Md()<=Re.DEBUG&&Fd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qv(t)),i.ri(e,o,t,ov(r,-1)))}))}},{key:"si",value:function(e,t){var n=new dv(Xv(e));return t.forEach((function(t,r){Yv(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Md()<=Re.DEBUG&&Fd("QueryEngine","Using full collection scan to execute query:",Qv(t)),this.Zs.Qs(e,t,sv.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Gk=function(){function e(t,n,r,i){O(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new lv(ip),this.ai=new Fm((function(e){return gv(e)}),kv),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return M(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new qk(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function Hk(e,t,n,r){return new Gk(e,t,n,r)}function Zk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=Ee(_e().mark((function e(t,n){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qd(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Wm(),s=U(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=U(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=U(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=U(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function Yk(e,t){var n=qd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=cg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Bd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function $k(e){var t=qd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Xk(e,t){var n=qd(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(yp.EMPTY_BYTE_STRING,sp.min()).withLastLimboFreeSnapshotVersion(sp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Vm();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Jk(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(sp.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return cg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function Jk(e,t,n){var r=Wm();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Vm();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(sp.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Fd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function eb(e,t){var n=qd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function tb(e,t){var n=qd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,cg.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Ig(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function nb(e,t,n){return rb.apply(this,arguments)}function rb(){return rb=Ee(_e().mark((function e(t,n,r){var i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qd(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),pg(e.t1)){e.next=12;break}throw e.t1;case 12:Fd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),rb.apply(this,arguments)}function ib(e,t,n){var r=qd(e),i=sp.min(),a=Wm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=qd(e),i=r.ai.get(n);return void 0!==i?cg.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Wv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:sp.min(),n?a:Wm())})).next((function(e){return ub(r,$v(t),e),{documents:e,_i:a}}))}))}function ab(e,t){var n=qd(e),r=qd(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function ob(e,t){var n=qd(e),r=n.ci.get(t)||sp.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,ov(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ub(n,t,e),e}))}function ub(e,t,n){var r=sp.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function sb(e,t,n,r){return cb.apply(this,arguments)}function cb(){return cb=Ee(_e().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=qd(t),o=Wm(),u=Vm(),s=U(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,tb(a,function(e){return Wv(jv(dp.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Jk(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),cb.apply(this,arguments)}function lb(e,t){return fb.apply(this,arguments)}function fb(){return fb=Ee(_e().mark((function e(t,n){var r,i,a,o=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Wm(),e.next=3,tb(t,Wv(Pg(n.bundledQuery)));case 3:return i=e.sent,a=qd(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=cy(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(yp.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}var hb=function(){function e(t){O(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return M(e,[{key:"getBundleMetadata",value:function(e,t){return cg.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:cy(n.createTime)}),cg.resolve()}},{key:"getNamedQuery",value:function(e,t){return cg.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Pg(e.bundledQuery),readTime:cy(e.readTime)}}(t)),cg.resolve()}}]),e}(),db=function(){function e(){O(this,e),this.overlays=new lv(Np.comparator),this.Ii=new Map}return M(e,[{key:"getOverlay",value:function(e,t){return cg.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),cg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),cg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Bm(),i=t.length+1,a=new Np(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return cg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new lv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Bm(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Bm(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return cg.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _g(t,n));var a=this.Ii.get(t);void 0===a&&(a=Wm(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),pb=function(){function e(){O(this,e),this.Ti=new dv(vb.Ei),this.Ai=new dv(vb.Ri)}return M(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new vb(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new vb(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new Np(new dp([])),r=new vb(n,e),i=new vb(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new Np(new dp([])),n=new vb(t,e),r=new vb(t,e+1),i=Wm();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new vb(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),vb=function(){function e(t,n){O(this,e),this.key=t,this.Ci=n}return M(e,null,[{key:"Ei",value:function(e,t){return Np.comparator(e.key,t.key)||ip(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return ip(e.Ci,t.Ci)||Np.comparator(e.key,t.key)}}]),e}(),mb=function(){function e(t,n){O(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new dv(vb.Ei)}return M(e,[{key:"checkEmpty",value:function(e){return cg.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new wg(i,t,n,r);this.Bs.push(a);var o,u=U(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new vb(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return cg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return cg.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return cg.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return cg.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return cg.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new vb(t,0),i=new vb(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),cg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dv(ip);return t.forEach((function(e){var t=new vb(e,0),i=new vb(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),cg.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Np.isDocumentKey(i)||(i=i.child(""));var a=new vb(new Np(i),0),o=new dv(ip);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),cg.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Bd(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return cg.forEach(t.mutations,(function(i){var a=new vb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new vb(t,0),r=this.Ni.firstAfterOrEqual(n);return cg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,cg.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),yb=function(){function e(t){O(this,e),this.$i=t,this.docs=new lv(Np.comparator),this.size=0}return M(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return cg.resolve(n?n.document.mutableCopy():ev.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Vm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ev.newInvalidDocument(e))})),cg.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Vm(),i=new Np(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||cv(uv(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return cg.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){zd()}},{key:"Bi",value:function(e,t){return cg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new gb(this)}},{key:"getSize",value:function(e){return cg.resolve(this.size)}}]),e}(),gb=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this)).Kn=e,r}return M(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),cg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Ck),kb=function(){function e(t){O(this,e),this.persistence=t,this.Li=new Fm((function(e){return gv(e)}),kv),this.lastRemoteSnapshotVersion=sp.min(),this.highestTargetId=0,this.Ui=0,this.qi=new pb,this.targetCount=0,this.Ki=vk.gn()}return M(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),cg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return cg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return cg.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),cg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),cg.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new vk(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,cg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),cg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,cg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),cg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return cg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return cg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),cg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),cg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),cg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return cg.resolve(n)}},{key:"containsKey",value:function(e,t){return cg.resolve(this.qi.containsKey(t))}}]),e}(),bb=function(){function e(t,n){var r=this;O(this,e),this.Gi={},this.overlays={},this.es=new tp(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new kb(this),this.indexManager=new Xg,this.ds=new yb((function(e){return r.referenceDelegate.Qi(e)})),this.M=new Sg(n),this._s=new hb(this.M)}return M(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new db,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new mb(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Fd("MemoryPersistence","Starting transaction:",e);var i=new wb(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return cg.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),wb=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return M(n)}(sg),xb=function(){function e(t){O(this,e),this.persistence=t,this.Hi=new pb,this.Ji=null}return M(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw zd()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),cg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),cg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),cg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cg.forEach(this.Xi,(function(r){var i=Np.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,sp.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return cg.or([function(){return cg.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function _b(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ib(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Sb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Eb=function(){function e(t,n,r,i){O(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return M(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Wd(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ud("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Tb=function(){function e(t,n,r){O(this,e),this.targetId=t,this.state=n,this.error=r}return M(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Wd(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ud("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Cb=function(){function e(t,n){O(this,e),this.clientId=t,this.activeTargetIds=n}return M(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Hm(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ap(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ud("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ab=function(){function e(t,n){O(this,e),this.clientId=t,this.onlineState=n}return M(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ud("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Nb=function(){function e(){O(this,e),this.activeTargetIds=Hm()}return M(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Rb=function(){function e(t,n,r,i,a){O(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new lv(ip),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=_b(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new Nb),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return M(e,[{key:"start",value:function(){var e=Ee(_e().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=U(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(_b(this.persistenceKey,i)))&&(o=Cb.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=U(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Sb(this.persistenceKey,e));if(n){var r=Tb.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Sb(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Fd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Fd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Fd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Fd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void Ud("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Ee(_e().mark((function e(){var r,i,a,o,u,s,c;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=tp.A;if(null!=e)try{var n=JSON.parse(e);Bd("number"==typeof n),t=n}catch(e){Ud("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==tp.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new Eb(this.currentUser,e,t,n),i=Ib(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=Ib(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=Sb(this.persistenceKey,e),i=new Tb(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return Cb.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Eb.tr(new Pd(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return Tb.tr(r,t)}},{key:"pr",value:function(e){return Ab.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Fd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Hm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Db=function(){function e(){O(this,e),this.Ur=new Nb,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return M(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Nb,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Pb=function(){function e(){O(this,e)}return M(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ob=function(){function e(){var t=this;O(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return M(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){Fd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=U(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Fd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=U(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Lb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mb=function(){function e(t){O(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return M(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Fb=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return M(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Rd;o.listenOnce(Ed.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Sd.NO_ERROR:var t=o.getResponseJson();Fd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Sd.TIMEOUT:Fd("Connection",'RPC "'+e+'" timed out'),a(new Wd(Kd.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:var n=o.getStatus();if(Fd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kd).indexOf(t)>=0?t:Kd.UNKNOWN}(r.status);a(new Wd(u,r.message))}else a(new Wd(Kd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Wd(Kd.UNAVAILABLE,"Connection failed."));break;default:zd()}}finally{Fd("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=_d(),a=Id(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ad({})),this.lo(o.initMessageHeaders,t,n),re()||oe()||ne().indexOf("Electron/")>=0||ue()||ne().indexOf("MSAppHost/")>=0||ae()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Fd("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Mb({Jr:function(e){l?Fd("Connection","Not sending because WebChannel is closed:",e):(c||(Fd("Connection","Opening WebChannel transport."),s.open(),c=!0),Fd("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Nd.EventType.OPEN,(function(){l||Fd("Connection","WebChannel transport opened.")})),h(s,Nd.EventType.CLOSE,(function(){l||(l=!0,Fd("Connection","WebChannel transport closed"),f.ro())})),h(s,Nd.EventType.ERROR,(function(e){l||(l=!0,Vd("Connection","WebChannel transport errored:",e),f.ro(new Wd(Kd.UNAVAILABLE,"The operation could not be completed")))})),h(s,Nd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Bd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Fd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Nm[e];if(void 0!==t)return Mm(t)}(a),u=i.message;void 0===o&&(o=Kd.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Wd(o,u)),s.close()}else Fd("Connection","WebChannel received:",n),f.oo(n)}})),h(a,Td.STAT_EVENT,(function(e){e.stat===Cd.PROXY?Fd("Connection","Detected buffering proxy"):e.stat===Cd.NOPROXY&&Fd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){O(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return M(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);Fd("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Fd("RestConnection","Received: ",e),e}),(function(t){throw Vd("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Od,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Lb[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Ub(){return"undefined"!=typeof window?window:null}function Vb(){return"undefined"!=typeof document?document:null}function jb(e){return new ay(e,!0)}var zb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;O(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return M(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Fd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Bb=function(){function e(t,n,r,i,a,o,u,s){O(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new zb(t,n)}return M(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Kd.RESOURCE_EXHAUSTED?(Ud(n.toString()),Ud("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Kd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),a=r[0],o=r[1];e.Do===n&&e.Qo(a,o)}),(function(n){t((function(){var t=new Wd(Kd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(Ee(_e().mark((function t(){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Fd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(Fd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),qb=function(e){z(n,e);var t=G(n);function n(e,r,i,a,o,u){var s;return O(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return M(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Bd(void 0===t||"string"==typeof t),yp.fromBase64String(t||"")):(Bd(void 0===t||t instanceof Uint8Array),yp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Kd.UNKNOWN:Mm(e.code);return new Wd(t,e.message||"")}(o);n=new Xm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=dy(e,s.document.name),l=cy(s.document.updateTime),f=new Xp({mapValue:{fields:s.document.fields}}),h=ev.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ym(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=dy(e,v.document),y=v.readTime?cy(v.readTime):sp.min(),g=ev.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Ym([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=dy(e,b.document),x=b.removedTargetIds||[];n=new Ym([],x,w,null)}else{if(!("filter"in t))return zd();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new Om(I),E=_.targetId;n=new $m(E,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return sp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sp.min():t.readTime?cy(t.readTime):sp.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=my(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=bv(r)?{documents:_y(e,r)}:{query:Iy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=uy(e,t.resumeToken):t.snapshotVersion.compareTo(sp.min())>0&&(n.readTime=oy(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=my(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(Bb),Kb=function(e){z(n,e);var t=G(n);function n(e,r,i,a,o,u){var s;return O(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return M(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,rn(B(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Bd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Bd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?cy(e.updateTime):cy(t);return n.isEqual(sp.min())&&(n=cy(t)),new mm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=cy(e.commitTime);return this.listener.tu(n,t)}return Bd(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=my(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return wy(t.M,e)}))};this.Lo(n)}}]),n}(Bb),Wb=function(e){z(n,e);var t=G(n);function n(e,r,i,a){var o;return O(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return M(n,[{key:"iu",value:function(){if(this.su)throw new Wd(Kd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),u=o[0],s=o[1];return r.So.co(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wd(Kd.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),u=o[0],s=o[1];return r.So._o(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wd(Kd.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return M((function e(){O(this,e)}))}()),Gb=function(){function e(t,n){O(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return M(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Ud(t),this.uu=!1):Fd("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Hb=M((function e(t,n,r,i,a){var o=this;O(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=iw(o),!e.t0){e.next=5;break}return Fd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qd(t)).wu.add(4),e.next=4,Yb(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,Zb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Gb(r,i)}));function Zb(e){return Qb.apply(this,arguments)}function Qb(){return Qb=Ee(_e().mark((function e(t){var n,r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!iw(t)){e.next=18;break}n=U(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Qb.apply(this,arguments)}function Yb(e){return $b.apply(this,arguments)}function $b(){return $b=Ee(_e().mark((function e(t){var n,r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=U(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),$b.apply(this,arguments)}function Xb(e,t){var n=qd(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),rw(n)?nw(n):Pw(n).Mo()&&ew(n,t))}function Jb(e,t){var n=qd(e),r=Pw(n);n._u.delete(t),r.Mo()&&tw(n,t),0===n._u.size&&(r.Mo()?r.$o():iw(n)&&n.yu.set("Unknown"))}function ew(e,t){e.pu.Z(t.targetId),Pw(e).Ho(t)}function tw(e,t){e.pu.Z(t),Pw(e).Jo(t)}function nw(e){e.pu=new ey({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),Pw(e).start(),e.yu.au()}function rw(e){return iw(e)&&!Pw(e).ko()&&e._u.size>0}function iw(e){return 0===qd(e).wu.size}function aw(e){e.pu=void 0}function ow(e){return uw.apply(this,arguments)}function uw(){return uw=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){ew(t,e)}));case 1:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function sw(e,t){return cw.apply(this,arguments)}function cw(){return cw=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:aw(t),rw(t)?(t.yu.lu(n),nw(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e,t,n){return fw.apply(this,arguments)}function fw(){return fw=Ee(_e().mark((function e(t,n,r){var i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Xm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ee(_e().mark((function e(t,n){var r,i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=U(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Fd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,hw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ym?t.pu.ut(n):n instanceof $m?t.pu._t(n):t.pu.ht(n),r.isEqual(sp.min())){e.next=29;break}return e.prev=14,e.next=17,$k(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(yp.EMPTY_BYTE_STRING,n.snapshotVersion)),tw(e,t);var r=new Ig(n.target,t,1,n.sequenceNumber);ew(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Fd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,hw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),fw.apply(this,arguments)}function hw(e,t,n){return dw.apply(this,arguments)}function dw(){return dw=Ee(_e().mark((function e(t,n,r){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pg(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Yb(t);case 5:t.yu.set("Offline"),r||(r=function(){return $k(t.localStore)}),t.asyncQueue.enqueueRetryable(Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,Zb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function pw(e,t){return t().catch((function(n){return hw(e,n,t)}))}function vw(e){return mw.apply(this,arguments)}function mw(){return mw=Ee(_e().mark((function e(t){var n,r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qd(t),r=Ow(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!yw(n)){e.next=19;break}return e.prev=3,e.next=6,eb(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,gw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,hw(n,e.t0);case 17:e.next=2;break;case 19:kw(n)&&bw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),mw.apply(this,arguments)}function yw(e){return iw(e)&&e.du.length<10}function gw(e,t){e.du.push(t);var n=Ow(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function kw(e){return iw(e)&&!Ow(e).ko()&&e.du.length>0}function bw(e){Ow(e).start()}function ww(e){return xw.apply(this,arguments)}function xw(){return xw=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ow(t).nu();case 1:case"end":return e.stop()}}),e)}))),xw.apply(this,arguments)}function _w(e){return Iw.apply(this,arguments)}function Iw(){return Iw=Ee(_e().mark((function e(t){var n,r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ow(t),r=U(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Sw(e,t,n){return Ew.apply(this,arguments)}function Ew(){return Ew=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=xg.from(i,n,r),e.next=3,pw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,vw(t);case 5:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Tw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=Ee(_e().mark((function e(t,n){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ow(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ee(_e().mark((function e(t,n){var r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lm(i=n.code)||i===Kd.ABORTED){e.next=7;break}return r=t.du.shift(),Ow(t).Fo(),e.next=5,pw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,vw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:kw(t)&&bw(t);case 5:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Aw(e,t){return Nw.apply(this,arguments)}function Nw(){return Nw=Ee(_e().mark((function e(t,n){var r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=qd(t)).asyncQueue.verifyOperationInProgress(),Fd("RemoteStore","RemoteStore received new credentials"),i=iw(r),r.wu.add(3),e.next=6,Yb(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,Zb(r);case 12:case"end":return e.stop()}}),e)}))),Nw.apply(this,arguments)}function Rw(e,t){return Dw.apply(this,arguments)}function Dw(){return Dw=Ee(_e().mark((function e(t,n){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qd(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,Zb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Yb(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Dw.apply(this,arguments)}function Pw(e){return e.Iu||(e.Iu=function(e,t,n){var r=qd(e);return r.iu(),new qb(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:ow.bind(null,e),eo:sw.bind(null,e),zo:lw.bind(null,e)}),e.mu.push(function(){var t=Ee(_e().mark((function t(n){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),rw(e)?nw(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:aw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function Ow(e){return e.Tu||(e.Tu=function(e,t,n){var r=qd(e);return r.iu(),new Kb(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:ww.bind(null,e),eo:Tw.bind(null,e),eu:_w.bind(null,e),tu:Sw.bind(null,e)}),e.mu.push(function(){var t=Ee(_e().mark((function t(n){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,vw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Fd("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var Lw=function(){function e(t,n,r,i,a){O(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Gd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return M(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wd(Kd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Mw(e,t){if(Ud("AsyncQueue","".concat(t,": ").concat(e)),pg(e))return new Wd(Kd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Fw=function(){function e(t){O(this,e),this.comparator=t?function(e,n){return t(e,n)||Np.comparator(e.key,n.key)}:function(e,t){return Np.comparator(e.key,t.key)},this.keyedMap=zm(),this.sortedSet=new lv(this.comparator)}return M(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Uw=function(){function e(){O(this,e),this.Eu=new lv(Np.comparator)}return M(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):zd():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Vw=function(){function e(t,n,r,i,a,o,u,s){O(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return M(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Fw.emptySet(n),a,r,i,!0,!1)}}]),e}(),jw=M((function e(){O(this,e),this.Ru=void 0,this.listeners=[]})),zw=M((function e(){O(this,e),this.queries=new Fm((function(e){return Zv(e)}),Hv),this.onlineState="Unknown",this.bu=new Set}));function Bw(e,t){return qw.apply(this,arguments)}function qw(){return qw=Ee(_e().mark((function e(t,n){var r,i,a,o,u;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new jw),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Mw(e.t0,"Initialization of query '".concat(Qv(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&Zw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),qw.apply(this,arguments)}function Kw(e,t){return Ww.apply(this,arguments)}function Ww(){return Ww=Ee(_e().mark((function e(t,n){var r,i,a,o,u;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Gw(e,t){var n,r=qd(e),i=!1,a=U(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=U(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&Zw(r)}function Hw(e,t,n){var r=qd(e),i=r.queries.get(t);if(i){var a,o=U(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Zw(e){e.bu.forEach((function(e){e.next()}))}var Qw=function(){function e(t,n,r){O(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return M(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=U(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Vw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=Vw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),Yw=function(){function e(t,n){O(this,e),this.payload=t,this.byteLength=n}return M(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),$w=function(){function e(t){O(this,e),this.M=t}return M(e,[{key:"wi",value:function(e){return dy(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?ky(this.M,e.document,!1):ev.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return cy(e)}}]),e}(),Xw=function(){function e(t,n,r){O(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jw(t)}return M(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=dp.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new $w(this.M),i=U(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=U(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Wm()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ee(_e().mark((function e(){var t,n,r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sb(this.localStore,new $w(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=U(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,lb(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ex=M((function e(t){O(this,e),this.key=t})),tx=M((function e(t){O(this,e),this.key=t})),nx=function(){function e(t,n){O(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Wm(),this.mutatedKeys=Wm(),this.Gu=Xv(t),this.Qu=new Fw(this.Gu)}return M(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Uw,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Yv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zd()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Vw(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Uw,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Wm(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new tx(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new ex(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Wm();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return Vw.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),rx=M((function e(t,n,r){O(this,e),this.query=t,this.targetId=n,this.view=r})),ix=M((function e(t){O(this,e),this.key=t,this.na=!1})),ax=function(){function e(t,n,r,i,a,o){O(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Fm((function(e){return Zv(e)}),Hv),this.ra=new Map,this.oa=new Set,this.ua=new lv(Np.comparator),this.aa=new Map,this.ca=new pb,this.ha={},this.la=new Map,this.fa=vk.yn(),this.onlineState="Unknown",this.da=void 0}return M(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function ox(e,t){return ux.apply(this,arguments)}function ux(){return ux=Ee(_e().mark((function e(t,n){var r,i,a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jx(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,tb(r.localStore,Wv(n));case 8:return u=e.sent,r.isPrimaryClient&&Xb(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,sx(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e,t,n,r){return cx.apply(this,arguments)}function cx(){return cx=Ee(_e().mark((function e(t,n,r,i){var a,o,u,s,c,l;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=Ee(_e().mark((function e(t,n,r,i){var a,o,u;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,ib(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ax(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ib(t.localStore,n,!0);case 3:return a=e.sent,o=new nx(n,a._i),u=o.Wu(a.documents),s=Qm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Ax(t,r,c.Xu),l=new rx(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(e,t){return fx.apply(this,arguments)}function fx(){return fx=Ee(_e().mark((function e(t,n){var r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qd(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Hv(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,nb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Jb(r.remoteStore,i.targetId),Tx(r,i.targetId)})).catch(bk);case 9:e.next=14;break;case 11:return Tx(r,i.targetId),e.next=14,nb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function hx(e,t,n){return dx.apply(this,arguments)}function dx(){return dx=Ee(_e().mark((function e(t,n,r){var i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=e_(t),e.prev=1,e.next=4,function(e,t){var n,r=qd(e),i=up.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Wm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=U(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=xm(c,n.get(c.key));null!=l&&u.push(new Em(c.key,l,Jp(l.value.mapValue),ym.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new lv(ip)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Dx(i,a.changes);case 9:return e.next=11,vw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Mw(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),dx.apply(this,arguments)}function px(e,t){return vx.apply(this,arguments)}function vx(){return vx=Ee(_e().mark((function e(t,n){var r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qd(t),e.prev=1,e.next=4,Xk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(Bd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?Bd(n.na):e.removedDocuments.size>0&&(Bd(n.na),n.na=!1))})),e.next=8,Dx(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,bk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),vx.apply(this,arguments)}function mx(e,t,n){var r=qd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=qd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=U(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Zw(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yx(e,t,n){return gx.apply(this,arguments)}function gx(){return gx=Ee(_e().mark((function e(t,n,r){var i,a,o,u,s,c;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=qd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new lv(Np.comparator)).insert(o,ev.newNoDocument(o,sp.min())),s=Wm().add(o),c=new Zm(sp.min(),new Map,new dv(ip),u,s),e.next=9,px(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),Rx(i),e.next=16;break;case 14:return e.next=16,nb(i.localStore,n,!1).then((function(){return Tx(i,n,r)})).catch(bk);case 16:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function kx(e,t){return bx.apply(this,arguments)}function bx(){return bx=Ee(_e().mark((function e(t,n){var r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qd(t),i=n.batch.batchId,e.prev=1,e.next=4,Yk(r.localStore,n);case 4:return a=e.sent,Ex(r,i,null),Sx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Dx(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),bx.apply(this,arguments)}function wx(e,t,n){return xx.apply(this,arguments)}function xx(){return xx=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qd(t),e.prev=1,e.next=4,function(e,t){var n=qd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Bd(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ex(i,n,r),Sx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Dx(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xx.apply(this,arguments)}function _x(e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=Ee(_e().mark((function e(t,n){var r,i,a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iw((r=qd(t)).remoteStore)||Fd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=qd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Mw(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Ix.apply(this,arguments)}function Sx(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function Ex(e,t,n){var r=qd(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function Tx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=U(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||Cx(e,t)}))}function Cx(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(Jb(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),Rx(e))}function Ax(e,t,n){var r,i=U(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ex?(e.ca.addReference(a.key,t),Nx(e,a)):a instanceof tx?(Fd("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||Cx(e,a.key)):zd()}}catch(o){i.e(o)}finally{i.f()}}function Nx(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(Fd("SyncEngine","New document in limbo: "+n),e.oa.add(r),Rx(e))}function Rx(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new Np(dp.fromString(t)),r=e.fa.next();e.aa.set(r,new ix(n)),e.ua=e.ua.insert(n,r),Xb(e.remoteStore,new Ig(Wv(jv(n.path)),r,2,tp.A))}}function Dx(e,t,n){return Px.apply(this,arguments)}function Px(){return Px=Ee(_e().mark((function e(t,n,r){var i,a,o,u;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qd(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Kk.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=Ee(_e().mark((function e(t,n){var r,i,a,o,u,s,c,l;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return cg.forEach(n,(function(t){return cg.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return cg.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),pg(e.t0)){e.next=10;break}throw e.t0;case 10:Fd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=U(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Ox(e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=Ee(_e().mark((function e(t,n){var r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=qd(t)).currentUser.isEqual(n)){e.next=11;break}return Fd("SyncEngine","User change. New user:",n.toKey()),e.next=5,Zk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Wd(Kd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Dx(r,i.di);case 11:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Mx(e,t){var n=qd(e),r=n.aa.get(t);if(r&&r.na)return Wm().add(r.key);var i=Wm(),a=n.ra.get(t);if(!a)return i;var o,u=U(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Fx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=Ee(_e().mark((function e(t,n){var r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qd(t),e.next=3,ib(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&Ax(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Vx(e,t){return jx.apply(this,arguments)}function jx(){return jx=Ee(_e().mark((function e(t,n){var r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qd(t),e.abrupt("return",ob(r.localStore,n).then((function(e){return Dx(r,e)})));case 2:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function zx(e,t,n,r){return Bx.apply(this,arguments)}function Bx(){return Bx=Ee(_e().mark((function e(t,n,r,i){var a,o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qd(t),e.next=3,function(e,t){var n=qd(e),r=qd(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):cg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,vw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Ex(a,n,i||null),Sx(a,n),function(e,t){qd(qd(e).Bs)._n(t)}(a.localStore,n)):zd();case 11:return e.next=13,Dx(a,o);case 13:e.next=16;break;case 15:Fd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function qx(e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=Ee(_e().mark((function e(t,n){var r,i,a,o,u,s,c,l;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jx(r=qd(t)),e_(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Wx(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,Rw(r.remoteStore,!0);case 9:o=U(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Xb(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Tx(r,t),nb(r.localStore,t,!0)})),Jb(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Wx(r,c);case 21:return function(e){var t=qd(e);t.aa.forEach((function(e,n){Jb(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new lv(Np.comparator)}(r),r.da=!1,e.next=25,Rw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Wx(e,t,n){return Gx.apply(this,arguments)}function Gx(){return Gx=Ee(_e().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=qd(t),a=[],o=[],u=U(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,tb(i.localStore,Wv(f[0]));case 11:l=e.sent,h=U(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,Fx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ab(i.localStore,c);case 36:return y=e.sent,e.next=39,tb(i.localStore,y);case 39:return l=e.sent,e.next=42,sx(i,Hx(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Gx.apply(this,arguments)}function Hx(e){return Vv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Zx(e){var t=qd(e);return qd(qd(t.localStore).persistence).Fs()}function Qx(e,t,n,r){return Yx.apply(this,arguments)}function Yx(){return Yx=Ee(_e().mark((function e(t,n,r,i){var a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=qd(t)).da){e.next=3;break}return e.abrupt("return",void Fd("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ob(a.localStore,$v(o[0]));case 10:return u=e.sent,s=Zm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Dx(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,nb(a.localStore,n,!0);case 17:return Tx(a,n,i),e.abrupt("break",20);case 19:zd();case 20:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function $x(e,t,n){return Xx.apply(this,arguments)}function Xx(){return Xx=Ee(_e().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Jx(t)).da){e.next=45;break}a=U(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return Fd("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ab(i.localStore,u);case 12:return s=e.sent,e.next=15,tb(i.localStore,s);case 15:return c=e.sent,e.next=18,sx(i,Hx(s),c.targetId,!1);case 18:Xb(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=U(r),e.prev=30,h=_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,nb(i.localStore,t,!1).then((function(){Jb(i.remoteStore,t),Tx(i,t)})).catch(bk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Xx.apply(this,arguments)}function Jx(e){var t=qd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=px.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yx.bind(null,t),t.sa.zo=Gw.bind(null,t.eventManager),t.sa.wa=Hw.bind(null,t.eventManager),t}function e_(e){var t=qd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wx.bind(null,t),t}function t_(e,t,n){var r=qd(e);(function(){var e=Ee(_e().mark((function e(t,n,r){var i,a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=qd(e),r=cy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Jw(i)),a=new Xw(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Dx(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=qd(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Vd("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var n_=function(){function e(){O(this,e),this.synchronizeTabs=!1}return M(e,[{key:"initialize",value:function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=jb(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return Hk(this.persistence,new Wk,e.initialUser,this.M)}},{key:"ya",value:function(e){return new bb(xb.Yi,this.M)}},{key:"ga",value:function(e){return new Db}},{key:"terminate",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),r_=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return M(n,[{key:"initialize",value:function(){var e=Ee(_e().mark((function e(t){var r=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(B(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,e_(this.Ta.syncEngine);case 6:return e.next=8,vw(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return Hk(this.persistence,new Wk,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Ik(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=Bk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?uk.withCacheSize(this.cacheSizeBytes):uk.DEFAULT;return new Vk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ub(),Vb(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new Db}}]),n}(n_),i_=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return M(n,[{key:"initialize",value:function(){var e=Ee(_e().mark((function e(t){var r,i=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(B(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof Rb,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:zx.bind(null,r),Br:Qx.bind(null,r),Lr:$x.bind(null,r),Fs:Zx.bind(null,r),Fr:Vx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qx(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=Ub();if(!Rb.vt(t))throw new Wd(Kd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Bk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(r_),a_=function(){function e(){O(this,e)}return M(e,[{key:"initialize",value:function(){var e=Ee(_e().mark((function e(t,n){var r=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return mx(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ox.bind(null,this.syncEngine),e.next=12,Rw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new zw}},{key:"createDatastore",value:function(e){var t,n=jb(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Fb(t));return function(e,t,n,r){return new Wb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return mx(o.syncEngine,e,0)},a=Ob.vt()?new Ob:new Pb,new Hb(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ax(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qd(t),Fd("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Yb(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function o_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ee(_e().mark((function r(){var i;return _e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var u_=function(){function e(t){O(this,e),this.observer=t,this.muted=!1}return M(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),s_=function(){function e(t,n){var r=this;O(this,e),this.Ra=t,this.M=n,this.metadata=new Gd,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return M(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=Ee(_e().mark((function e(){var t,n,r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new Yw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=Ee(_e().mark((function e(){var t,n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=Ee(_e().mark((function e(){var t,n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),c_=function(){function e(t){O(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return M(e,[{key:"lookup",value:function(){var e=Ee(_e().mark((function e(t){var n,r=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Wd(Kd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ee(_e().mark((function e(t,n){var r,i,a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qd(t),i=my(r.M)+"/documents",a={documents:n.map((function(e){return hy(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=by(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Bd(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Dm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ee(_e().mark((function e(){var t,n=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Np.fromPath(t);n.mutations.push(new Pm(r,n.precondition(r)))})),e.next=7,function(){var e=Ee(_e().mark((function e(t,n){var r,i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qd(t),i=my(r.M)+"/documents",a={writes:n.map((function(e){return wy(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zd();t=sp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Wd(Kd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ym.updateTime(t):ym.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sp.min()))throw new Wd(Kd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ym.updateTime(t)}return ym.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),l_=function(){function e(t,n,r,i,a){O(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new zb(this.asyncQueue,"transaction_retry")}return M(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(Ee(_e().mark((function t(){var n,r;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new c_(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!Tp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Lm(t)}return!1}}]),e}(),f_=function(){function e(t,n,r,i){var a=this;O(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pd.UNAUTHENTICATED,this.clientId=rp.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Fd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return M(e,[{key:"getConfiguration",value:function(){var e=Ee(_e().mark((function e(){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Wd(Kd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Gd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ee(_e().mark((function n(){var r;return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Mw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function h_(e,t){return d_.apply(this,arguments)}function d_(){return d_=Ee(_e().mark((function e(t,n){var r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Fd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Zk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function p_(e,t){return v_.apply(this,arguments)}function v_(){return v_=Ee(_e().mark((function e(t,n){var r,i;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,m_(t);case 3:return r=e.sent,Fd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Aw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Aw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e){return y_.apply(this,arguments)}function y_(){return y_=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Fd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,h_(t,new n_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function g_(e){return k_.apply(this,arguments)}function k_(){return k_=Ee(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Fd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,p_(t,new a_);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e){return m_(e).then((function(e){return e.persistence}))}function w_(e){return m_(e).then((function(e){return e.localStore}))}function x_(e){return g_(e).then((function(e){return e.remoteStore}))}function __(e){return g_(e).then((function(e){return e.syncEngine}))}function I_(e){return S_.apply(this,arguments)}function S_(){return S_=Ee(_e().mark((function e(t){var n,r;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ox.bind(null,n.syncEngine),r.onUnlisten=lx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function E_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Gd;return e.asyncQueue.enqueueAndForget(Ee(_e().mark((function i(){return _e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new u_({next:function(a){t.enqueueAndForget((function(){return Kw(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Wd(Kd.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Wd(Kd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Qw(jv(n.path),a,{includeMetadataChanges:!0,ku:!0});return Bw(e,o)},i.next=3,I_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function T_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Gd;return e.asyncQueue.enqueueAndForget(Ee(_e().mark((function i(){return _e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new u_({next:function(n){t.enqueueAndForget((function(){return Kw(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Wd(Kd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Qw(n,a,{includeMetadataChanges:!0,ku:!0});return Bw(e,o)},i.next=3,I_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var C_=new Map;function A_(e,t,n){if(!n)throw new Wd(Kd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function N_(e,t,n,r){if(!0===t&&!0===r)throw new Wd(Kd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function R_(e){if(!Np.isDocumentKey(e))throw new Wd(Kd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function D_(e){if(Np.isDocumentKey(e))throw new Wd(Kd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function P_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":zd()}function O_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wd(Kd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=P_(e);throw new Wd(Kd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function L_(e,t){if(t<=0)throw new Wd(Kd.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var M_=function(){function e(t){var n;if(O(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Wd(Kd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wd(Kd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,N_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return M(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),F_=function(){function e(t,n,r){O(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M_({}),this._settingsFrozen=!1,t instanceof Ep?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wd(Kd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ep(e.options.projectId)}(t))}return M(e,[{key:"app",get:function(){if(!this._app)throw new Wd(Kd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Wd(Kd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zd;switch(e.type){case"gapi":var t=e.client;return Bd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Xd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Wd(Kd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=C_.get(e);t&&(Fd("ComponentProvider","Removing Datastore"),C_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function U_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=O_(e,F_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Vd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Pd.MOCK_USER;else{o=te(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Wd(Kd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pd(s)}e._authCredentials=new Qd(new Hd(o,u))}}var V_=function(){function e(t,n,r){O(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return M(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new z_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),j_=function(){function e(t,n,r){O(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return M(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),z_=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this,e,r,jv(i)))._path=i,a.type="collection",a}return M(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new V_(this.firestore,null,new Np(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(j_);function B_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xe(e),A_("collection","path",t),e instanceof F_){var a=dp.fromString.apply(dp,[t].concat(r));return D_(a),new z_(e,null,a)}if(!(e instanceof V_||e instanceof z_))throw new Wd(Kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(dp.fromString.apply(dp,[t].concat(r)));return D_(o),new z_(e.firestore,null,o)}function q_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xe(e),1===arguments.length&&(t=rp.R()),A_("doc","path",t),e instanceof F_){var a=dp.fromString.apply(dp,[t].concat(r));return R_(a),new V_(e,null,new Np(a))}if(!(e instanceof V_||e instanceof z_))throw new Wd(Kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(dp.fromString.apply(dp,[t].concat(r)));return R_(o),new V_(e.firestore,e instanceof z_?e.converter:null,new Np(o))}function K_(e,t){return e=xe(e),t=xe(t),(e instanceof V_||e instanceof z_)&&(t instanceof V_||t instanceof z_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function W_(e,t){return e=xe(e),t=xe(t),e instanceof j_&&t instanceof j_&&e.firestore===t.firestore&&Hv(e._query,t._query)&&e.converter===t.converter}var G_=function(){function e(){var t=this;O(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new zb(this,"async_queue_retry"),this.Qa=function(){var e=Vb();e&&Fd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Vb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return M(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Vb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new Gd;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=Ee(_e().mark((function e(){var t=this;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),pg(e.t0)){e.next=12;break}throw e.t0;case 12:Fd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ud("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=Lw.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&zd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=Ee(_e().mark((function e(){var t;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=U(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=U(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function H_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=U(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Z_=function(){function e(){O(this,e),this._progressObserver={},this._taskCompletionResolver=new Gd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return M(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Q_=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new G_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return M(n,[{key:"_terminate",value:function(){return this._firestoreClient||$_(this),this._firestoreClient.terminate()}}]),n}(F_);function Y_(e){return e._firestoreClient||$_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Sp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new f_(e._authCredentials,e._appCheckCredentials,e._queue,r)}function X_(e,t,n){var r=new Gd;return e.asyncQueue.enqueue(Ee(_e().mark((function i(){return _e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,h_(e,n);case 3:return i.next=5,p_(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Kd.FAILED_PRECONDITION||e.code===Kd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function J_(e){return function(e){return e.asyncQueue.enqueue(Ee(_e().mark((function t(){var n,r;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b_(e);case 2:return n=t.sent,t.next=5,x_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=qd(e);return t.wu.delete(0),Zb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Y_(e=O_(e,Q_)))}function eI(e){return function(e){return e.asyncQueue.enqueue(Ee(_e().mark((function t(){var n,r;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b_(e);case 2:return n=t.sent,t.next=5,x_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qd(t)).wu.add(0),e.next=4,Yb(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Y_(e=O_(e,Q_)))}function tI(e,t){var n=Y_(e=O_(e,Q_)),r=new Z_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new s_(e,t)}(function(e,t){if(e instanceof Uint8Array)return o_(e,t);if(e instanceof ArrayBuffer)return o_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,jb(t));e.asyncQueue.enqueueAndForget(Ee(_e().mark((function t(){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=t_,t.next=3,__(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function nI(e,t){return function(e,t){return e.asyncQueue.enqueue(Ee(_e().mark((function n(){return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=qd(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,w_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Y_(e=O_(e,Q_)),t).then((function(t){return t?new j_(e,null,t.query):null}))}function rI(e){if(e._initialized||e._terminated)throw new Wd(Kd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var iI=function(){function e(){O(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vp(n)}return M(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var aI=function(){function e(t){O(this,e),this._byteString=t}return M(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(yp.fromBase64String(t))}catch(t){throw new Wd(Kd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(yp.fromUint8Array(t))}}]),e}(),oI=M((function e(t){O(this,e),this._methodName=t})),uI=function(){function e(t,n){if(O(this,e),!isFinite(t)||t<-90||t>90)throw new Wd(Kd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Wd(Kd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return M(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ip(this._lat,e._lat)||ip(this._long,e._long)}}]),e}(),sI=/^__.*__$/,cI=function(){function e(t,n,r){O(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return M(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Em(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sm(e,this.data,t,this.fieldTransforms)}}]),e}(),lI=function(){function e(t,n,r){O(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return M(e,[{key:"toMutation",value:function(e,t){return new Em(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function fI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zd()}}var hI=function(){function e(t,n,r,i,a,o){O(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return M(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return DI(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(fI(this.ec)&&sI.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),dI=function(){function e(t,n,r){O(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||jb(t)}return M(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hI({ec:e,methodName:t,hc:n,path:vp.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function pI(e){var t=e._freezeSettings(),n=jb(e._databaseId);return new dI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);CI("Data must be an object, but it was:",o,r);var u,s,c=EI(r,o);if(a.merge)u=new mp(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=U(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=AI(t,d,n);if(!o.contains(p))throw new Wd(Kd.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));PI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new mp(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new cI(new Xp(c),u,s)}var mI=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.apply(this,arguments)}return M(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(oI);function yI(e,t,n){return new hI({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var gI=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.apply(this,arguments)}return M(n,[{key:"_toFieldTransform",value:function(e){return new vm(e.path,new um)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(oI),kI=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e)).fc=r,i}return M(n,[{key:"_toFieldTransform",value:function(e){var t=yI(this,e,!0),n=this.fc.map((function(e){return SI(e,t)})),r=new sm(n);return new vm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(oI),bI=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e)).fc=r,i}return M(n,[{key:"_toFieldTransform",value:function(e){var t=yI(this,e,!0),n=this.fc.map((function(e){return SI(e,t)})),r=new lm(n);return new vm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(oI),wI=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e)).dc=r,i}return M(n,[{key:"_toFieldTransform",value:function(e){var t=new hm(e.M,nm(e.M,this.dc));return new vm(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(oI);function xI(e,t,n,r){var i=e.lc(1,t,n);CI("Data must be an object, but it was:",i,r);var a=[],o=Xp.empty();lp(r,(function(e,r){var u=RI(t,e,n);r=xe(r);var s=i.oc(u);if(r instanceof mI)a.push(u);else{var c=SI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new mp(a);return new lI(o,u,i.fieldTransforms)}function _I(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[AI(t,r,n)],s=[i];if(a.length%2!=0)throw new Wd(Kd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(AI(t,a[c])),s.push(a[c+1]);for(var l=[],f=Xp.empty(),h=u.length-1;h>=0;--h)if(!PI(l,u[h])){var d=u[h],p=s[h];p=xe(p);var v=o.oc(d);if(p instanceof mI)l.push(d);else{var m=SI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new mp(l);return new lI(f,y,o.fieldTransforms)}function II(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return SI(n,e.lc(r?4:3,t))}function SI(e,t){if(TI(e=xe(e)))return CI("Unsupported field value:",t,e),EI(e,t);if(e instanceof oI)return function(e,t){if(!fI(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=U(e);try{for(a.s();!(n=a.n()).done;){var o=SI(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=xe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nm(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=up.fromDate(e);return{timestampValue:oy(t.M,n)}}if(e instanceof up){var r=new up(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:oy(t.M,r)}}if(e instanceof uI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof aI)return{bytesValue:uy(t.M,e._byteString)};if(e instanceof V_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ly(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(P_(e)))}(e,t)}function EI(e,t){var n={};return fp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lp(e,(function(e,r){var i=SI(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function TI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof up||e instanceof uI||e instanceof aI||e instanceof V_||e instanceof oI)}function CI(e,t,n){if(!TI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=P_(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function AI(e,t,n){if((t=xe(t))instanceof iI)return t._internalPath;if("string"==typeof t)return RI(e,t);throw DI("Field path arguments must be of type string or ",e,!1,void 0,n)}var NI=new RegExp("[~\\*/\\[\\]]");function RI(e,t,n){if(t.search(NI)>=0)throw DI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return H(iI,(0,Ie.Z)(t.split(".")))._internalPath}catch(r){throw DI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function DI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Wd(Kd.INVALID_ARGUMENT,u+e+s)}function PI(e,t){return e.some((function(e){return e.isEqual(t)}))}var OI=function(){function e(t,n,r,i,a){O(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return M(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new V_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(MI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),LI=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.apply(this,arguments)}return M(n,[{key:"data",value:function(){return rn(B(n.prototype),"data",this).call(this)}}]),n}(OI);function MI(e,t){return"string"==typeof t?RI(e,t):t instanceof iI?t._internalPath:t._delegate._internalPath}var FI=function(){function e(t,n){O(this,e),this.hasPendingWrites=t,this.fromCache=n}return M(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),UI=function(e){z(n,e);var t=G(n);function n(e,r,i,a,o,u){var s;return O(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return M(n,[{key:"exists",value:function(){return rn(B(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new VI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(MI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(OI),VI=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.apply(this,arguments)}return M(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rn(B(n.prototype),"data",this).call(this,e)}}]),n}(UI),jI=function(){function e(t,n,r,i){O(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new FI(i.hasPendingWrites,i.fromCache),this.query=r}return M(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new VI(n._firestore,n._userDataWriter,r.key,r,new FI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wd(Kd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new VI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new VI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function zI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zd()}}function BI(e,t){return e instanceof UI&&t instanceof UI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jI&&t instanceof jI&&e._firestore===t._firestore&&W_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function qI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Wd(Kd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var KI=M((function e(){O(this,e)}));function WI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var GI=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return M(n,[{key:"_apply",value:function(e){var t=pI(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){rS(o,a);var s,c=[],l=U(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(nS(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=nS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||rS(o,a),u=II(n,"where",o,"in"===a||"not-in"===a);var h=Iv.create(i,a,u);return function(e,t){if(t.S()){var n=Bv(e);if(null!==n&&!n.isEqual(t.field))throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=zv(e);null!==r&&iS(e,t.field,r)}var i=function(e,t){var n,r=U(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Wd(Kd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wd(Kd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new j_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Uv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(KI);var HI=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return M(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ov(t,n);return function(e,t){if(null===zv(e)){var n=Bv(e);null!==n&&iS(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new j_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Uv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(KI);var ZI=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return M(n,[{key:"_apply",value:function(e){return new j_(e.firestore,e.converter,Gv(e._query,this.yc,this.Ic))}}]),n}(KI);var QI=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return M(n,[{key:"_apply",value:function(e){var t=tS(e,this.type,this.Tc,this.Ec);return new j_(e.firestore,e.converter,function(e,t){return new Uv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(KI);function YI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QI("startAt",t,!0)}function $I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QI("startAfter",t,!1)}var XI=function(e){z(n,e);var t=G(n);function n(e,r,i){var a;return O(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return M(n,[{key:"_apply",value:function(e){var t=tS(e,this.type,this.Tc,this.Ec);return new j_(e.firestore,e.converter,function(e,t){return new Uv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(KI);function JI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XI("endBefore",t,!1)}function eS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XI("endAt",t,!0)}function tS(e,t,n,r){if(n[0]=xe(n[0]),n[0]instanceof OI)return function(e,t,n,r,i){if(!r)throw new Wd(Kd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=U(Kv(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(jp(t,r.key));else{var c=r.data.field(s.field);if(xp(c))throw new Wd(Kd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Pv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=pI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Wd(Kd.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!qv(e)&&-1!==c.indexOf("/"))throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(dp.fromString(c));if(!Np.isDocumentKey(l))throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Np(l);u.push(jp(t,f))}else{var h=II(n,r,c);u.push(h)}}return new Pv(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function nS(e,t,n){if("string"==typeof(n=xe(n))){if(""===n)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qv(t)&&-1!==n.indexOf("/"))throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(dp.fromString(n));if(!Np.isDocumentKey(r))throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return jp(e,new Np(r))}if(n instanceof V_)return jp(e,n._key);throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(P_(n),"."))}function rS(e,t){if(!Array.isArray(e)||0===e.length)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function iS(e,t,n){if(!n.isEqual(t))throw new Wd(Kd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var aS={maxAttempts:5},oS=function(){function e(){O(this,e)}return M(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Pp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return lp(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new uI(bp(e.latitude),bp(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=_p(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ip(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=kp(e);return new up(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=dp.fromString(e);Bd(Oy(n));var r=new Ep(n.get(1),n.get(3)),i=new Np(n.popFirst(5));return r.isEqual(t)||Ud("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function uS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var sS=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this)).firestore=e,r}return M(n,[{key:"convertBytes",value:function(e){return new aI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new V_(this.firestore,null,t)}}]),n}(oS),cS=function(){function e(t,n){O(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pI(t)}return M(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=lS(e,this._firestore),i=uS(r.converter,t,n),a=vI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ym.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=lS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=xe(t))||t instanceof iI?_I(this._dataReader,"WriteBatch.update",i._key,t,n,o):xI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ym.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=lS(e,this._firestore);return this._mutations=this._mutations.concat(new Dm(t._key,ym.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Wd(Kd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function lS(e,t){if((e=xe(e)).firestore!==t)throw new Wd(Kd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var fS=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this)).firestore=e,r}return M(n,[{key:"convertBytes",value:function(e){return new aI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new V_(this.firestore,null,t)}}]),n}(oS);function hS(e){e=O_(e,V_);var t=O_(e.firestore,Q_),n=Y_(t),r=new fS(t);return function(e,t){var n=new Gd;return e.asyncQueue.enqueueAndForget(Ee(_e().mark((function r(){return _e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ee(_e().mark((function e(t,n,r){var i,a;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=qd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Wd(Kd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Mw(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,w_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new UI(t,r,e._key,n,new FI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function dS(e){e=O_(e,j_);var t=O_(e.firestore,Q_),n=Y_(t),r=new fS(t);return function(e,t){var n=new Gd;return e.asyncQueue.enqueueAndForget(Ee(_e().mark((function r(){return _e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ee(_e().mark((function e(t,n,r){var i,a,o,u,s;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ib(t,n,!0);case 3:i=e.sent,a=new nx(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Mw(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,w_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new jI(t,r,e,n)}))}function pS(e,t,n){e=O_(e,V_);var r=O_(e.firestore,Q_),i=uS(e.converter,t,n);return gS(r,[vI(pI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ym.none())])}function vS(e,t,n){e=O_(e,V_);for(var r=O_(e.firestore,Q_),i=pI(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return gS(r,[("string"==typeof(t=xe(t))||t instanceof iI?_I(i,"updateDoc",e._key,t,n,o):xI(i,"updateDoc",e._key,t)).toMutation(e._key,ym.exists(!0))])}function mS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=xe(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||H_(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(H_(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof V_)l=O_(e.firestore,Q_),f=jv(e._key.path),c={next:function(t){n[s]&&n[s](kS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=O_(e,j_);l=O_(p.firestore,Q_),f=p._query;var v=new fS(l);c={next:function(e){n[s]&&n[s](new jI(l,v,p,e))},error:n[s+1],complete:n[s+2]},qI(e._query)}return function(e,t,n,r){var i=new u_(r),a=new Qw(t,i,n);return e.asyncQueue.enqueueAndForget(Ee(_e().mark((function t(){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bw,t.next=3,I_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(Ee(_e().mark((function t(){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Kw,t.next=3,I_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Y_(l),f,h,c)}function yS(e,t){return function(e,t){var n=new u_(t);return e.asyncQueue.enqueueAndForget(Ee(_e().mark((function t(){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qd(e).bu.add(t),t.next()},t.next=3,I_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(Ee(_e().mark((function t(){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qd(e).bu.delete(t)},t.next=3,I_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Y_(e=O_(e,Q_)),H_(t)?t:{next:t})}function gS(e,t){return function(e,t){var n=new Gd;return e.asyncQueue.enqueueAndForget(Ee(_e().mark((function r(){return _e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=hx,r.next=3,__(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Y_(e),t)}function kS(e,t,n){var r=n.docs.get(t._key),i=new fS(e);return new UI(e,i,t._key,r,new FI(n.hasPendingWrites,n.fromCache),t.converter)}var bS=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,r))._firestore=e,i}return M(n,[{key:"get",value:function(e){var t=this,r=lS(e,this._firestore),i=new fS(this._firestore);return rn(B(n.prototype),"get",this).call(this,e).then((function(e){return new UI(t._firestore,i,r._key,e._document,new FI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){O(this,e),this._firestore=t,this._transaction=n,this._dataReader=pI(t)}return M(e,[{key:"get",value:function(e){var t=this,n=lS(e,this._firestore),r=new sS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return zd();var i=e[0];if(i.isFoundDocument())return new OI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new OI(t._firestore,r,n._key,null,n.converter);throw zd()}))}},{key:"set",value:function(e,t,n){var r=lS(e,this._firestore),i=uS(r.converter,t,n),a=vI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=lS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=xe(t))||t instanceof iI?_I(this._dataReader,"Transaction.update",i._key,t,n,o):xI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=lS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function wS(e,t,n){e=O_(e,Q_);var r=Object.assign(Object.assign({},aS),n);return function(e){if(e.maxAttempts<1)throw new Wd(Kd.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Gd;return e.asyncQueue.enqueueAndForget(Ee(_e().mark((function i(){var a;return _e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return g_(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new l_(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Y_(e),(function(n){return t(new bS(e,n))}),r)}function xS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kI("arrayUnion",t)}function _S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Od=e}(xt),vt(new Te("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Q_(i,new Yd(e.getProvider("auth-internal")),new ep(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ct(Dd,"3.4.9",e),Ct(Dd,"3.4.9","esm2017")}();function IS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Wd("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function SS(){if("undefined"===typeof Uint8Array)throw new Wd("unimplemented","Uint8Arrays are not available in this environment.")}function ES(){if("undefined"==typeof atob)throw new Wd("unimplemented","Blobs are unavailable in Firestore in this environment.")}var TS=function(){function e(t){O(this,e),this._delegate=t}return M(e,[{key:"toBase64",value:function(){return ES(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return SS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return ES(),new e(aI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return SS(),new e(aI.fromUint8Array(t))}}]),e}();function CS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=U(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var AS=function(){function e(){O(this,e)}return M(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){rI(e=O_(e,Q_));var n=Y_(e),r=e._freezeSettings(),i=new a_;return X_(n,i,new r_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){rI(e=O_(e,Q_));var t=Y_(e),n=e._freezeSettings(),r=new a_;return X_(t,r,new i_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Wd(Kd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Gd;return e._queue.enqueueAndForgetEvenWhileRestricted(Ee(_e().mark((function n(){return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ee(_e().mark((function e(t){var n;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fg.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,fg.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Bk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),NS=function(){function e(t,n,r){var i=this;O(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ep||(this._appCompat=t)}return M(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Vd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};U_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return J_(this._delegate)}},{key:"disableNetwork",value:function(){return eI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&N_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Gd;return e.asyncQueue.enqueueAndForget(Ee(_e().mark((function n(){return _e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=_x,n.next=3,__(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Y_(e=O_(e,Q_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return yS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Wd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new KS(this,B_(this._delegate,e))}catch(t){throw MS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new LS(this,q_(this._delegate,e))}catch(t){throw MS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new zS(this,function(e,t){if(e=O_(e,F_),A_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Wd(Kd.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new j_(e,null,function(e){return new Uv(dp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw MS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return wS(this._delegate,(function(n){return e(new DS(t,n))}))}},{key:"batch",value:function(){var e=this;return Y_(this._delegate),new PS(new cS(this._delegate,(function(t){return gS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return tI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return nI(this._delegate,e).then((function(e){return e?new zS(t,e):null}))}}]),e}(),RS=function(e){z(n,e);var t=G(n);function n(e){var r;return O(this,n),(r=t.call(this)).firestore=e,r}return M(n,[{key:"convertBytes",value:function(e){return new TS(new aI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return LS.forKey(t,this.firestore,null)}}]),n}(oS);var DS=function(){function e(t,n){O(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new RS(t)}return M(e,[{key:"get",value:function(e){var t=this,n=WS(e);return this._delegate.get(n).then((function(e){return new VS(t._firestore,new UI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=WS(e);return n?(IS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=WS(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=WS(e);return this._delegate.delete(t),this}}]),e}(),PS=function(){function e(t){O(this,e),this._delegate=t}return M(e,[{key:"set",value:function(e,t,n){var r=WS(e);return n?(IS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=WS(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=WS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),OS=function(){function e(t,n,r){O(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return M(e,[{key:"fromFirestore",value:function(e,t){var n=new VI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new RS(t),n),i.set(n,a)),a}}]),e}();OS.INSTANCES=new WeakMap;var LS=function(){function e(t,n){O(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new RS(t)}return M(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new KS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new KS(this.firestore,B_(this._delegate,e))}catch(t){throw MS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=xe(e))instanceof V_&&K_(this._delegate,e)}},{key:"set",value:function(e,t){t=IS("DocumentReference.set",t);try{return t?pS(this._delegate,e,t):pS(this._delegate,e)}catch(n){throw MS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?vS(this._delegate,e):vS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw MS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return gS(O_(e.firestore,Q_),[new Dm(e._key,ym.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=FS(n),a=US(n,(function(t){return new VS(e.firestore,new UI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return mS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?hS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=O_(e,V_);var t=O_(e.firestore,Q_);return E_(Y_(t),e._key,{source:"server"}).then((function(n){return kS(t,e,n)}))}(this._delegate):function(e){e=O_(e,V_);var t=O_(e.firestore,Q_);return E_(Y_(t),e._key).then((function(n){return kS(t,e,n)}))}(this._delegate),t.then((function(e){return new VS(n.firestore,new UI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(OS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Wd("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new V_(n._delegate,r,new Np(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new V_(n._delegate,r,t))}}]),e}();function MS(e,t,n){return e.message=e.message.replace(t,n),e}function FS(e){var t,n=U(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!CS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function US(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=CS(e[0])?e[0]:CS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var VS=function(){function e(t,n){O(this,e),this._firestore=t,this._delegate=n}return M(e,[{key:"ref",get:function(){return new LS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return BI(this._delegate,e._delegate)}}]),e}(),jS=function(e){z(n,e);var t=G(n);function n(){return O(this,n),t.apply(this,arguments)}return M(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||zd()}(void 0!==t),t}}]),n}(VS),zS=function(){function e(t,n){O(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new RS(t)}return M(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,WI(this._delegate,function(e,t,n){var r=t,i=MI("where",e);return new GI(i,r,n)}(t,n,r)))}catch(i){throw MS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,WI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=MI("orderBy",e);return new HI(n,t)}(t,n)))}catch(r){throw MS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,WI(this._delegate,function(e){return L_("limit",e),new ZI("limit",e,"F")}(t)))}catch(n){throw MS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,WI(this._delegate,function(e){return L_("limitToLast",e),new ZI("limitToLast",e,"L")}(t)))}catch(n){throw MS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,WI(this._delegate,YI.apply(void 0,arguments)))}catch(t){throw MS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,WI(this._delegate,$I.apply(void 0,arguments)))}catch(t){throw MS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,WI(this._delegate,JI.apply(void 0,arguments)))}catch(t){throw MS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,WI(this._delegate,eS.apply(void 0,arguments)))}catch(t){throw MS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return W_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?dS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=O_(e,j_);var t=O_(e.firestore,Q_),n=Y_(t),r=new fS(t);return T_(n,e._query,{source:"server"}).then((function(n){return new jI(t,r,e,n)}))}(this._delegate):function(e){e=O_(e,j_);var t=O_(e.firestore,Q_),n=Y_(t),r=new fS(t);return qI(e._query),T_(n,e._query).then((function(n){return new jI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new qS(n.firestore,new jI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=FS(n),a=US(n,(function(t){return new qS(e.firestore,new jI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return mS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(OS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),BS=function(){function e(t,n){O(this,e),this._firestore=t,this._delegate=n}return M(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new jS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),qS=function(){function e(t,n){O(this,e),this._firestore=t,this._delegate=n}return M(e,[{key:"query",get:function(){return new zS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new jS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new BS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new jS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return BI(this._delegate,e._delegate)}}]),e}(),KS=function(e){z(n,e);var t=G(n);function n(e,r){var i;return O(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return M(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new LS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new LS(this.firestore,void 0===e?q_(this._delegate):q_(this._delegate,e))}catch(t){throw MS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=O_(e.firestore,Q_),r=q_(e),i=uS(e.converter,t);return gS(n,[vI(pI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ym.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new LS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return K_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(OS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(zS);function WS(e){return O_(e,V_)}var GS=function(){function e(){O(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=H(iI,n)}return M(e,[{key:"isEqual",value:function(e){return(e=xe(e))instanceof iI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(vp.keyField().canonicalString())}}]),e}(),HS=function(){function e(t){O(this,e),this._delegate=t}return M(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new gI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new mI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=xS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=_S.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new wI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ZS={Firestore:NS,GeoPoint:uI,Timestamp:up,Blob:TS,Transaction:DS,WriteBatch:PS,DocumentReference:LS,DocumentSnapshot:VS,Query:zS,QueryDocumentSnapshot:jS,QuerySnapshot:qS,CollectionReference:KS,FieldPath:GS,FieldValue:HS,setLogLevel:function(e){!function(e){Ld.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Te("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ZS)))}(e,(function(e,t){return new NS(e,t,new AS)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(Xt);var QS=Xt.initializeApp({apiKey:"AIzaSyAZKR6Rgvvqzhvn__VLBjxG2kMLKufsTEU",authDomain:"video-app-5d9a7.firebaseapp.com",projectId:"video-app-5d9a7",storageBucket:"video-app-5d9a7.appspot.com",messagingSenderId:"363135993649",appId:"1:363135993649:web:0be00c7fa3249799eb9210",measurementId:"G-LNV71YE1JM"}).firestore();var YS=function(){var e=(0,t.useState)([]),n=(0,i.Z)(e,2),r=n[0],a=n[1];return(0,t.useEffect)((function(){QS.collection("videos").onSnapshot((function(e){return a(e.docs.map((function(e){return e.data()})))}))}),[]),(0,S.jsx)("div",{className:"app",children:(0,S.jsx)("div",{className:"app__videos",children:r.map((function(e){var t=e.url,n=e.channel,r=e.description,i=e.song,a=e.likes,o=e.messages,u=e.shares;return(0,S.jsx)(D,{url:t,channel:n,song:i,likes:a,messages:o,description:r,shares:u})}))})})},$S=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,S.jsx)(t.StrictMode,{children:(0,S.jsx)(YS,{})})),$S()}()}();
//# sourceMappingURL=main.19784e75.js.map